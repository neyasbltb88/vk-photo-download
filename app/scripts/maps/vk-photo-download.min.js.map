{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/scripts/modules/handlers.js","app/scripts/modules/photo-download.js","app/scripts/modules/storage.js","app/scripts/modules/template-css.js","app/scripts/modules/template-html.js","app/scripts/modules/templates.js","app/scripts/vk-photo-download.js","node_modules/downloadjs/download.js"],"names":[],"mappings":"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,CAAC,GAAL,CAAS,KAA5B,EADa,CAEb;AACH,OAHS,EAGP,CAHO,CAAV;AAKA,MAAA,MAAM,CAAC,WAAP,CAAmB,IAAnB;AAEA,aAAO,IAAP;AACH,K,CAED;;;;oCACgB;AACZ,aAAO,KAAK,aAAZ;AACH,K,CAED;;;;sCACkB;AACd,aAAO,KAAK,YAAZ;AACH;;;;;;;;;;;AClHL;;;;AAGA,MAAM,CAAC,aAAP,GAAuB,IAAI,sBAAJ,CAAkB;AACrC,EAAA,QAAQ,EAAE;AAD2B,CAAlB,CAAvB;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../vk-photo-download.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import Download from 'downloadjs';\r\n\r\n// Класс для управления обработчиками внутри кнопки\r\nexport default class HandlersManager {\r\n    constructor(params = {}) {\r\n            // Переданный инстанс главного класса\r\n            this.PhotoDownload = params.PhotoDownload;\r\n\r\n            // Переданный объект селекторов\r\n            this.sel = params.selectors;\r\n\r\n            // Переданный объект таймингов\r\n            this.timings = params.timings;\r\n\r\n            // Тип события по умолчанию для обработчиков\r\n            this.default_event_name = 'click';\r\n\r\n            // Объект с перечислением всех возможных обработчиков\r\n            this.handlers = {\r\n                preventHandler: this._preventHandler.bind(this),\r\n                newTabHandler: this._newTabHandler.bind(this),\r\n                downloadHandler: this._downloadHandler.bind(this),\r\n                startTimer: this._startTimer.bind(this),\r\n                checkTimer: this._checkTimer.bind(this),\r\n                closeTimingSettings: () => this.PhotoDownload.state.settings = 'close_timing',\r\n                downloadModeHandler: this._downloadModeHandler.bind(this),\r\n            }\r\n\r\n            this.timers = {\r\n                delay: null,\r\n                open: null,\r\n            };\r\n        } // constructor\r\n\r\n    setSettingsState() {\r\n        let wrap = this.PhotoDownload.wrap;\r\n        if (!wrap) return false;\r\n\r\n        let download_mode = this.PhotoDownload.settings.download_mode.toString();\r\n        let download_mode_block = wrap.querySelector('.' + this.sel.get('sett.download_mode'));\r\n        let download_mode_control = download_mode_block.querySelector(`input[value=${download_mode}]`);\r\n        download_mode_control.checked = true;\r\n    }\r\n\r\n    setHandlers() {\r\n        let wrap = this.PhotoDownload.wrap;\r\n        if (!wrap) return false;\r\n\r\n        let btn = wrap.querySelector('.' + this.sel.get('btn.btn'));\r\n\r\n        this.set(btn, 'startTimer', 'mousedown');\r\n        this.set(btn, 'checkTimer', 'mouseup');\r\n        this.set(btn, 'checkTimer', 'mouseleave');\r\n        this.set(btn, 'preventHandler', 'click');\r\n\r\n        let settings_wrap = wrap.querySelector('.' + this.sel.get('sett.settings_wrap'));\r\n        this.set(settings_wrap, 'closeWatcher', 'transitionend');\r\n\r\n        let btn_close = wrap.querySelector('.' + this.sel.get('sett.settings_header_ico'));\r\n        this.set(btn_close, 'closeTimingSettings', 'click');\r\n\r\n        let download_mode = wrap.querySelector('.' + this.sel.get('sett.download_mode'));\r\n        this.set(download_mode, 'downloadModeHandler', 'change');\r\n    }\r\n\r\n    applyState() {\r\n        let state = this.PhotoDownload.state;\r\n\r\n        switch (state.settings) {\r\n            case 'open_timing':\r\n                this._openTimingSettings();\r\n                break;\r\n\r\n            case 'open':\r\n                this._openSettings();\r\n                break;\r\n\r\n            case 'close_timing':\r\n                this._closeTimingSettings();\r\n                break;\r\n\r\n            case 'close':\r\n                this._closeSettings();\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    _startTimer(e) {\r\n        if (e.which !== 1) return false;\r\n\r\n        if (this.PhotoDownload.state.settings == 'close') {\r\n            this.timers.delay = setTimeout(() => {\r\n                this.PhotoDownload.state.settings = 'open_timing';\r\n\r\n                this.timers.open = setTimeout(() => {\r\n                    this.PhotoDownload.state.settings = 'open';\r\n                }, this.timings.open);\r\n\r\n            }, this.timings.delay);\r\n        } else if (this.PhotoDownload.state.settings == 'open') {\r\n            setTimeout(() => {\r\n                if (this.PhotoDownload.state.settings == 'open') {\r\n                    this.PhotoDownload.state.settings = 'close_timing';\r\n                }\r\n            }, this.timings.delay);\r\n\r\n        }\r\n    }\r\n\r\n    _checkTimer(e) {\r\n        // Если нажата не левая кнопка мыши, то выходим\r\n        if (e.which !== 1) return false;\r\n\r\n        // Если быстрый клин и настройки закрыты, то будет обработчик скачивания\r\n        if (this.timers.delay && !this.timers.open && this.PhotoDownload.state.settings == 'close') {\r\n\r\n            // Тут действие для простого клика\r\n            // В зависимости от флага вешаем либо обработчик скачивания, либо открытия новой вкладки\r\n            if (this.PhotoDownload.settings.download_mode) {\r\n                this.set(e.currentTarget, 'downloadHandler');\r\n            } else {\r\n                this.set(e.currentTarget, 'newTabHandler');\r\n            }\r\n        }\r\n\r\n        // Если быстрый клик и настройки открыты, то будет обработчик закрытия настроек\r\n        if (this.timers.delay && !this.timers.open && this.PhotoDownload.state.settings == 'open') {\r\n            this.PhotoDownload.state.settings = 'close_timing';\r\n        }\r\n\r\n        // Долгий клик и настройки открыты\r\n        if (this.timers.delay && this.timers.open && this.PhotoDownload.state.settings == 'open') {\r\n            // // Здесь настройки должны быть уже открыты и для события клика, \r\n            // // которое будет сразу после этого mouseup, блокируем действие\r\n            this.set(e.currentTarget, 'preventHandler');\r\n        }\r\n\r\n        if (this.PhotoDownload.state.settings == 'open_timing') {\r\n            this.set(e.currentTarget, 'preventHandler');\r\n            this.PhotoDownload.state.settings = 'close_timing';\r\n        }\r\n\r\n        // Обнуляем все таймеры для следующего раза\r\n        clearTimeout(this.timers.delay);\r\n        this.timers.delay = null;\r\n        clearTimeout(this.timers.open);\r\n        this.timers.open = null;\r\n    }\r\n\r\n    // Запуск открытия настроек\r\n    _openTimingSettings() {\r\n        this.PhotoDownload.wrap.classList.add(this.sel.icon_cog);\r\n        this.PhotoDownload.wrap\r\n            .querySelector('.cog')\r\n            .classList.add(this.sel.draw);\r\n    }\r\n\r\n    // Настройки открыты\r\n    _openSettings() {\r\n        this._openTimingSettings();\r\n        this.PhotoDownload.wrap.classList.add(this.sel.icon_cog);\r\n        this.PhotoDownload.wrap\r\n            .querySelector('.cog')\r\n            .classList.add(this.sel.draw_fill, this.sel.draw);\r\n        this.PhotoDownload.wrap.classList.add(this.sel.settings);\r\n        this.PhotoDownload.wrap.classList.add(this.sel.settings_open);\r\n    }\r\n\r\n    // Запуск закрытия настроек\r\n    _closeTimingSettings(set_state = true) {\r\n        this.PhotoDownload.wrap\r\n            .querySelector('.cog')\r\n            .classList.remove(this.sel.draw, this.sel.draw_fill);\r\n        this.PhotoDownload.wrap.classList.remove(this.sel.settings_open);\r\n\r\n        if (set_state) {\r\n            setTimeout(() => {\r\n                this.PhotoDownload.state.settings = 'close';\r\n            }, this.timings.settings_open);\r\n        }\r\n    }\r\n\r\n    // Настройки закрыты\r\n    _closeSettings() {\r\n        this._closeTimingSettings(false);\r\n        this.PhotoDownload.wrap.classList.remove(this.sel.icon_cog);\r\n        this.PhotoDownload.wrap.classList.remove(this.sel.settings);\r\n    }\r\n\r\n    // Установить один или несколько обработчиков на элемент\r\n    // Если на элементе были другие обработчики - они удаляются\r\n    // В итоге на элементе гарантировано только переданный набор обработчиков\r\n    set(elem, handler_name, event_name = this.default_event_name) {\r\n        if (!elem || !handler_name) return false;\r\n\r\n        let result = true;\r\n\r\n        // Удаляем все уже имеющиеся обработчики\r\n        this.removeAll(elem, event_name);\r\n\r\n        // Ставим нужные\r\n        if (handler_name instanceof Array) {\r\n            handler_name.forEach(name => {\r\n                this.add(elem, name, event_name);\r\n            });\r\n        } else if (typeof handler_name === 'string') {\r\n            this.add(elem, handler_name, event_name);\r\n        } else {\r\n            result = false;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    // Добавить обработчик с переданным именем на элемент\r\n    add(elem, handler_name, event_name = this.default_event_name) {\r\n        if (!elem || !handler_name || !this.getHandler(handler_name)) return false;\r\n\r\n        elem.addEventListener(event_name, this.getHandler(handler_name));\r\n\r\n        return true;\r\n    }\r\n\r\n    // Удалить обработчик с переданным именем с элемента\r\n    remove(elem, handler_name, event_name = this.default_event_name) {\r\n        if (!elem || !handler_name || !this.getHandler(handler_name)) return false;\r\n\r\n        elem.removeEventListener(event_name, this.getHandler(handler_name));\r\n\r\n        return true;\r\n    }\r\n\r\n    // Удалить все обработчики с элемента\r\n    removeAll(elem, event_name = this.default_event_name) {\r\n        if (!elem) return false;\r\n\r\n        for (let handler in this.handlers) {\r\n            elem.removeEventListener(event_name, this.getHandler(handler));\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    // Получить имена всех обработчиков\r\n    getHandlersNames() {\r\n        return Object.keys(this.handlers);\r\n    }\r\n\r\n    // Получить объект всех функций-обработчиков\r\n    getHandlers() {\r\n        return this.handlers;\r\n    }\r\n\r\n    // Получить функцию-обработчик\r\n    getHandler(handler_name) {\r\n        return this.handlers[handler_name];\r\n    }\r\n\r\n    // === Обработчики ===\r\n\r\n    // Меняет настройку режима скачивания\r\n    _downloadModeHandler(e) {\r\n        let value = e.target.value;\r\n\r\n        if (value === 'true') {\r\n            this.PhotoDownload.settings.download_mode = true;\r\n        } else if (value === 'false') {\r\n            this.PhotoDownload.settings.download_mode = false;\r\n        }\r\n    }\r\n\r\n    // Отменяет действие браузера\r\n    _preventHandler(e) {\r\n        e.preventDefault();\r\n        return false;\r\n    }\r\n\r\n    // Обработчик кнопки для режима открытия в новой вкладке\r\n    _newTabHandler(e) {\r\n        this.remove(e.currentTarget, 'newTabHandler');\r\n        return true;\r\n    }\r\n\r\n    // Обработчик кнопки для режима скачивания\r\n    _downloadHandler(e) {\r\n        e.preventDefault();\r\n        Download(e.currentTarget.href);\r\n\r\n        this.remove(e.currentTarget, 'downloadHandler');\r\n        return false;\r\n    }\r\n}","import PhotoDownloadTemplates from './templates';\r\nimport HandlersManager from './handlers';\r\nimport SStorage from './storage';\r\n\r\nexport default class PhotoDownload {\r\n    constructor(params = {}) {\r\n        let that = this;\r\n\r\n        // Ссылка, в которую обернута картинка, \r\n        // здесь нужнв для триггера создания/обновления кнопки\r\n        this.imgContainer_id = 'pv_photo';\r\n\r\n        // Объект всех селекторов, использующихся в кнопке\r\n        this.selectors = {\r\n            _prefix: 'PhotoDownload_',\r\n            // id контейнера кнопки\r\n            photoDownload_id: 'PhotoDownload',\r\n            // Контейнер, в котором находится картинка и элементы управления,\r\n            // создавать кнопку будем в нем\r\n            imgContainer_class: 'pv_image_wrap',\r\n            // id, который добавится тегу style\r\n            style_id: 'PhotoDownloadStyle',\r\n\r\n            // Класс-флаг, вешается на .PhotoDownload_size когда нет данных о разрешении\r\n            non_size: 'non_size',\r\n            // Класс-флаг, вешается для плавного opacity кнопки после создания\r\n            ready: 'ready',\r\n\r\n            settings: 'settings',\r\n            settings_open: 'settings_open',\r\n\r\n            draw: 'draw',\r\n            draw_fill: 'draw_fill',\r\n            icon_cog: 'icon_cog',\r\n\r\n            download_mode_true: 'download_mode_true',\r\n            download_mode_false: 'download_mode_false',\r\n\r\n            size_mode_control: 'size_mode_control',\r\n\r\n            sett: {\r\n                settings_wrap: 'settings_wrap',\r\n                settings: 'settings',\r\n                settings_body: 'settings_body',\r\n                download_mode: 'download_mode',\r\n                size_mode: 'size_mode',\r\n                settings_item: 'settings_item',\r\n                settings_item_action: 'settings_item_action',\r\n\r\n                settings_close_ico: 'settings_close_ico',\r\n                settings_section: 'settings_section',\r\n                settings_section_header: 'settings_section_header',\r\n            },\r\n\r\n            btn: {\r\n                // Класс кнопки (тега a)\r\n                btn: 'btn',\r\n                // Класс блока иконки\r\n                icon: 'icon',\r\n                main_title_wrap: 'main_title_wrap',\r\n                main_title_inner: 'main_title_inner',\r\n                // Класс блока, в котором отображается разрешение картинки\r\n                size: 'size',\r\n                settings_title: 'settings_title',\r\n            },\r\n            // Метод получения селектора\r\n            get(sel) {\r\n                sel = sel.split('.');\r\n                let error = false;\r\n                let res = this;\r\n\r\n                // Если селектор на верхнем уровне объекта, он отдается как есть\r\n                if (sel.length === 1) {\r\n                    res = this[sel];\r\n                } else if (sel.length > 1) {\r\n                    // Иначе получаем селектор из вложенных уровней\r\n                    sel.forEach(part => {\r\n                        try {\r\n                            res = res[part];\r\n                        } catch (err) {\r\n                            error = true;\r\n                        }\r\n                    })\r\n\r\n                    // И если селектор существует, дописываем к нему префикс\r\n                    res = (error || !res) ? undefined : this._prefix + res;\r\n                }\r\n\r\n                return res;\r\n            }\r\n        };\r\n\r\n        // Объект с описанием обработчиков\r\n        this.triggers = {\r\n            mouseover: [\r\n                // Селектор ссылки, в которую обернута картинка в просмотрщике\r\n                {\r\n                    type: 'id',\r\n                    selector: this.imgContainer_id,\r\n                    // При наведении на контейнер картинки, будем обновлять(создавать) кнопку\r\n                    handler: this._updateBtn,\r\n                    child: true,\r\n                },\r\n                // Селектор родительского блока кнопки\r\n                {\r\n                    type: 'class',\r\n                    selector: this.selectors.PhotoDownload_btn,\r\n                    // При наведении на саму кнопку, будем обновлять в ней данные\r\n                    handler: this._updateBtn,\r\n                    child: true,\r\n                },\r\n            ], // Конец mouseover\r\n        };\r\n\r\n        // Настройки поведения кнопки\r\n        this.settings = {\r\n            // download_mode - флаг, задающий поведение клика по кнопке\r\n            // Если true, то картинка будет скачиваться\r\n            // Если false, то картинка будет открываться в новой вкладке\r\n            _download_mode: params.download,\r\n            get download_mode() {\r\n                return this._download_mode;\r\n            },\r\n            set download_mode(val) {\r\n                if (typeof val === 'boolean') {\r\n                    this._download_mode = val;\r\n                    that._saveSettings();\r\n\r\n                    let upd = that._updateBtn(document.querySelector('#' + that.imgContainer_id));\r\n                    if (upd === null) return null;\r\n\r\n                    that.handlers.setSettingsState();\r\n                }\r\n            }, // _download_mode\r\n        };\r\n\r\n        // Визуальное состояние кнопки\r\n        this.state = {\r\n            _settings: 'close',\r\n            get settings() {\r\n                return this._settings;\r\n            },\r\n            set settings(val) {\r\n                if (typeof val === 'string') {\r\n                    this._settings = val;\r\n                    that._saveState();\r\n\r\n                    let upd = that._updateBtn(document.querySelector('#' + that.imgContainer_id));\r\n                    if (upd === null) return null;\r\n\r\n                    that.handlers.applyState();\r\n                }\r\n            }, // _settings\r\n        }\r\n\r\n        // Объект хранения таймингов для синхронизации контроллера и анимаций\r\n        this.timings = {\r\n            delay: 250,\r\n            open: 600,\r\n            settings_open: 250,\r\n            fill: 100,\r\n            btn_transition_opacity: 250,\r\n            btn_transition_transform: 250,\r\n        }\r\n\r\n        // Здесь будет храниться элемент кнопки\r\n        this.wrap = null;\r\n\r\n        // Создаем инстанс шаблонизатора верстки\r\n        this.template = new PhotoDownloadTemplates({\r\n            selectors: this.selectors,\r\n            timings: this.timings,\r\n        });\r\n\r\n        // Создаем инстанс контроллера событий внутри кнопки\r\n        this.handlers = new HandlersManager({\r\n            PhotoDownload: this,\r\n            selectors: this.selectors,\r\n            timings: this.timings,\r\n        });\r\n\r\n        // Создаем инстанс хранилища\r\n        this.storage = new SStorage({\r\n            // 'PhotoDownload'\r\n            name: this.selectors.photoDownload_id,\r\n            default: {\r\n                settings: this.settings,\r\n                state: this.state,\r\n            }\r\n        });\r\n\r\n\r\n        // Точка входа\r\n        this.init();\r\n    }\r\n\r\n    // Метод обновления данных в кнопке\r\n    _updateBtn(elem) {\r\n        if (!elem) return null;\r\n        this.parent = elem.closest('.' + this.selectors.imgContainer_class);\r\n        if (!this.parent) return null;\r\n\r\n        // Если в родительском контейнере еще нет кнопки\r\n        if (!this.parent.querySelector('#' + this.selectors.photoDownload_id)) {\r\n            // то создадим ее\r\n            this.wrap = this.template.createDownloadContainer(this.parent);\r\n\r\n            // Применим состояние настроек\r\n            this.handlers.setSettingsState();\r\n\r\n            // Применим состояние кнопки\r\n            this.handlers.applyState();\r\n\r\n            // Повесим на нее обработчики\r\n            this.handlers.setHandlers();\r\n        }\r\n\r\n        let btn = this.wrap.querySelector('.' + this.selectors.get('btn.btn'));\r\n        let size = this.wrap.querySelector('.' + this.selectors.get('btn.size'));\r\n\r\n        // Получаем из недр ВК информацию о максимальной версии открытой в просмотрщике картинки\r\n        let image_data = window.Photoview.genData(window.cur.pvCurPhoto);\r\n\r\n        // Если ссылка в кнопке не та, которая нужна сейчас\r\n        if (btn.href !== image_data.src) {\r\n            // Обновим ссылку в кнопке\r\n            btn.href = image_data.src;\r\n\r\n            // И размеры картинки, которая по ссылке\r\n            this.template.setSize(size, image_data);\r\n        }\r\n    }\r\n\r\n    // === Watcher ===\r\n\r\n    // Установка на document слушателей типов событий, имеющихся в объекте обработчиков\r\n    _initWatcher() {\r\n        let types = Object.keys(this.triggers);\r\n        types.forEach(type => document.addEventListener(type, this._watchTrigger.bind(this)))\r\n    }\r\n\r\n    // Метод, который вызывает нужный обработчик при нужном событии\r\n    _watchTrigger(event) {\r\n        // Смотрим, есть ли обработчики полученного типа события\r\n        // На самом деле они всегда должны быть, но все же\r\n        let triggers = this.triggers[event.type];\r\n        if (triggers === undefined) return;\r\n\r\n        // Берем элемент, на котором сработало событие\r\n        let target = event.target;\r\n\r\n        // Цикл по объекту обработчиков полученного типа события\r\n        triggers.forEach(trigger => {\r\n            // Ищем обработчик для цели события\r\n            // Если вернется false, то не найден\r\n            let compliance = this._checkComplianceTarget(target, trigger);\r\n\r\n            // Если цели события нет в объекте обработчиков, но в обработчике указано, \r\n            // что он может срабатывать на дочернем элементе\r\n            if (!compliance && trigger.child) {\r\n                // Попробуем найти родительский элемент цели, соответствующий селектору\r\n                // из объекта обработчиков\r\n                this._checkComplianceChild(target, trigger);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Проверка на соответствие цели события с селекторами объекта триггеров\r\n    _checkComplianceTarget(target, trigger) {\r\n        let compliance = false;\r\n\r\n        // Два отдельных условия для того, чтобы была возможность назначить\r\n        // разные обработчики по id и по классу на один элемент, и они сработали оба\r\n        if (trigger.type === 'id') {\r\n            if (target.id === trigger.selector) {\r\n                compliance = true;\r\n\r\n                if (trigger.handler) {\r\n                    trigger.handler.call(this, target);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (trigger.type === 'class') {\r\n            if (target.classList.contains(trigger.selector)) {\r\n                compliance = true;\r\n\r\n                if (trigger.handler) {\r\n                    trigger.handler.call(this, target);\r\n                }\r\n            }\r\n        }\r\n\r\n        return compliance;\r\n    }\r\n\r\n    // Проверка на то, является ли цель события дочерним элементом селектора из объекта триггеров\r\n    _checkComplianceChild(target, trigger) {\r\n        let parent = (trigger.type === 'id') ?\r\n            target.closest('#' + trigger.selector) :\r\n            target.closest('.' + trigger.selector);\r\n\r\n        if (parent) {\r\n            // Если да, запустим обработчик для родителя\r\n            this._checkComplianceTarget(parent, trigger);\r\n        }\r\n    }\r\n\r\n    // --- Watcher ---\r\n\r\n    // === Storage ===\r\n\r\n    _saveSettings() {\r\n        let res = this.storage.set('settings', this.settings);\r\n    }\r\n\r\n    _saveState() {\r\n        let res = this.storage.set('state', this.state);\r\n    }\r\n\r\n    _restoreStorage() {\r\n        let storage = this.storage.getAll();\r\n\r\n        for (let storage_obj in storage) {\r\n            for (let obj in storage[storage_obj]) {\r\n                if (obj.charAt(0) !== '_') {\r\n                    this[storage_obj][obj] = storage[storage_obj][obj];\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    // --- Storage ---\r\n\r\n    // Метод добавления на страницу стилей, необходимых для работы PhotoDownload\r\n    _injectCSS() {\r\n        let style = document.createElement('style');\r\n        style.id = this.selectors.style_id;\r\n        style.textContent = this.template.getStyleContent();\r\n\r\n        document.head.appendChild(style);\r\n    }\r\n\r\n\r\n    // Точка входа\r\n    init() {\r\n        console.clear();\r\n        console.log('%c%s', (window.log_color) ? window.log_color.blue : '', 'PhotoDownload: Init');\r\n\r\n        // Восстанавливаем сохраненное в LocalStorage состояние\r\n        this._restoreStorage();\r\n\r\n        // Добавляем стили PhotoDownload\r\n        this._injectCSS();\r\n\r\n        // Инициализируем обработчики глобальных событий на document\r\n        this._initWatcher();\r\n    }\r\n}","export default class SStorage {\r\n    constructor(params = {}) {\r\n        this.name = params.name;\r\n        this.default = params.default;\r\n\r\n        this.init();\r\n    }\r\n\r\n    set(key, val) {\r\n        if (val === undefined) return false;\r\n        let tmp = JSON.parse(localStorage.getItem(this.name));\r\n        tmp[key] = val;\r\n        localStorage.setItem(this.name, JSON.stringify(tmp));\r\n\r\n        return tmp;\r\n    }\r\n\r\n    get(key) {\r\n        let tmp = JSON.parse(localStorage.getItem(this.name));\r\n\r\n        return tmp[key];\r\n    }\r\n\r\n    getAll() {\r\n        let tmp = JSON.parse(localStorage.getItem(this.name));\r\n\r\n        return tmp;\r\n    }\r\n\r\n    remove(key) {\r\n        let tmp = JSON.parse(localStorage.getItem(this.name));\r\n        delete tmp[key];\r\n        localStorage.setItem(this.name, JSON.stringify(tmp));\r\n\r\n        return tmp;\r\n    }\r\n\r\n    clear() {\r\n        localStorage.removeItem(this.name);\r\n    }\r\n\r\n    // Метод подготовки\r\n    prepareStorage() {\r\n        if (localStorage.getItem(this.name) == null) {\r\n            localStorage.setItem(this.name, JSON.stringify(this.default));\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\n    init() {\r\n        this.prepareStorage();\r\n    }\r\n}","export default function(sel, timings, icons) {\r\n\r\n    return /* css */ `\r\n    #${sel.photoDownload_id} {\r\n        background-color: transparent;\r\n        border-top-left-radius: 0;\r\n        color: #C3CFE0;\r\n        display: flex;\r\n        flex-direction: column;\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 100%;\r\n        opacity: 0;\r\n        transform: translate3d(-38px, 0, 1px);\r\n        will-change: transform, opacity;\r\n        transition: opacity ${timings.btn_transition_opacity}ms ease-in-out, transform ${timings.btn_transition_transform}ms ease-in-out !important;\r\n    }\r\n\r\n    .${sel.imgContainer_class}:hover #${sel.photoDownload_id}.${sel.ready} {\r\n        opacity: .3;\r\n    }\r\n\r\n    .${sel.imgContainer_class} #${sel.photoDownload_id}.${sel.ready}:hover {\r\n        opacity: .8;\r\n        transform: translate3d(-100%, 0, 1px);\r\n    }\r\n\r\n    .${sel.get('btn.btn')} {\r\n        display: flex;\r\n        align-items: center;\r\n        padding: 10px;\r\n        background-color: #000;\r\n        border-top-left-radius: 4px;\r\n        color: #C3CFE0 !important;\r\n    }\r\n\r\n    .${sel.get('btn.btn')}:hover {\r\n        text-decoration: none;\r\n    }\r\n\r\n    .${sel.get('btn.icon')} {\r\n        background-image: url('${icons.get('white', 'arrow')}');\r\n        background-size: contain;\r\n        background-repeat: no-repeat;\r\n        height: 18px;\r\n        width: 18px;\r\n    }\r\n\r\n    .${sel.get('btn.btn')}:hover .${sel.get('btn.icon')} {\r\n        background-image: url('${icons.get('green', 'arrow')}');\r\n    }\r\n\r\n    #${sel.photoDownload_id} .${sel.get('btn.size')} {\r\n        color: ${icons._colors.grey} !important;\r\n        flex-grow: 1;\r\n        text-align: center;\r\n        height: 15px;\r\n    }\r\n\r\n    #${sel.photoDownload_id} .${sel.get('btn.size')}:not(.non_size) {\r\n        \r\n    }\r\n\r\n    #${sel.photoDownload_id}.${sel.settings} {\r\n        opacity: .8 !important;\r\n        transform: translate3d(-100%, 0, 1px);\r\n    }\r\n\r\n    #${sel.photoDownload_id}.${sel.settings} .${sel.get('btn.btn')} {\r\n        border-top-left-radius: 0;\r\n        position: relative;\r\n    }\r\n\r\n    #${sel.photoDownload_id}.${sel.settings} .${sel.get('btn.btn')}:before {\r\n        content: '';\r\n        position: absolute;\r\n        top: -1px;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n        width: calc(100% - 20px);\r\n        height: 1px;\r\n        background-color: rgba(255, 255, 255, .1);\r\n    }\r\n\r\n    .${sel.get('btn.main_title_wrap')} {\r\n        flex-grow: 1;\r\n        height: 14px;\r\n        overflow: hidden;\r\n        text-align: center;\r\n        user-select: none;\r\n    }\r\n\r\n    #${sel.get('photoDownload_id')} .${sel.get('btn.main_title_inner')} {\r\n        will-change: transform;\r\n        transition: transform ${timings.settings_open}ms ease-out !important;\r\n    }\r\n\r\n    .${sel.get('btn.main_title_inner')} * {\r\n        margin-bottom: 14px;\r\n    }\r\n\r\n    #${sel.photoDownload_id}.${sel.settings_open} .${sel.get('btn.main_title_inner')} {\r\n        transform: translate3d(0, -29px, 1px);\r\n    }\r\n\r\n    #${sel.photoDownload_id}.${sel.icon_cog} .${sel.get('btn.icon')} {\r\n        background-image: none;\r\n    }\r\n\r\n    #${sel.photoDownload_id}:not(.${sel.settings}) .${sel.get('sett.settings_wrap')} {\r\n        height: 0;\r\n        overflow: hidden;\r\n    }\r\n\r\n    #${sel.photoDownload_id}.${sel.settings} .${sel.get('sett.settings_wrap')} {\r\n        height: auto;\r\n    }\r\n\r\n    #${sel.get('photoDownload_id')} .${sel.get('sett.settings')} {\r\n        position: relative;\r\n        background-color: #000;\r\n        border-top-left-radius: 4px;\r\n        font-size: 12px;\r\n        width: 150px;\r\n        will-change: transform;\r\n        transform: translate3d(0, 100%, 1px);\r\n        transition: transform ${timings.settings_open}ms ease-out !important;\r\n        user-select: none;\r\n    }\r\n\r\n    #${sel.photoDownload_id}.${sel.settings_open} .${sel.get('sett.settings')} {\r\n        transform: translate3d(0, 0%, 1px);\r\n    }\r\n    \r\n    .${sel.get('sett.settings_body')} {\r\n        padding: 0 10px;\r\n    }\r\n\r\n    .${sel.get('sett.settings_body')} ul {\r\n        padding: 5px 0;\r\n        margin: 0;\r\n        list-style: none;\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n\r\n    .${sel.get('sett.settings_item')} {\r\n        display: flex;\r\n        align-items: center;\r\n        position: relative;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .${sel.get('sett.settings_item')}:not(:last-child) {\r\n        margin-bottom: 5px;\r\n    }\r\n\r\n    .${sel.get('sett.settings_item')} input[type=radio],\r\n    .${sel.get('sett.settings_item')} input[type=checkbox] {\r\n        margin: 0;\r\n        display: none;\r\n    }\r\n\r\n    .${sel.get('sett.settings_item_action')} {\r\n        display: flex;\r\n        align-items: center;\r\n        width: 100%;\r\n        min-height: 18px;\r\n        padding-left: 20px;\r\n        cursor: pointer;\r\n        background-size: 14px 14px;\r\n        background-repeat: no-repeat;\r\n        background-position: 0 center;\r\n    }\r\n\r\n    input[type=radio] + .${sel.get('sett.settings_item_action')} {\r\n        background-image: url('${icons.get('white', 'circle')}');\r\n    }\r\n    input[type=radio] + .${sel.get('sett.settings_item_action')}:hover {\r\n        background-image: url('${icons.get('green', 'circle')}');\r\n    }\r\n    input[type=radio]:checked + .${sel.get('sett.settings_item_action')} {\r\n        background-image: url('${icons.get('white', 'check_circle')}');\r\n    }\r\n    input[type=radio]:checked + .${sel.get('sett.settings_item_action')}:hover {\r\n        background-image: url('${icons.get('green', 'check_circle')}');\r\n    }\r\n\r\n    input[type=checkbox] + .${sel.get('sett.settings_item_action')} {\r\n        background-image: url('${icons.get('white', 'square')}');\r\n    }\r\n    input[type=checkbox] + .${sel.get('sett.settings_item_action')}:hover {\r\n        background-image: url('${icons.get('green', 'square')}');\r\n    }\r\n    input[type=checkbox]:checked + .${sel.get('sett.settings_item_action')} {\r\n        background-image: url('${icons.get('white', 'check_square')}');\r\n    }\r\n    input[type=checkbox]:checked + .${sel.get('sett.settings_item_action')}:hover {\r\n        background-image: url('${icons.get('green', 'check_square')}');\r\n    }\r\n\r\n    #${sel.get('photoDownload_id')} .cog {\r\n        width: 18px;\r\n        height: 18px;\r\n        transform: rotate(30deg);\r\n        opacity: 0;\r\n    }\r\n\r\n    #${sel.photoDownload_id}.${sel.icon_cog} .${sel.get('btn.icon')} .cog {\r\n        opacity: 1;\r\n    }\r\n\r\n    #${sel.get('photoDownload_id')} .cog .cog_circle {\r\n        fill: none;\r\n        fill-opacity: 0;\r\n        stroke-width: 25;\r\n    }\r\n\r\n    #${sel.get('photoDownload_id')} .cog .cog_path {\r\n        fill: none;\r\n        fill-opacity: 0;\r\n        stroke-width: 25;\r\n        stroke-dasharray: 1669;\r\n        stroke-dashoffset: 1669;\r\n        transition: stroke-dashoffset ${timings.settings_open}ms linear, fill-opacity ${timings.fill}ms ease-out !important;\r\n    }\r\n\r\n    #${sel.get('photoDownload_id')} .cog.${sel.draw} .cog_path {\r\n        transition: stroke-dashoffset ${timings.open}ms linear, fill-opacity ${timings.fill}ms ease-out !important;\r\n        stroke-dashoffset: 0;\r\n    }\r\n\r\n    #${sel.photoDownload_id} .cog.${sel.draw_fill} .cog_path {\r\n        fill: #00b75a;\r\n        fill-opacity: 1;\r\n    }\r\n\r\n    #${sel.photoDownload_id} .cog.${sel.draw_fill} .cog_circle {\r\n        fill: #000;\r\n        stroke-width: 15;\r\n        fill-opacity: 1;\r\n    }\r\n\r\n    /* === Для настроек с секциями === */\r\n\r\n    /* Галочка вверху слева, закрывающая настройки */\r\n    .${sel.get('sett.settings_close_ico')} {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        z-index: 10;\r\n        background-image: url('${icons.get('white', 'ok')}');\r\n        background-size: 16px 16px;\r\n        background-position: center;\r\n        background-repeat: no-repeat;\r\n        padding: 6px 10px;\r\n        width: 18px;\r\n        height: 18px;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .${sel.get('sett.settings_close_ico')}:hover {\r\n        background-image: url('${icons.get('green', 'ok')}');\r\n    }\r\n\r\n    /* Секция настроек */\r\n    .${sel.get('sett.settings_section')}:last-child {\r\n        padding-bottom: 5px;\r\n    }\r\n\r\n    /* При ховере на секцию, но не на заголовок, заголовку давать зеленый цвет */\r\n    .${sel.get('sett.settings_section')}:hover .${sel.get('sett.settings_section_header')} {\r\n        color: ${icons._colors.green} !important;\r\n    }\r\n    .${sel.get('sett.settings_section')} .${sel.get('sett.settings_section_header')}:hover  {\r\n        color: ${icons._colors.grey} !important;\r\n    }\r\n\r\n    /* При ховере на секцию, но не на заголовок, подчеркиванию заголовка давать зеленый цвет */\r\n    .${sel.get('sett.settings_section')}:hover .${sel.get('sett.settings_section_header')}:after {\r\n        background-color: ${icons._colors.green};\r\n        opacity: .3;\r\n    }\r\n    .${sel.get('sett.settings_section')} .${sel.get('sett.settings_section_header')}:hover:after {\r\n        background-color: ${icons._colors.white};\r\n        opacity: .1;\r\n    }\r\n\r\n    /* Заголовок секции настроек */\r\n    #${sel.photoDownload_id} .${sel.get('sett.settings_section_header')} {\r\n        position: relative;\r\n        cursor: default;\r\n        font-weight: bold;\r\n        min-height: 30px;\r\n        display: flex;\r\n        justify-content: flex-end;\r\n        align-items: center;\r\n        transition: color ${timings.fill}ms ease-out !important;\r\n    }\r\n\r\n    .${sel.get('sett.settings_section_header')}:after {\r\n        content: '';\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n        width: calc(100% - 0px);\r\n        height: 1px;\r\n        background-color: ${icons._colors.white};\r\n        opacity: .1;\r\n    }\r\n    \r\n\r\n\r\n    `;\r\n}","export default function(sel, timings, icons) {\r\n\r\n    return /* html */ `\r\n    <div class=\"${sel.get('sett.settings_wrap')}\">\r\n        <div class=\"${sel.get('sett.settings')}\">\r\n            <div class=\"${sel.get('sett.settings_close_ico')}\"></div>\r\n\r\n            <div class=\"${sel.get('sett.settings_body')}\">\r\n\r\n                <div class=\"${sel.get('sett.settings_section')}\">\r\n                <div class=\"${sel.get('sett.settings_section_header')}\">Режим клика</div>\r\n\r\n                    <ul class=\"${sel.get('sett.download_mode')}\">\r\n                        <li class=\"${sel.get('sett.settings_item')}\">\r\n                            <input type=\"radio\" id=\"${sel.download_mode_true}\" name=\"download_mode\" value=\"true\">\r\n                            <label for=\"${sel.download_mode_true}\" class=\"${sel.get('sett.settings_item_action')}\">Скачать</label>\r\n                        </li>\r\n                        <li class=\"${sel.get('sett.settings_item')}\">\r\n                            <input type=\"radio\" id=\"${sel.download_mode_false}\" name=\"download_mode\" value=\"false\">\r\n                            <label for=\"${sel.download_mode_false}\" class=\"${sel.get('sett.settings_item_action')}\">В новой вкладке</label>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                \r\n                <div class=\"${sel.get('sett.settings_section')}\">\r\n                <div class=\"${sel.get('sett.settings_section_header')}\">Размер изображения</div>\r\n\r\n                    <ul class=\"${sel.get('sett.size_mode')}\">\r\n                        <li class=\"${sel.get('sett.settings_item')}\">\r\n                            <input type=\"checkbox\" id=\"${sel.size_mode_control}\" name=\"size_mode\" value=\"true\">\r\n                            <label for=\"${sel.size_mode_control}\" class=\"${sel.get('sett.settings_item_action')}\">Показывать</label>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <a class=\"${sel.get('btn.btn')}\" href=\"#!\" target=\"_blank\" draggable=\"false\">\r\n        <div class=\"${sel.get('btn.icon')}\">\r\n            ${icons.get('green', 'cog', false)}\r\n        </div>\r\n        <div class=\"${sel.get('btn.main_title_wrap')}\">\r\n            <div class=\"${sel.get('btn.main_title_inner')}\">\r\n                <div class=\"${sel.get('btn.size')}\"></div>\r\n                <div class=\"${sel.get('btn.settings_title')}\">Настройки</div>\r\n            </div>\r\n        </div>\r\n    </a>\r\n    `;\r\n}","import template_html from './template-html';\r\nimport template_css from './template-css';\r\n\r\n// Класс для шаблонизации верстки кнопки и ее стилей\r\nexport default class PhotoDownloadTemplates {\r\n    constructor(params = {}) {\r\n            // Переданный объект селекторов\r\n            this.sel = params.selectors;\r\n\r\n            // Переданный объект таймингов\r\n            this.timings = params.timings;\r\n\r\n            // Объект, генерирующий разноцветные иконки\r\n            this.icons = {\r\n                _colors: {\r\n                    green: '#00B75A',\r\n                    red: '#F92672',\r\n                    white: '#FFFFFF',\r\n                    yellow: '#FFC000',\r\n                    black: '#000000',\r\n                    grey: '#C3CFE0',\r\n                },\r\n                _prefix: 'data:image/svg+xml;charset=utf-8,',\r\n                _template: {\r\n                    /* html */\r\n                    arrow: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\">\r\n                                <path fill=\"{{color}}\" d=\"M 4,0 4,8 0,8 8,16 16,8 12,8 12,0 4,0 z\"/>\r\n                            </svg>`,\r\n                    /* html */\r\n                    ok: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"512\" height=\"512\" version=\"1.1\" viewbox=\"0 0 512 512\">\r\n                            <path fill=\"{{color}}\" d=\"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z\"></path>\r\n                        </svg>`,\r\n                    /* html */\r\n                    cog: `<svg class=\"cog\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 435.29151 456.46127\" version=\"1.1\" width=\"435.2915\" height=\"456.46127\">\r\n                            <g transform=\"translate(-155.4149,40.478503)\">\r\n                                <path class=\"cog_path\" style=\"display:inline;stroke:{{color}};stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1\"\r\n                                    d=\"m 258.15264,70.630447 c 25.28637,-22.526545 48.63737,-34.408525 71.039,-41.069 v -53.478 c 30.41876,-5.863806 59.48563,-4.968141 87.738,0 v 53.479 c 28.8038,8.565535 51.61963,23.119045 71.039,41.069 l 46.309,-26.759995 c 21.86242,23.783755 35.04856,49.293465 43.929,75.968998 l -46.329,26.74 c 6.50875,27.35967 6.5082,54.71933 0,82.079 l 46.329,26.74 c -8.99458,28.70805 -24.09088,53.75507 -43.929,75.957 l -46.309,-26.74 c -22.06268,20.9628 -46.09268,33.0726 -71.039,41.059 v 53.479 c -31.59152,6.25473 -60.47926,5.29935 -87.738,0 v -53.479 c -25.4605,-7.63148 -49.19415,-21.13429 -71.039,-41.059 l -46.309,26.74 c -20.18428,-21.75708 -33.84909,-47.70525 -43.929,-75.958 l 46.329,-26.74 c -7.19947,-30.9594 -5.78496,-57.61181 0,-82.079 l -46.329,-26.74 c 10.39157,-30.733913 25.59075,-55.349053 43.929,-75.968998 z\"/>\r\n                            </g>\r\n                            <g transform=\"translate(-2.3153218e-6)\">\r\n                                <g transform=\"translate(-9.9997883,-9.9949418)\">\r\n                                    <circle class=\"cog_circle\" cx=\"227.64554\" cy=\"238.22559\" r=\"78.324982\"\r\n                                        style=\"stroke:{{color}};stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1\"/>\r\n                                </g>\r\n                            </g>\r\n                        </svg>`,\r\n                    /* html */\r\n                    circle: `<svg viewBox=\"0 0 512 512\" width=\"512\" height=\"512\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path fill=\"{{color}}\" d=\"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200z\"></path>\r\n                            </svg>`,\r\n                    /* html */\r\n                    check_circle: `<svg viewBox=\"0 0 512 512\" width=\"512\" height=\"512\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path fill=\"{{color}}\" d=\"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z\"></path>\r\n                                </svg>`,\r\n                    /* html */\r\n                    square: `<svg viewBox=\"0 0 448 512\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path fill=\"{{color}}\" d=\"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V86c0-3.3 2.7-6 6-6h340c3.3 0 6 2.7 6 6v340c0 3.3-2.7 6-6 6z\"></path>\r\n                            </svg>`,\r\n                    /* html */\r\n                    check_square: `<svg viewBox=\"0 0 448 512\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path fill=\"{{color}}\" d=\"M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zm-204.686-98.059l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.248-16.379-6.249-22.628 0L184 302.745l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628.001z\"></path>\r\n                                </svg>`,\r\n                },\r\n                _temp(template, color) {\r\n                    let _template = this._template[template] ? this._template[template] : this._template.arrow;\r\n                    return _template.replace(/\\{\\{.*\\}\\}/gm, color ? color : 'white');\r\n                },\r\n                get(color, template, url = true) {\r\n                    let _color = this._colors[color] ? this._colors[color] : color;\r\n                    let svg = this._temp(template, _color).replace(/[\\s]{2,}/gm, ' ');\r\n                    return url ? this._prefix + encodeURIComponent(svg) : svg;\r\n                }\r\n            };\r\n\r\n            this.template_html = template_html(this.sel, this.timings, this.icons);\r\n            this.template_css = template_css(this.sel, this.timings, this.icons);\r\n        } // constructor\r\n\r\n    // Метод для отображения размеров картинки в кнопке\r\n    setSize(size, image_data) {\r\n        if (image_data.width && image_data.height) {\r\n            size.classList.remove(this.sel.non_size);\r\n            size.textContent = `${image_data.width}x${image_data.height}`;\r\n        } else {\r\n            size.classList.add(this.sel.non_size);\r\n            size.textContent = '';\r\n        }\r\n    }\r\n\r\n    // Метод создания контейнера с кнопкой\r\n    createDownloadContainer(parent) {\r\n        let wrap = document.createElement('div');\r\n        wrap.id = this.sel.photoDownload_id;\r\n\r\n        // Заполнение контейнера внутренними элементами\r\n        wrap.innerHTML = this.getInnerElems();\r\n\r\n        setTimeout(() => {\r\n            wrap.classList.add(this.sel.ready);\r\n            // Для теста, чтобы настройки сразу открыты были\r\n        }, 0);\r\n\r\n        parent.appendChild(wrap);\r\n\r\n        return wrap;\r\n    }\r\n\r\n    // Метод, генерирующий верстку самой кнопки\r\n    getInnerElems() {\r\n        return this.template_html;\r\n    }\r\n\r\n    // Метод, шаблонизирующий стили кнопки\r\n    getStyleContent() {\r\n        return this.template_css;\r\n    }\r\n\r\n}","import PhotoDownload from './modules/photo-download';\r\n\r\n\r\nwindow.photoDownload = new PhotoDownload({\r\n    download: true\r\n});","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvc2NyaXB0cy9tb2R1bGVzL2hhbmRsZXJzLmpzIiwiYXBwL3NjcmlwdHMvbW9kdWxlcy9waG90by1kb3dubG9hZC5qcyIsImFwcC9zY3JpcHRzL21vZHVsZXMvc3RvcmFnZS5qcyIsImFwcC9zY3JpcHRzL21vZHVsZXMvdGVtcGxhdGUtY3NzLmpzIiwiYXBwL3NjcmlwdHMvbW9kdWxlcy90ZW1wbGF0ZS1odG1sLmpzIiwiYXBwL3NjcmlwdHMvbW9kdWxlcy90ZW1wbGF0ZXMuanMiLCJhcHAvc2NyaXB0cy92ay1waG90by1kb3dubG9hZC5qcyIsIm5vZGVfbW9kdWxlcy9kb3dubG9hZGpzL2Rvd25sb2FkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FBRUE7SUFDcUIsZTs7O0FBQ2pCLDZCQUF5QjtBQUFBOztBQUFBLFFBQWIsTUFBYSx1RUFBSixFQUFJOztBQUFBOztBQUNqQjtBQUNBLFNBQUssYUFBTCxHQUFxQixNQUFNLENBQUMsYUFBNUIsQ0FGaUIsQ0FJakI7O0FBQ0EsU0FBSyxHQUFMLEdBQVcsTUFBTSxDQUFDLFNBQWxCLENBTGlCLENBT2pCOztBQUNBLFNBQUssT0FBTCxHQUFlLE1BQU0sQ0FBQyxPQUF0QixDQVJpQixDQVVqQjs7QUFDQSxTQUFLLGtCQUFMLEdBQTBCLE9BQTFCLENBWGlCLENBYWpCOztBQUNBLFNBQUssUUFBTCxHQUFnQjtBQUNaLE1BQUEsY0FBYyxFQUFFLEtBQUssZUFBTCxDQUFxQixJQUFyQixDQUEwQixJQUExQixDQURKO0FBRVosTUFBQSxhQUFhLEVBQUUsS0FBSyxjQUFMLENBQW9CLElBQXBCLENBQXlCLElBQXpCLENBRkg7QUFHWixNQUFBLGVBQWUsRUFBRSxLQUFLLGdCQUFMLENBQXNCLElBQXRCLENBQTJCLElBQTNCLENBSEw7QUFJWixNQUFBLFVBQVUsRUFBRSxLQUFLLFdBQUwsQ0FB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QSxNQUFNLENBQUMsYUFBUCxHQUF1QixJQUFJLHNCQUFKLENBQWtCO0FBQ3JDLEVBQUEsUUFBUSxFQUFFO0FBRDJCLENBQWxCLENBQXZCOzs7QUNIQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiZ2VuZXJhdGVkLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigpe2Z1bmN0aW9uIHIoZSxuLHQpe2Z1bmN0aW9uIG8oaSxmKXtpZighbltpXSl7aWYoIWVbaV0pe3ZhciBjPVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmU7aWYoIWYmJmMpcmV0dXJuIGMoaSwhMCk7aWYodSlyZXR1cm4gdShpLCEwKTt2YXIgYT1uZXcgRXJyb3IoXCJDYW5ub3QgZmluZCBtb2R1bGUgJ1wiK2krXCInXCIpO3Rocm93IGEuY29kZT1cIk1PRFVMRV9OT1RfRk9VTkRcIixhfXZhciBwPW5baV09e2V4cG9ydHM6e319O2VbaV1bMF0uY2FsbChwLmV4cG9ydHMsZnVuY3Rpb24ocil7dmFyIG49ZVtpXVsxXVtyXTtyZXR1cm4gbyhufHxyKX0scCxwLmV4cG9ydHMscixlLG4sdCl9cmV0dXJuIG5baV0uZXhwb3J0c31mb3IodmFyIHU9XCJmdW5jdGlvblwiPT10eXBlb2YgcmVxdWlyZSYmcmVxdWlyZSxpPTA7aTx0Lmxlbmd0aDtpKyspbyh0W2ldKTtyZXR1cm4gb31yZXR1cm4gcn0pKCkiLCJpbXBvcnQgRG93bmxvYWQgZnJvbSAnZG93bmxvYWRqcyc7XHJcblxyXG4vLyDQmtC70LDRgdGBINC00LvRjyDRg9C/0YDQsNCy0LvQtdC90LjRjyDQvtCx0YDQsNCx0L7RgtGH0LjQutCw0LzQuCDQstC90YPRgtGA0Lgg0LrQvdC+0L/QutC4XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEhhbmRsZXJzTWFuYWdlciB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMgPSB7fSkge1xyXG4gICAgICAgICAgICAvLyDQn9C10YDQtdC00LDQvdC90YvQuSDQuNC90YHRgtCw0L3RgSDQs9C70LDQstC90L7Qs9C+INC60LvQsNGB0YHQsFxyXG4gICAgICAgICAgICB0aGlzLlBob3RvRG93bmxvYWQgPSBwYXJhbXMuUGhvdG9Eb3dubG9hZDtcclxuXHJcbiAgICAgICAgICAgIC8vINCf0LXRgNC10LTQsNC90L3Ri9C5INC+0LHRitC10LrRgiDRgdC10LvQtdC60YLQvtGA0L7QslxyXG4gICAgICAgICAgICB0aGlzLnNlbCA9IHBhcmFtcy5zZWxlY3RvcnM7XHJcblxyXG4gICAgICAgICAgICAvLyDQn9C10YDQtdC00LDQvdC90YvQuSDQvtCx0YrQtdC60YIg0YLQsNC50LzQuNC90LPQvtCyXHJcbiAgICAgICAgICAgIHRoaXMudGltaW5ncyA9IHBhcmFtcy50aW1pbmdzO1xyXG5cclxuICAgICAgICAgICAgLy8g0KLQuNC/INGB0L7QsdGL0YLQuNGPINC/0L4g0YPQvNC+0LvRh9Cw0L3QuNGOINC00LvRjyDQvtCx0YDQsNCx0L7RgtGH0LjQutC+0LJcclxuICAgICAgICAgICAgdGhpcy5kZWZhdWx0X2V2ZW50X25hbWUgPSAnY2xpY2snO1xyXG5cclxuICAgICAgICAgICAgLy8g0J7QsdGK0LXQutGCINGBINC/0LXRgNC10YfQuNGB0LvQtdC90LjQtdC8INCy0YHQtdGFINCy0L7Qt9C80L7QttC90YvRhSDQvtCx0YDQsNCx0L7RgtGH0LjQutC+0LJcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVycyA9IHtcclxuICAgICAgICAgICAgICAgIHByZXZlbnRIYW5kbGVyOiB0aGlzLl9wcmV2ZW50SGFuZGxlci5iaW5kKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgbmV3VGFiSGFuZGxlcjogdGhpcy5fbmV3VGFiSGFuZGxlci5iaW5kKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgZG93bmxvYWRIYW5kbGVyOiB0aGlzLl9kb3dubG9hZEhhbmRsZXIuYmluZCh0aGlzKSxcclxuICAgICAgICAgICAgICAgIHN0YXJ0VGltZXI6IHRoaXMuX3N0YXJ0VGltZXIuYmluZCh0aGlzKSxcclxuICAgICAgICAgICAgICAgIGNoZWNrVGltZXI6IHRoaXMuX2NoZWNrVGltZXIuYmluZCh0aGlzKSxcclxuICAgICAgICAgICAgICAgIGNsb3NlVGltaW5nU2V0dGluZ3M6ICgpID0+IHRoaXMuUGhvdG9Eb3dubG9hZC5zdGF0ZS5zZXR0aW5ncyA9ICdjbG9zZV90aW1pbmcnLFxyXG4gICAgICAgICAgICAgICAgZG93bmxvYWRNb2RlSGFuZGxlcjogdGhpcy5fZG93bmxvYWRNb2RlSGFuZGxlci5iaW5kKHRoaXMpLFxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRpbWVycyA9IHtcclxuICAgICAgICAgICAgICAgIGRlbGF5OiBudWxsLFxyXG4gICAgICAgICAgICAgICAgb3BlbjogbnVsbCxcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9IC8vIGNvbnN0cnVjdG9yXHJcblxyXG4gICAgc2V0U2V0dGluZ3NTdGF0ZSgpIHtcclxuICAgICAgICBsZXQgd3JhcCA9IHRoaXMuUGhvdG9Eb3dubG9hZC53cmFwO1xyXG4gICAgICAgIGlmICghd3JhcCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICBsZXQgZG93bmxvYWRfbW9kZSA9IHRoaXMuUGhvdG9Eb3dubG9hZC5zZXR0aW5ncy5kb3dubG9hZF9tb2RlLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgbGV0IGRvd25sb2FkX21vZGVfYmxvY2sgPSB3cmFwLnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5zZWwuZ2V0KCdzZXR0LmRvd25sb2FkX21vZGUnKSk7XHJcbiAgICAgICAgbGV0IGRvd25sb2FkX21vZGVfY29udHJvbCA9IGRvd25sb2FkX21vZGVfYmxvY2sucXVlcnlTZWxlY3RvcihgaW5wdXRbdmFsdWU9JHtkb3dubG9hZF9tb2RlfV1gKTtcclxuICAgICAgICBkb3dubG9hZF9tb2RlX2NvbnRyb2wuY2hlY2tlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0SGFuZGxlcnMoKSB7XHJcbiAgICAgICAgbGV0IHdyYXAgPSB0aGlzLlBob3RvRG93bmxvYWQud3JhcDtcclxuICAgICAgICBpZiAoIXdyYXApIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgbGV0IGJ0biA9IHdyYXAucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnNlbC5nZXQoJ2J0bi5idG4nKSk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0KGJ0biwgJ3N0YXJ0VGltZXInLCAnbW91c2Vkb3duJyk7XHJcbiAgICAgICAgdGhpcy5zZXQoYnRuLCAnY2hlY2tUaW1lcicsICdtb3VzZXVwJyk7XHJcbiAgICAgICAgdGhpcy5zZXQoYnRuLCAnY2hlY2tUaW1lcicsICdtb3VzZWxlYXZlJyk7XHJcbiAgICAgICAgdGhpcy5zZXQoYnRuLCAncHJldmVudEhhbmRsZXInLCAnY2xpY2snKTtcclxuXHJcbiAgICAgICAgbGV0IHNldHRpbmdzX3dyYXAgPSB3cmFwLnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5zZWwuZ2V0KCdzZXR0LnNldHRpbmdzX3dyYXAnKSk7XHJcbiAgICAgICAgdGhpcy5zZXQoc2V0dGluZ3Nfd3JhcCwgJ2Nsb3NlV2F0Y2hlcicsICd0cmFuc2l0aW9uZW5kJyk7XHJcblxyXG4gICAgICAgIGxldCBidG5fY2xvc2UgPSB3cmFwLnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5zZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2hlYWRlcl9pY28nKSk7XHJcbiAgICAgICAgdGhpcy5zZXQoYnRuX2Nsb3NlLCAnY2xvc2VUaW1pbmdTZXR0aW5ncycsICdjbGljaycpO1xyXG5cclxuICAgICAgICBsZXQgZG93bmxvYWRfbW9kZSA9IHdyYXAucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnNlbC5nZXQoJ3NldHQuZG93bmxvYWRfbW9kZScpKTtcclxuICAgICAgICB0aGlzLnNldChkb3dubG9hZF9tb2RlLCAnZG93bmxvYWRNb2RlSGFuZGxlcicsICdjaGFuZ2UnKTtcclxuICAgIH1cclxuXHJcbiAgICBhcHBseVN0YXRlKCkge1xyXG4gICAgICAgIGxldCBzdGF0ZSA9IHRoaXMuUGhvdG9Eb3dubG9hZC5zdGF0ZTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChzdGF0ZS5zZXR0aW5ncykge1xyXG4gICAgICAgICAgICBjYXNlICdvcGVuX3RpbWluZyc6XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vcGVuVGltaW5nU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnb3Blbic6XHJcbiAgICAgICAgICAgICAgICB0aGlzLl9vcGVuU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnY2xvc2VfdGltaW5nJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Nsb3NlVGltaW5nU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgY2FzZSAnY2xvc2UnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2xvc2VTZXR0aW5ncygpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9zdGFydFRpbWVyKGUpIHtcclxuICAgICAgICBpZiAoZS53aGljaCAhPT0gMSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5QaG90b0Rvd25sb2FkLnN0YXRlLnNldHRpbmdzID09ICdjbG9zZScpIHtcclxuICAgICAgICAgICAgdGhpcy50aW1lcnMuZGVsYXkgPSBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuUGhvdG9Eb3dubG9hZC5zdGF0ZS5zZXR0aW5ncyA9ICdvcGVuX3RpbWluZyc7XHJcblxyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lcnMub3BlbiA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuUGhvdG9Eb3dubG9hZC5zdGF0ZS5zZXR0aW5ncyA9ICdvcGVuJztcclxuICAgICAgICAgICAgICAgIH0sIHRoaXMudGltaW5ncy5vcGVuKTtcclxuXHJcbiAgICAgICAgICAgIH0sIHRoaXMudGltaW5ncy5kZWxheSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLlBob3RvRG93bmxvYWQuc3RhdGUuc2V0dGluZ3MgPT0gJ29wZW4nKSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuUGhvdG9Eb3dubG9hZC5zdGF0ZS5zZXR0aW5ncyA9PSAnb3BlbicpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLlBob3RvRG93bmxvYWQuc3RhdGUuc2V0dGluZ3MgPSAnY2xvc2VfdGltaW5nJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcy50aW1pbmdzLmRlbGF5KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9jaGVja1RpbWVyKGUpIHtcclxuICAgICAgICAvLyDQldGB0LvQuCDQvdCw0LbQsNGC0LAg0L3QtSDQu9C10LLQsNGPINC60L3QvtC/0LrQsCDQvNGL0YjQuCwg0YLQviDQstGL0YXQvtC00LjQvFxyXG4gICAgICAgIGlmIChlLndoaWNoICE9PSAxKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vINCV0YHQu9C4INCx0YvRgdGC0YDRi9C5INC60LvQuNC9INC4INC90LDRgdGC0YDQvtC50LrQuCDQt9Cw0LrRgNGL0YLRiywg0YLQviDQsdGD0LTQtdGCINC+0LHRgNCw0LHQvtGC0YfQuNC6INGB0LrQsNGH0LjQstCw0L3QuNGPXHJcbiAgICAgICAgaWYgKHRoaXMudGltZXJzLmRlbGF5ICYmICF0aGlzLnRpbWVycy5vcGVuICYmIHRoaXMuUGhvdG9Eb3dubG9hZC5zdGF0ZS5zZXR0aW5ncyA9PSAnY2xvc2UnKSB7XHJcblxyXG4gICAgICAgICAgICAvLyDQotGD0YIg0LTQtdC50YHRgtCy0LjQtSDQtNC70Y8g0L/RgNC+0YHRgtC+0LPQviDQutC70LjQutCwXHJcbiAgICAgICAgICAgIC8vINCSINC30LDQstC40YHQuNC80L7RgdGC0Lgg0L7RgiDRhNC70LDQs9CwINCy0LXRiNCw0LXQvCDQu9C40LHQviDQvtCx0YDQsNCx0L7RgtGH0LjQuiDRgdC60LDRh9C40LLQsNC90LjRjywg0LvQuNCx0L4g0L7RgtC60YDRi9GC0LjRjyDQvdC+0LLQvtC5INCy0LrQu9Cw0LTQutC4XHJcbiAgICAgICAgICAgIGlmICh0aGlzLlBob3RvRG93bmxvYWQuc2V0dGluZ3MuZG93bmxvYWRfbW9kZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoZS5jdXJyZW50VGFyZ2V0LCAnZG93bmxvYWRIYW5kbGVyJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldChlLmN1cnJlbnRUYXJnZXQsICduZXdUYWJIYW5kbGVyJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vINCV0YHQu9C4INCx0YvRgdGC0YDRi9C5INC60LvQuNC6INC4INC90LDRgdGC0YDQvtC50LrQuCDQvtGC0LrRgNGL0YLRiywg0YLQviDQsdGD0LTQtdGCINC+0LHRgNCw0LHQvtGC0YfQuNC6INC30LDQutGA0YvRgtC40Y8g0L3QsNGB0YLRgNC+0LXQulxyXG4gICAgICAgIGlmICh0aGlzLnRpbWVycy5kZWxheSAmJiAhdGhpcy50aW1lcnMub3BlbiAmJiB0aGlzLlBob3RvRG93bmxvYWQuc3RhdGUuc2V0dGluZ3MgPT0gJ29wZW4nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuUGhvdG9Eb3dubG9hZC5zdGF0ZS5zZXR0aW5ncyA9ICdjbG9zZV90aW1pbmcnO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g0JTQvtC70LPQuNC5INC60LvQuNC6INC4INC90LDRgdGC0YDQvtC50LrQuCDQvtGC0LrRgNGL0YLRi1xyXG4gICAgICAgIGlmICh0aGlzLnRpbWVycy5kZWxheSAmJiB0aGlzLnRpbWVycy5vcGVuICYmIHRoaXMuUGhvdG9Eb3dubG9hZC5zdGF0ZS5zZXR0aW5ncyA9PSAnb3BlbicpIHtcclxuICAgICAgICAgICAgLy8gLy8g0JfQtNC10YHRjCDQvdCw0YHRgtGA0L7QudC60Lgg0LTQvtC70LbQvdGLINCx0YvRgtGMINGD0LbQtSDQvtGC0LrRgNGL0YLRiyDQuCDQtNC70Y8g0YHQvtCx0YvRgtC40Y8g0LrQu9C40LrQsCwgXHJcbiAgICAgICAgICAgIC8vIC8vINC60L7RgtC+0YDQvtC1INCx0YPQtNC10YIg0YHRgNCw0LfRgyDQv9C+0YHQu9C1INGN0YLQvtCz0L4gbW91c2V1cCwg0LHQu9C+0LrQuNGA0YPQtdC8INC00LXQudGB0YLQstC40LVcclxuICAgICAgICAgICAgdGhpcy5zZXQoZS5jdXJyZW50VGFyZ2V0LCAncHJldmVudEhhbmRsZXInKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLlBob3RvRG93bmxvYWQuc3RhdGUuc2V0dGluZ3MgPT0gJ29wZW5fdGltaW5nJykge1xyXG4gICAgICAgICAgICB0aGlzLnNldChlLmN1cnJlbnRUYXJnZXQsICdwcmV2ZW50SGFuZGxlcicpO1xyXG4gICAgICAgICAgICB0aGlzLlBob3RvRG93bmxvYWQuc3RhdGUuc2V0dGluZ3MgPSAnY2xvc2VfdGltaW5nJztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vINCe0LHQvdGD0LvRj9C10Lwg0LLRgdC1INGC0LDQudC80LXRgNGLINC00LvRjyDRgdC70LXQtNGD0Y7RidC10LPQviDRgNCw0LfQsFxyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5kZWxheSk7XHJcbiAgICAgICAgdGhpcy50aW1lcnMuZGVsYXkgPSBudWxsO1xyXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnRpbWVycy5vcGVuKTtcclxuICAgICAgICB0aGlzLnRpbWVycy5vcGVuID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQl9Cw0L/Rg9GB0Log0L7RgtC60YDRi9GC0LjRjyDQvdCw0YHRgtGA0L7QtdC6XHJcbiAgICBfb3BlblRpbWluZ1NldHRpbmdzKCkge1xyXG4gICAgICAgIHRoaXMuUGhvdG9Eb3dubG9hZC53cmFwLmNsYXNzTGlzdC5hZGQodGhpcy5zZWwuaWNvbl9jb2cpO1xyXG4gICAgICAgIHRoaXMuUGhvdG9Eb3dubG9hZC53cmFwXHJcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuY29nJylcclxuICAgICAgICAgICAgLmNsYXNzTGlzdC5hZGQodGhpcy5zZWwuZHJhdyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0J3QsNGB0YLRgNC+0LnQutC4INC+0YLQutGA0YvRgtGLXHJcbiAgICBfb3BlblNldHRpbmdzKCkge1xyXG4gICAgICAgIHRoaXMuX29wZW5UaW1pbmdTZXR0aW5ncygpO1xyXG4gICAgICAgIHRoaXMuUGhvdG9Eb3dubG9hZC53cmFwLmNsYXNzTGlzdC5hZGQodGhpcy5zZWwuaWNvbl9jb2cpO1xyXG4gICAgICAgIHRoaXMuUGhvdG9Eb3dubG9hZC53cmFwXHJcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuY29nJylcclxuICAgICAgICAgICAgLmNsYXNzTGlzdC5hZGQodGhpcy5zZWwuZHJhd19maWxsLCB0aGlzLnNlbC5kcmF3KTtcclxuICAgICAgICB0aGlzLlBob3RvRG93bmxvYWQud3JhcC5jbGFzc0xpc3QuYWRkKHRoaXMuc2VsLnNldHRpbmdzKTtcclxuICAgICAgICB0aGlzLlBob3RvRG93bmxvYWQud3JhcC5jbGFzc0xpc3QuYWRkKHRoaXMuc2VsLnNldHRpbmdzX29wZW4pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCX0LDQv9GD0YHQuiDQt9Cw0LrRgNGL0YLQuNGPINC90LDRgdGC0YDQvtC10LpcclxuICAgIF9jbG9zZVRpbWluZ1NldHRpbmdzKHNldF9zdGF0ZSA9IHRydWUpIHtcclxuICAgICAgICB0aGlzLlBob3RvRG93bmxvYWQud3JhcFxyXG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvcignLmNvZycpXHJcbiAgICAgICAgICAgIC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2VsLmRyYXcsIHRoaXMuc2VsLmRyYXdfZmlsbCk7XHJcbiAgICAgICAgdGhpcy5QaG90b0Rvd25sb2FkLndyYXAuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnNlbC5zZXR0aW5nc19vcGVuKTtcclxuXHJcbiAgICAgICAgaWYgKHNldF9zdGF0ZSkge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuUGhvdG9Eb3dubG9hZC5zdGF0ZS5zZXR0aW5ncyA9ICdjbG9zZSc7XHJcbiAgICAgICAgICAgIH0sIHRoaXMudGltaW5ncy5zZXR0aW5nc19vcGVuKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0J3QsNGB0YLRgNC+0LnQutC4INC30LDQutGA0YvRgtGLXHJcbiAgICBfY2xvc2VTZXR0aW5ncygpIHtcclxuICAgICAgICB0aGlzLl9jbG9zZVRpbWluZ1NldHRpbmdzKGZhbHNlKTtcclxuICAgICAgICB0aGlzLlBob3RvRG93bmxvYWQud3JhcC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2VsLmljb25fY29nKTtcclxuICAgICAgICB0aGlzLlBob3RvRG93bmxvYWQud3JhcC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2VsLnNldHRpbmdzKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQo9GB0YLQsNC90L7QstC40YLRjCDQvtC00LjQvSDQuNC70Lgg0L3QtdGB0LrQvtC70YzQutC+INC+0LHRgNCw0LHQvtGC0YfQuNC60L7QsiDQvdCwINGN0LvQtdC80LXQvdGCXHJcbiAgICAvLyDQldGB0LvQuCDQvdCwINGN0LvQtdC80LXQvdGC0LUg0LHRi9C70Lgg0LTRgNGD0LPQuNC1INC+0LHRgNCw0LHQvtGC0YfQuNC60LggLSDQvtC90Lgg0YPQtNCw0LvRj9GO0YLRgdGPXHJcbiAgICAvLyDQkiDQuNGC0L7Qs9C1INC90LAg0Y3Qu9C10LzQtdC90YLQtSDQs9Cw0YDQsNC90YLQuNGA0L7QstCw0L3QviDRgtC+0LvRjNC60L4g0L/QtdGA0LXQtNCw0L3QvdGL0Lkg0L3QsNCx0L7RgCDQvtCx0YDQsNCx0L7RgtGH0LjQutC+0LJcclxuICAgIHNldChlbGVtLCBoYW5kbGVyX25hbWUsIGV2ZW50X25hbWUgPSB0aGlzLmRlZmF1bHRfZXZlbnRfbmFtZSkge1xyXG4gICAgICAgIGlmICghZWxlbSB8fCAhaGFuZGxlcl9uYW1lKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIGxldCByZXN1bHQgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyDQo9C00LDQu9GP0LXQvCDQstGB0LUg0YPQttC1INC40LzQtdGO0YnQuNC10YHRjyDQvtCx0YDQsNCx0L7RgtGH0LjQutC4XHJcbiAgICAgICAgdGhpcy5yZW1vdmVBbGwoZWxlbSwgZXZlbnRfbmFtZSk7XHJcblxyXG4gICAgICAgIC8vINCh0YLQsNCy0LjQvCDQvdGD0LbQvdGL0LVcclxuICAgICAgICBpZiAoaGFuZGxlcl9uYW1lIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgaGFuZGxlcl9uYW1lLmZvckVhY2gobmFtZSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkZChlbGVtLCBuYW1lLCBldmVudF9uYW1lKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgaGFuZGxlcl9uYW1lID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICB0aGlzLmFkZChlbGVtLCBoYW5kbGVyX25hbWUsIGV2ZW50X25hbWUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQlNC+0LHQsNCy0LjRgtGMINC+0LHRgNCw0LHQvtGC0YfQuNC6INGBINC/0LXRgNC10LTQsNC90L3Ri9C8INC40LzQtdC90LXQvCDQvdCwINGN0LvQtdC80LXQvdGCXHJcbiAgICBhZGQoZWxlbSwgaGFuZGxlcl9uYW1lLCBldmVudF9uYW1lID0gdGhpcy5kZWZhdWx0X2V2ZW50X25hbWUpIHtcclxuICAgICAgICBpZiAoIWVsZW0gfHwgIWhhbmRsZXJfbmFtZSB8fCAhdGhpcy5nZXRIYW5kbGVyKGhhbmRsZXJfbmFtZSkpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKGV2ZW50X25hbWUsIHRoaXMuZ2V0SGFuZGxlcihoYW5kbGVyX25hbWUpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0KPQtNCw0LvQuNGC0Ywg0L7QsdGA0LDQsdC+0YLRh9C40Log0YEg0L/QtdGA0LXQtNCw0L3QvdGL0Lwg0LjQvNC10L3QtdC8INGBINGN0LvQtdC80LXQvdGC0LBcclxuICAgIHJlbW92ZShlbGVtLCBoYW5kbGVyX25hbWUsIGV2ZW50X25hbWUgPSB0aGlzLmRlZmF1bHRfZXZlbnRfbmFtZSkge1xyXG4gICAgICAgIGlmICghZWxlbSB8fCAhaGFuZGxlcl9uYW1lIHx8ICF0aGlzLmdldEhhbmRsZXIoaGFuZGxlcl9uYW1lKSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRfbmFtZSwgdGhpcy5nZXRIYW5kbGVyKGhhbmRsZXJfbmFtZSkpO1xyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQo9C00LDQu9C40YLRjCDQstGB0LUg0L7QsdGA0LDQsdC+0YLRh9C40LrQuCDRgSDRjdC70LXQvNC10L3RgtCwXHJcbiAgICByZW1vdmVBbGwoZWxlbSwgZXZlbnRfbmFtZSA9IHRoaXMuZGVmYXVsdF9ldmVudF9uYW1lKSB7XHJcbiAgICAgICAgaWYgKCFlbGVtKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGhhbmRsZXIgaW4gdGhpcy5oYW5kbGVycykge1xyXG4gICAgICAgICAgICBlbGVtLnJlbW92ZUV2ZW50TGlzdGVuZXIoZXZlbnRfbmFtZSwgdGhpcy5nZXRIYW5kbGVyKGhhbmRsZXIpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCf0L7Qu9GD0YfQuNGC0Ywg0LjQvNC10L3QsCDQstGB0LXRhSDQvtCx0YDQsNCx0L7RgtGH0LjQutC+0LJcclxuICAgIGdldEhhbmRsZXJzTmFtZXMoKSB7XHJcbiAgICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuaGFuZGxlcnMpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCf0L7Qu9GD0YfQuNGC0Ywg0L7QsdGK0LXQutGCINCy0YHQtdGFINGE0YPQvdC60YbQuNC5LdC+0LHRgNCw0LHQvtGC0YfQuNC60L7QslxyXG4gICAgZ2V0SGFuZGxlcnMoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlcnM7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0J/QvtC70YPRh9C40YLRjCDRhNGD0L3QutGG0LjRji3QvtCx0YDQsNCx0L7RgtGH0LjQulxyXG4gICAgZ2V0SGFuZGxlcihoYW5kbGVyX25hbWUpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVyc1toYW5kbGVyX25hbWVdO1xyXG4gICAgfVxyXG5cclxuICAgIC8vID09PSDQntCx0YDQsNCx0L7RgtGH0LjQutC4ID09PVxyXG5cclxuICAgIC8vINCc0LXQvdGP0LXRgiDQvdCw0YHRgtGA0L7QudC60YMg0YDQtdC20LjQvNCwINGB0LrQsNGH0LjQstCw0L3QuNGPXHJcbiAgICBfZG93bmxvYWRNb2RlSGFuZGxlcihlKSB7XHJcbiAgICAgICAgbGV0IHZhbHVlID0gZS50YXJnZXQudmFsdWU7XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSA9PT0gJ3RydWUnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuUGhvdG9Eb3dubG9hZC5zZXR0aW5ncy5kb3dubG9hZF9tb2RlID0gdHJ1ZTtcclxuICAgICAgICB9IGVsc2UgaWYgKHZhbHVlID09PSAnZmFsc2UnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuUGhvdG9Eb3dubG9hZC5zZXR0aW5ncy5kb3dubG9hZF9tb2RlID0gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vINCe0YLQvNC10L3Rj9C10YIg0LTQtdC50YHRgtCy0LjQtSDQsdGA0LDRg9C30LXRgNCwXHJcbiAgICBfcHJldmVudEhhbmRsZXIoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0J7QsdGA0LDQsdC+0YLRh9C40Log0LrQvdC+0L/QutC4INC00LvRjyDRgNC10LbQuNC80LAg0L7RgtC60YDRi9GC0LjRjyDQsiDQvdC+0LLQvtC5INCy0LrQu9Cw0LTQutC1XHJcbiAgICBfbmV3VGFiSGFuZGxlcihlKSB7XHJcbiAgICAgICAgdGhpcy5yZW1vdmUoZS5jdXJyZW50VGFyZ2V0LCAnbmV3VGFiSGFuZGxlcicpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCe0LHRgNCw0LHQvtGC0YfQuNC6INC60L3QvtC/0LrQuCDQtNC70Y8g0YDQtdC20LjQvNCwINGB0LrQsNGH0LjQstCw0L3QuNGPXHJcbiAgICBfZG93bmxvYWRIYW5kbGVyKGUpIHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgRG93bmxvYWQoZS5jdXJyZW50VGFyZ2V0LmhyZWYpO1xyXG5cclxuICAgICAgICB0aGlzLnJlbW92ZShlLmN1cnJlbnRUYXJnZXQsICdkb3dubG9hZEhhbmRsZXInKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGhvdG9Eb3dubG9hZFRlbXBsYXRlcyBmcm9tICcuL3RlbXBsYXRlcyc7XHJcbmltcG9ydCBIYW5kbGVyc01hbmFnZXIgZnJvbSAnLi9oYW5kbGVycyc7XHJcbmltcG9ydCBTU3RvcmFnZSBmcm9tICcuL3N0b3JhZ2UnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGhvdG9Eb3dubG9hZCB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMgPSB7fSkge1xyXG4gICAgICAgIGxldCB0aGF0ID0gdGhpcztcclxuXHJcbiAgICAgICAgLy8g0KHRgdGL0LvQutCwLCDQsiDQutC+0YLQvtGA0YPRjiDQvtCx0LXRgNC90YPRgtCwINC60LDRgNGC0LjQvdC60LAsIFxyXG4gICAgICAgIC8vINC30LTQtdGB0Ywg0L3Rg9C20L3QsiDQtNC70Y8g0YLRgNC40LPQs9C10YDQsCDRgdC+0LfQtNCw0L3QuNGPL9C+0LHQvdC+0LLQu9C10L3QuNGPINC60L3QvtC/0LrQuFxyXG4gICAgICAgIHRoaXMuaW1nQ29udGFpbmVyX2lkID0gJ3B2X3Bob3RvJztcclxuXHJcbiAgICAgICAgLy8g0J7QsdGK0LXQutGCINCy0YHQtdGFINGB0LXQu9C10LrRgtC+0YDQvtCyLCDQuNGB0L/QvtC70YzQt9GD0Y7RidC40YXRgdGPINCyINC60L3QvtC/0LrQtVxyXG4gICAgICAgIHRoaXMuc2VsZWN0b3JzID0ge1xyXG4gICAgICAgICAgICBfcHJlZml4OiAnUGhvdG9Eb3dubG9hZF8nLFxyXG4gICAgICAgICAgICAvLyBpZCDQutC+0L3RgtC10LnQvdC10YDQsCDQutC90L7Qv9C60LhcclxuICAgICAgICAgICAgcGhvdG9Eb3dubG9hZF9pZDogJ1Bob3RvRG93bmxvYWQnLFxyXG4gICAgICAgICAgICAvLyDQmtC+0L3RgtC10LnQvdC10YAsINCyINC60L7RgtC+0YDQvtC8INC90LDRhdC+0LTQuNGC0YHRjyDQutCw0YDRgtC40L3QutCwINC4INGN0LvQtdC80LXQvdGC0Ysg0YPQv9GA0LDQstC70LXQvdC40Y8sXHJcbiAgICAgICAgICAgIC8vINGB0L7Qt9C00LDQstCw0YLRjCDQutC90L7Qv9C60YMg0LHRg9C00LXQvCDQsiDQvdC10LxcclxuICAgICAgICAgICAgaW1nQ29udGFpbmVyX2NsYXNzOiAncHZfaW1hZ2Vfd3JhcCcsXHJcbiAgICAgICAgICAgIC8vIGlkLCDQutC+0YLQvtGA0YvQuSDQtNC+0LHQsNCy0LjRgtGB0Y8g0YLQtdCz0YMgc3R5bGVcclxuICAgICAgICAgICAgc3R5bGVfaWQ6ICdQaG90b0Rvd25sb2FkU3R5bGUnLFxyXG5cclxuICAgICAgICAgICAgLy8g0JrQu9Cw0YHRgS3RhNC70LDQsywg0LLQtdGI0LDQtdGC0YHRjyDQvdCwIC5QaG90b0Rvd25sb2FkX3NpemUg0LrQvtCz0LTQsCDQvdC10YIg0LTQsNC90L3Ri9GFINC+INGA0LDQt9GA0LXRiNC10L3QuNC4XHJcbiAgICAgICAgICAgIG5vbl9zaXplOiAnbm9uX3NpemUnLFxyXG4gICAgICAgICAgICAvLyDQmtC70LDRgdGBLdGE0LvQsNCzLCDQstC10YjQsNC10YLRgdGPINC00LvRjyDQv9C70LDQstC90L7Qs9C+IG9wYWNpdHkg0LrQvdC+0L/QutC4INC/0L7RgdC70LUg0YHQvtC30LTQsNC90LjRj1xyXG4gICAgICAgICAgICByZWFkeTogJ3JlYWR5JyxcclxuXHJcbiAgICAgICAgICAgIHNldHRpbmdzOiAnc2V0dGluZ3MnLFxyXG4gICAgICAgICAgICBzZXR0aW5nc19vcGVuOiAnc2V0dGluZ3Nfb3BlbicsXHJcblxyXG4gICAgICAgICAgICBkcmF3OiAnZHJhdycsXHJcbiAgICAgICAgICAgIGRyYXdfZmlsbDogJ2RyYXdfZmlsbCcsXHJcbiAgICAgICAgICAgIGljb25fY29nOiAnaWNvbl9jb2cnLFxyXG5cclxuICAgICAgICAgICAgZG93bmxvYWRfbW9kZV90cnVlOiAnZG93bmxvYWRfbW9kZV90cnVlJyxcclxuICAgICAgICAgICAgZG93bmxvYWRfbW9kZV9mYWxzZTogJ2Rvd25sb2FkX21vZGVfZmFsc2UnLFxyXG5cclxuICAgICAgICAgICAgc2l6ZV9tb2RlX2NvbnRyb2w6ICdzaXplX21vZGVfY29udHJvbCcsXHJcblxyXG4gICAgICAgICAgICBzZXR0OiB7XHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nc193cmFwOiAnc2V0dGluZ3Nfd3JhcCcsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nczogJ3NldHRpbmdzJyxcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzX2JvZHk6ICdzZXR0aW5nc19ib2R5JyxcclxuICAgICAgICAgICAgICAgIGRvd25sb2FkX21vZGU6ICdkb3dubG9hZF9tb2RlJyxcclxuICAgICAgICAgICAgICAgIHNpemVfbW9kZTogJ3NpemVfbW9kZScsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nc19pdGVtOiAnc2V0dGluZ3NfaXRlbScsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nc19pdGVtX2FjdGlvbjogJ3NldHRpbmdzX2l0ZW1fYWN0aW9uJyxcclxuXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nc19jbG9zZV9pY286ICdzZXR0aW5nc19jbG9zZV9pY28nLFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3Nfc2VjdGlvbjogJ3NldHRpbmdzX3NlY3Rpb24nLFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3Nfc2VjdGlvbl9oZWFkZXI6ICdzZXR0aW5nc19zZWN0aW9uX2hlYWRlcicsXHJcbiAgICAgICAgICAgIH0sXHJcblxyXG4gICAgICAgICAgICBidG46IHtcclxuICAgICAgICAgICAgICAgIC8vINCa0LvQsNGB0YEg0LrQvdC+0L/QutC4ICjRgtC10LPQsCBhKVxyXG4gICAgICAgICAgICAgICAgYnRuOiAnYnRuJyxcclxuICAgICAgICAgICAgICAgIC8vINCa0LvQsNGB0YEg0LHQu9C+0LrQsCDQuNC60L7QvdC60LhcclxuICAgICAgICAgICAgICAgIGljb246ICdpY29uJyxcclxuICAgICAgICAgICAgICAgIG1haW5fdGl0bGVfd3JhcDogJ21haW5fdGl0bGVfd3JhcCcsXHJcbiAgICAgICAgICAgICAgICBtYWluX3RpdGxlX2lubmVyOiAnbWFpbl90aXRsZV9pbm5lcicsXHJcbiAgICAgICAgICAgICAgICAvLyDQmtC70LDRgdGBINCx0LvQvtC60LAsINCyINC60L7RgtC+0YDQvtC8INC+0YLQvtCx0YDQsNC20LDQtdGC0YHRjyDRgNCw0LfRgNC10YjQtdC90LjQtSDQutCw0YDRgtC40L3QutC4XHJcbiAgICAgICAgICAgICAgICBzaXplOiAnc2l6ZScsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nc190aXRsZTogJ3NldHRpbmdzX3RpdGxlJyxcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8g0JzQtdGC0L7QtCDQv9C+0LvRg9GH0LXQvdC40Y8g0YHQtdC70LXQutGC0L7RgNCwXHJcbiAgICAgICAgICAgIGdldChzZWwpIHtcclxuICAgICAgICAgICAgICAgIHNlbCA9IHNlbC5zcGxpdCgnLicpO1xyXG4gICAgICAgICAgICAgICAgbGV0IGVycm9yID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVzID0gdGhpcztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDQldGB0LvQuCDRgdC10LvQtdC60YLQvtGAINC90LAg0LLQtdGA0YXQvdC10Lwg0YPRgNC+0LLQvdC1INC+0LHRitC10LrRgtCwLCDQvtC9INC+0YLQtNCw0LXRgtGB0Y8g0LrQsNC6INC10YHRgtGMXHJcbiAgICAgICAgICAgICAgICBpZiAoc2VsLmxlbmd0aCA9PT0gMSkge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IHRoaXNbc2VsXTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2VsLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyDQmNC90LDRh9C1INC/0L7Qu9GD0YfQsNC10Lwg0YHQtdC70LXQutGC0L7RgCDQuNC3INCy0LvQvtC20LXQvdC90YvRhSDRg9GA0L7QstC90LXQuVxyXG4gICAgICAgICAgICAgICAgICAgIHNlbC5mb3JFYWNoKHBhcnQgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzID0gcmVzW3BhcnRdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vINCYINC10YHQu9C4INGB0LXQu9C10LrRgtC+0YAg0YHRg9GJ0LXRgdGC0LLRg9C10YIsINC00L7Qv9C40YHRi9Cy0LDQtdC8INC6INC90LXQvNGDINC/0YDQtdGE0LjQutGBXHJcbiAgICAgICAgICAgICAgICAgICAgcmVzID0gKGVycm9yIHx8ICFyZXMpID8gdW5kZWZpbmVkIDogdGhpcy5fcHJlZml4ICsgcmVzO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHJldHVybiByZXM7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyDQntCx0YrQtdC60YIg0YEg0L7Qv9C40YHQsNC90LjQtdC8INC+0LHRgNCw0LHQvtGC0YfQuNC60L7QslxyXG4gICAgICAgIHRoaXMudHJpZ2dlcnMgPSB7XHJcbiAgICAgICAgICAgIG1vdXNlb3ZlcjogW1xyXG4gICAgICAgICAgICAgICAgLy8g0KHQtdC70LXQutGC0L7RgCDRgdGB0YvQu9C60LgsINCyINC60L7RgtC+0YDRg9GOINC+0LHQtdGA0L3Rg9GC0LAg0LrQsNGA0YLQuNC90LrQsCDQsiDQv9GA0L7RgdC80L7RgtGA0YnQuNC60LVcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnaWQnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiB0aGlzLmltZ0NvbnRhaW5lcl9pZCxcclxuICAgICAgICAgICAgICAgICAgICAvLyDQn9GA0Lgg0L3QsNCy0LXQtNC10L3QuNC4INC90LAg0LrQvtC90YLQtdC50L3QtdGAINC60LDRgNGC0LjQvdC60LgsINCx0YPQtNC10Lwg0L7QsdC90L7QstC70Y/RgtGMKNGB0L7Qt9C00LDQstCw0YLRjCkg0LrQvdC+0L/QutGDXHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5fdXBkYXRlQnRuLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIC8vINCh0LXQu9C10LrRgtC+0YAg0YDQvtC00LjRgtC10LvRjNGB0LrQvtCz0L4g0LHQu9C+0LrQsCDQutC90L7Qv9C60LhcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnY2xhc3MnLFxyXG4gICAgICAgICAgICAgICAgICAgIHNlbGVjdG9yOiB0aGlzLnNlbGVjdG9ycy5QaG90b0Rvd25sb2FkX2J0bixcclxuICAgICAgICAgICAgICAgICAgICAvLyDQn9GA0Lgg0L3QsNCy0LXQtNC10L3QuNC4INC90LAg0YHQsNC80YMg0LrQvdC+0L/QutGDLCDQsdGD0LTQtdC8INC+0LHQvdC+0LLQu9GP0YLRjCDQsiDQvdC10Lkg0LTQsNC90L3Ri9C1XHJcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlcjogdGhpcy5fdXBkYXRlQnRuLFxyXG4gICAgICAgICAgICAgICAgICAgIGNoaWxkOiB0cnVlLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXSwgLy8g0JrQvtC90LXRhiBtb3VzZW92ZXJcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyDQndCw0YHRgtGA0L7QudC60Lgg0L/QvtCy0LXQtNC10L3QuNGPINC60L3QvtC/0LrQuFxyXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSB7XHJcbiAgICAgICAgICAgIC8vIGRvd25sb2FkX21vZGUgLSDRhNC70LDQsywg0LfQsNC00LDRjtGJ0LjQuSDQv9C+0LLQtdC00LXQvdC40LUg0LrQu9C40LrQsCDQv9C+INC60L3QvtC/0LrQtVxyXG4gICAgICAgICAgICAvLyDQldGB0LvQuCB0cnVlLCDRgtC+INC60LDRgNGC0LjQvdC60LAg0LHRg9C00LXRgiDRgdC60LDRh9C40LLQsNGC0YzRgdGPXHJcbiAgICAgICAgICAgIC8vINCV0YHQu9C4IGZhbHNlLCDRgtC+INC60LDRgNGC0LjQvdC60LAg0LHRg9C00LXRgiDQvtGC0LrRgNGL0LLQsNGC0YzRgdGPINCyINC90L7QstC+0Lkg0LLQutC70LDQtNC60LVcclxuICAgICAgICAgICAgX2Rvd25sb2FkX21vZGU6IHBhcmFtcy5kb3dubG9hZCxcclxuICAgICAgICAgICAgZ2V0IGRvd25sb2FkX21vZGUoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZG93bmxvYWRfbW9kZTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0IGRvd25sb2FkX21vZGUodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZG93bmxvYWRfbW9kZSA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0Ll9zYXZlU2V0dGluZ3MoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHVwZCA9IHRoYXQuX3VwZGF0ZUJ0bihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIHRoYXQuaW1nQ29udGFpbmVyX2lkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVwZCA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuaGFuZGxlcnMuc2V0U2V0dGluZ3NTdGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAvLyBfZG93bmxvYWRfbW9kZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vINCS0LjQt9GD0LDQu9GM0L3QvtC1INGB0L7RgdGC0L7Rj9C90LjQtSDQutC90L7Qv9C60LhcclxuICAgICAgICB0aGlzLnN0YXRlID0ge1xyXG4gICAgICAgICAgICBfc2V0dGluZ3M6ICdjbG9zZScsXHJcbiAgICAgICAgICAgIGdldCBzZXR0aW5ncygpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXR0aW5ncztcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgc2V0IHNldHRpbmdzKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0dGluZ3MgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5fc2F2ZVN0YXRlKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB1cGQgPSB0aGF0Ll91cGRhdGVCdG4oZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyB0aGF0LmltZ0NvbnRhaW5lcl9pZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1cGQgPT09IG51bGwpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmhhbmRsZXJzLmFwcGx5U3RhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgLy8gX3NldHRpbmdzXHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDQntCx0YrQtdC60YIg0YXRgNCw0L3QtdC90LjRjyDRgtCw0LnQvNC40L3Qs9C+0LIg0LTQu9GPINGB0LjQvdGF0YDQvtC90LjQt9Cw0YbQuNC4INC60L7QvdGC0YDQvtC70LvQtdGA0LAg0Lgg0LDQvdC40LzQsNGG0LjQuVxyXG4gICAgICAgIHRoaXMudGltaW5ncyA9IHtcclxuICAgICAgICAgICAgZGVsYXk6IDI1MCxcclxuICAgICAgICAgICAgb3BlbjogNjAwLFxyXG4gICAgICAgICAgICBzZXR0aW5nc19vcGVuOiAyNTAsXHJcbiAgICAgICAgICAgIGZpbGw6IDEwMCxcclxuICAgICAgICAgICAgYnRuX3RyYW5zaXRpb25fb3BhY2l0eTogMjUwLFxyXG4gICAgICAgICAgICBidG5fdHJhbnNpdGlvbl90cmFuc2Zvcm06IDI1MCxcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vINCX0LTQtdGB0Ywg0LHRg9C00LXRgiDRhdGA0LDQvdC40YLRjNGB0Y8g0Y3Qu9C10LzQtdC90YIg0LrQvdC+0L/QutC4XHJcbiAgICAgICAgdGhpcy53cmFwID0gbnVsbDtcclxuXHJcbiAgICAgICAgLy8g0KHQvtC30LTQsNC10Lwg0LjQvdGB0YLQsNC90YEg0YjQsNCx0LvQvtC90LjQt9Cw0YLQvtGA0LAg0LLQtdGA0YHRgtC60LhcclxuICAgICAgICB0aGlzLnRlbXBsYXRlID0gbmV3IFBob3RvRG93bmxvYWRUZW1wbGF0ZXMoe1xyXG4gICAgICAgICAgICBzZWxlY3RvcnM6IHRoaXMuc2VsZWN0b3JzLFxyXG4gICAgICAgICAgICB0aW1pbmdzOiB0aGlzLnRpbWluZ3MsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vINCh0L7Qt9C00LDQtdC8INC40L3RgdGC0LDQvdGBINC60L7QvdGC0YDQvtC70LvQtdGA0LAg0YHQvtCx0YvRgtC40Lkg0LLQvdGD0YLRgNC4INC60L3QvtC/0LrQuFxyXG4gICAgICAgIHRoaXMuaGFuZGxlcnMgPSBuZXcgSGFuZGxlcnNNYW5hZ2VyKHtcclxuICAgICAgICAgICAgUGhvdG9Eb3dubG9hZDogdGhpcyxcclxuICAgICAgICAgICAgc2VsZWN0b3JzOiB0aGlzLnNlbGVjdG9ycyxcclxuICAgICAgICAgICAgdGltaW5nczogdGhpcy50aW1pbmdzLFxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvLyDQodC+0LfQtNCw0LXQvCDQuNC90YHRgtCw0L3RgSDRhdGA0LDQvdC40LvQuNGJ0LBcclxuICAgICAgICB0aGlzLnN0b3JhZ2UgPSBuZXcgU1N0b3JhZ2Uoe1xyXG4gICAgICAgICAgICAvLyAnUGhvdG9Eb3dubG9hZCdcclxuICAgICAgICAgICAgbmFtZTogdGhpcy5zZWxlY3RvcnMucGhvdG9Eb3dubG9hZF9pZCxcclxuICAgICAgICAgICAgZGVmYXVsdDoge1xyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3M6IHRoaXMuc2V0dGluZ3MsXHJcbiAgICAgICAgICAgICAgICBzdGF0ZTogdGhpcy5zdGF0ZSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuXHJcbiAgICAgICAgLy8g0KLQvtGH0LrQsCDQstGF0L7QtNCwXHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JzQtdGC0L7QtCDQvtCx0L3QvtCy0LvQtdC90LjRjyDQtNCw0L3QvdGL0YUg0LIg0LrQvdC+0L/QutC1XHJcbiAgICBfdXBkYXRlQnRuKGVsZW0pIHtcclxuICAgICAgICBpZiAoIWVsZW0pIHJldHVybiBudWxsO1xyXG4gICAgICAgIHRoaXMucGFyZW50ID0gZWxlbS5jbG9zZXN0KCcuJyArIHRoaXMuc2VsZWN0b3JzLmltZ0NvbnRhaW5lcl9jbGFzcyk7XHJcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIC8vINCV0YHQu9C4INCyINGA0L7QtNC40YLQtdC70YzRgdC60L7QvCDQutC+0L3RgtC10LnQvdC10YDQtSDQtdGJ0LUg0L3QtdGCINC60L3QvtC/0LrQuFxyXG4gICAgICAgIGlmICghdGhpcy5wYXJlbnQucXVlcnlTZWxlY3RvcignIycgKyB0aGlzLnNlbGVjdG9ycy5waG90b0Rvd25sb2FkX2lkKSkge1xyXG4gICAgICAgICAgICAvLyDRgtC+INGB0L7Qt9C00LDQtNC40Lwg0LXQtVxyXG4gICAgICAgICAgICB0aGlzLndyYXAgPSB0aGlzLnRlbXBsYXRlLmNyZWF0ZURvd25sb2FkQ29udGFpbmVyKHRoaXMucGFyZW50KTtcclxuXHJcbiAgICAgICAgICAgIC8vINCf0YDQuNC80LXQvdC40Lwg0YHQvtGB0YLQvtGP0L3QuNC1INC90LDRgdGC0YDQvtC10LpcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVycy5zZXRTZXR0aW5nc1N0YXRlKCk7XHJcblxyXG4gICAgICAgICAgICAvLyDQn9GA0LjQvNC10L3QuNC8INGB0L7RgdGC0L7Rj9C90LjQtSDQutC90L7Qv9C60LhcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVycy5hcHBseVN0YXRlKCk7XHJcblxyXG4gICAgICAgICAgICAvLyDQn9C+0LLQtdGB0LjQvCDQvdCwINC90LXQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutC4XHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlcnMuc2V0SGFuZGxlcnMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBidG4gPSB0aGlzLndyYXAucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnNlbGVjdG9ycy5nZXQoJ2J0bi5idG4nKSk7XHJcbiAgICAgICAgbGV0IHNpemUgPSB0aGlzLndyYXAucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnNlbGVjdG9ycy5nZXQoJ2J0bi5zaXplJykpO1xyXG5cclxuICAgICAgICAvLyDQn9C+0LvRg9GH0LDQtdC8INC40Lcg0L3QtdC00YAg0JLQmiDQuNC90YTQvtGA0LzQsNGG0LjRjiDQviDQvNCw0LrRgdC40LzQsNC70YzQvdC+0Lkg0LLQtdGA0YHQuNC4INC+0YLQutGA0YvRgtC+0Lkg0LIg0L/RgNC+0YHQvNC+0YLRgNGJ0LjQutC1INC60LDRgNGC0LjQvdC60LhcclxuICAgICAgICBsZXQgaW1hZ2VfZGF0YSA9IHdpbmRvdy5QaG90b3ZpZXcuZ2VuRGF0YSh3aW5kb3cuY3VyLnB2Q3VyUGhvdG8pO1xyXG5cclxuICAgICAgICAvLyDQldGB0LvQuCDRgdGB0YvQu9C60LAg0LIg0LrQvdC+0L/QutC1INC90LUg0YLQsCwg0LrQvtGC0L7RgNCw0Y8g0L3Rg9C20L3QsCDRgdC10LnRh9Cw0YFcclxuICAgICAgICBpZiAoYnRuLmhyZWYgIT09IGltYWdlX2RhdGEuc3JjKSB7XHJcbiAgICAgICAgICAgIC8vINCe0LHQvdC+0LLQuNC8INGB0YHRi9C70LrRgyDQsiDQutC90L7Qv9C60LVcclxuICAgICAgICAgICAgYnRuLmhyZWYgPSBpbWFnZV9kYXRhLnNyYztcclxuXHJcbiAgICAgICAgICAgIC8vINCYINGA0LDQt9C80LXRgNGLINC60LDRgNGC0LjQvdC60LgsINC60L7RgtC+0YDQsNGPINC/0L4g0YHRgdGL0LvQutC1XHJcbiAgICAgICAgICAgIHRoaXMudGVtcGxhdGUuc2V0U2l6ZShzaXplLCBpbWFnZV9kYXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gPT09IFdhdGNoZXIgPT09XHJcblxyXG4gICAgLy8g0KPRgdGC0LDQvdC+0LLQutCwINC90LAgZG9jdW1lbnQg0YHQu9GD0YjQsNGC0LXQu9C10Lkg0YLQuNC/0L7QsiDRgdC+0LHRi9GC0LjQuSwg0LjQvNC10Y7RidC40YXRgdGPINCyINC+0LHRitC10LrRgtC1INC+0LHRgNCw0LHQvtGC0YfQuNC60L7QslxyXG4gICAgX2luaXRXYXRjaGVyKCkge1xyXG4gICAgICAgIGxldCB0eXBlcyA9IE9iamVjdC5rZXlzKHRoaXMudHJpZ2dlcnMpO1xyXG4gICAgICAgIHR5cGVzLmZvckVhY2godHlwZSA9PiBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIHRoaXMuX3dhdGNoVHJpZ2dlci5iaW5kKHRoaXMpKSlcclxuICAgIH1cclxuXHJcbiAgICAvLyDQnNC10YLQvtC0LCDQutC+0YLQvtGA0YvQuSDQstGL0LfRi9Cy0LDQtdGCINC90YPQttC90YvQuSDQvtCx0YDQsNCx0L7RgtGH0LjQuiDQv9GA0Lgg0L3Rg9C20L3QvtC8INGB0L7QsdGL0YLQuNC4XHJcbiAgICBfd2F0Y2hUcmlnZ2VyKGV2ZW50KSB7XHJcbiAgICAgICAgLy8g0KHQvNC+0YLRgNC40LwsINC10YHRgtGMINC70Lgg0L7QsdGA0LDQsdC+0YLRh9C40LrQuCDQv9C+0LvRg9GH0LXQvdC90L7Qs9C+INGC0LjQv9CwINGB0L7QsdGL0YLQuNGPXHJcbiAgICAgICAgLy8g0J3QsCDRgdCw0LzQvtC8INC00LXQu9C1INC+0L3QuCDQstGB0LXQs9C00LAg0LTQvtC70LbQvdGLINCx0YvRgtGMLCDQvdC+INCy0YHQtSDQttC1XHJcbiAgICAgICAgbGV0IHRyaWdnZXJzID0gdGhpcy50cmlnZ2Vyc1tldmVudC50eXBlXTtcclxuICAgICAgICBpZiAodHJpZ2dlcnMgPT09IHVuZGVmaW5lZCkgcmV0dXJuO1xyXG5cclxuICAgICAgICAvLyDQkdC10YDQtdC8INGN0LvQtdC80LXQvdGCLCDQvdCwINC60L7RgtC+0YDQvtC8INGB0YDQsNCx0L7RgtCw0LvQviDRgdC+0LHRi9GC0LjQtVxyXG4gICAgICAgIGxldCB0YXJnZXQgPSBldmVudC50YXJnZXQ7XHJcblxyXG4gICAgICAgIC8vINCm0LjQutC7INC/0L4g0L7QsdGK0LXQutGC0YMg0L7QsdGA0LDQsdC+0YLRh9C40LrQvtCyINC/0L7Qu9GD0YfQtdC90L3QvtCz0L4g0YLQuNC/0LAg0YHQvtCx0YvRgtC40Y9cclxuICAgICAgICB0cmlnZ2Vycy5mb3JFYWNoKHRyaWdnZXIgPT4ge1xyXG4gICAgICAgICAgICAvLyDQmNGJ0LXQvCDQvtCx0YDQsNCx0L7RgtGH0LjQuiDQtNC70Y8g0YbQtdC70Lgg0YHQvtCx0YvRgtC40Y9cclxuICAgICAgICAgICAgLy8g0JXRgdC70Lgg0LLQtdGA0L3QtdGC0YHRjyBmYWxzZSwg0YLQviDQvdC1INC90LDQudC00LXQvVxyXG4gICAgICAgICAgICBsZXQgY29tcGxpYW5jZSA9IHRoaXMuX2NoZWNrQ29tcGxpYW5jZVRhcmdldCh0YXJnZXQsIHRyaWdnZXIpO1xyXG5cclxuICAgICAgICAgICAgLy8g0JXRgdC70Lgg0YbQtdC70Lgg0YHQvtCx0YvRgtC40Y8g0L3QtdGCINCyINC+0LHRitC10LrRgtC1INC+0LHRgNCw0LHQvtGC0YfQuNC60L7Qsiwg0L3QviDQsiDQvtCx0YDQsNCx0L7RgtGH0LjQutC1INGD0LrQsNC30LDQvdC+LCBcclxuICAgICAgICAgICAgLy8g0YfRgtC+INC+0L0g0LzQvtC20LXRgiDRgdGA0LDQsdCw0YLRi9Cy0LDRgtGMINC90LAg0LTQvtGH0LXRgNC90LXQvCDRjdC70LXQvNC10L3RgtC1XHJcbiAgICAgICAgICAgIGlmICghY29tcGxpYW5jZSAmJiB0cmlnZ2VyLmNoaWxkKSB7XHJcbiAgICAgICAgICAgICAgICAvLyDQn9C+0L/RgNC+0LHRg9C10Lwg0L3QsNC50YLQuCDRgNC+0LTQuNGC0LXQu9GM0YHQutC40Lkg0Y3Qu9C10LzQtdC90YIg0YbQtdC70LgsINGB0L7QvtGC0LLQtdGC0YHRgtCy0YPRjtGJ0LjQuSDRgdC10LvQtdC60YLQvtGA0YNcclxuICAgICAgICAgICAgICAgIC8vINC40Lcg0L7QsdGK0LXQutGC0LAg0L7QsdGA0LDQsdC+0YLRh9C40LrQvtCyXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9jaGVja0NvbXBsaWFuY2VDaGlsZCh0YXJnZXQsIHRyaWdnZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0J/RgNC+0LLQtdGA0LrQsCDQvdCwINGB0L7QvtGC0LLQtdGC0YHRgtCy0LjQtSDRhtC10LvQuCDRgdC+0LHRi9GC0LjRjyDRgSDRgdC10LvQtdC60YLQvtGA0LDQvNC4INC+0LHRitC10LrRgtCwINGC0YDQuNCz0LPQtdGA0L7QslxyXG4gICAgX2NoZWNrQ29tcGxpYW5jZVRhcmdldCh0YXJnZXQsIHRyaWdnZXIpIHtcclxuICAgICAgICBsZXQgY29tcGxpYW5jZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAvLyDQlNCy0LAg0L7RgtC00LXQu9GM0L3Ri9GFINGD0YHQu9C+0LLQuNGPINC00LvRjyDRgtC+0LPQviwg0YfRgtC+0LHRiyDQsdGL0LvQsCDQstC+0LfQvNC+0LbQvdC+0YHRgtGMINC90LDQt9C90LDRh9C40YLRjFxyXG4gICAgICAgIC8vINGA0LDQt9C90YvQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutC4INC/0L4gaWQg0Lgg0L/QviDQutC70LDRgdGB0YMg0L3QsCDQvtC00LjQvSDRjdC70LXQvNC10L3Rgiwg0Lgg0L7QvdC4INGB0YDQsNCx0L7RgtCw0LvQuCDQvtCx0LBcclxuICAgICAgICBpZiAodHJpZ2dlci50eXBlID09PSAnaWQnKSB7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQuaWQgPT09IHRyaWdnZXIuc2VsZWN0b3IpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsaWFuY2UgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyLmhhbmRsZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLmhhbmRsZXIuY2FsbCh0aGlzLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodHJpZ2dlci50eXBlID09PSAnY2xhc3MnKSB7XHJcbiAgICAgICAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKHRyaWdnZXIuc2VsZWN0b3IpKSB7XHJcbiAgICAgICAgICAgICAgICBjb21wbGlhbmNlID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodHJpZ2dlci5oYW5kbGVyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJpZ2dlci5oYW5kbGVyLmNhbGwodGhpcywgdGFyZ2V0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIGNvbXBsaWFuY2U7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0J/RgNC+0LLQtdGA0LrQsCDQvdCwINGC0L4sINGP0LLQu9GP0LXRgtGB0Y8g0LvQuCDRhtC10LvRjCDRgdC+0LHRi9GC0LjRjyDQtNC+0YfQtdGA0L3QuNC8INGN0LvQtdC80LXQvdGC0L7QvCDRgdC10LvQtdC60YLQvtGA0LAg0LjQtyDQvtCx0YrQtdC60YLQsCDRgtGA0LjQs9Cz0LXRgNC+0LJcclxuICAgIF9jaGVja0NvbXBsaWFuY2VDaGlsZCh0YXJnZXQsIHRyaWdnZXIpIHtcclxuICAgICAgICBsZXQgcGFyZW50ID0gKHRyaWdnZXIudHlwZSA9PT0gJ2lkJykgP1xyXG4gICAgICAgICAgICB0YXJnZXQuY2xvc2VzdCgnIycgKyB0cmlnZ2VyLnNlbGVjdG9yKSA6XHJcbiAgICAgICAgICAgIHRhcmdldC5jbG9zZXN0KCcuJyArIHRyaWdnZXIuc2VsZWN0b3IpO1xyXG5cclxuICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIC8vINCV0YHQu9C4INC00LAsINC30LDQv9GD0YHRgtC40Lwg0L7QsdGA0LDQsdC+0YLRh9C40Log0LTQu9GPINGA0L7QtNC40YLQtdC70Y9cclxuICAgICAgICAgICAgdGhpcy5fY2hlY2tDb21wbGlhbmNlVGFyZ2V0KHBhcmVudCwgdHJpZ2dlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLSBXYXRjaGVyIC0tLVxyXG5cclxuICAgIC8vID09PSBTdG9yYWdlID09PVxyXG5cclxuICAgIF9zYXZlU2V0dGluZ3MoKSB7XHJcbiAgICAgICAgbGV0IHJlcyA9IHRoaXMuc3RvcmFnZS5zZXQoJ3NldHRpbmdzJywgdGhpcy5zZXR0aW5ncyk7XHJcbiAgICB9XHJcblxyXG4gICAgX3NhdmVTdGF0ZSgpIHtcclxuICAgICAgICBsZXQgcmVzID0gdGhpcy5zdG9yYWdlLnNldCgnc3RhdGUnLCB0aGlzLnN0YXRlKTtcclxuICAgIH1cclxuXHJcbiAgICBfcmVzdG9yZVN0b3JhZ2UoKSB7XHJcbiAgICAgICAgbGV0IHN0b3JhZ2UgPSB0aGlzLnN0b3JhZ2UuZ2V0QWxsKCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IHN0b3JhZ2Vfb2JqIGluIHN0b3JhZ2UpIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgb2JqIGluIHN0b3JhZ2Vbc3RvcmFnZV9vYmpdKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAob2JqLmNoYXJBdCgwKSAhPT0gJ18nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpc1tzdG9yYWdlX29ial1bb2JqXSA9IHN0b3JhZ2Vbc3RvcmFnZV9vYmpdW29ial07XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gLS0tIFN0b3JhZ2UgLS0tXHJcblxyXG4gICAgLy8g0JzQtdGC0L7QtCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQvdCwINGB0YLRgNCw0L3QuNGG0YMg0YHRgtC40LvQtdC5LCDQvdC10L7QsdGF0L7QtNC40LzRi9GFINC00LvRjyDRgNCw0LHQvtGC0YsgUGhvdG9Eb3dubG9hZFxyXG4gICAgX2luamVjdENTUygpIHtcclxuICAgICAgICBsZXQgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpO1xyXG4gICAgICAgIHN0eWxlLmlkID0gdGhpcy5zZWxlY3RvcnMuc3R5bGVfaWQ7XHJcbiAgICAgICAgc3R5bGUudGV4dENvbnRlbnQgPSB0aGlzLnRlbXBsYXRlLmdldFN0eWxlQ29udGVudCgpO1xyXG5cclxuICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlKTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgLy8g0KLQvtGH0LrQsCDQstGF0L7QtNCwXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIGNvbnNvbGUuY2xlYXIoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnJWMlcycsICh3aW5kb3cubG9nX2NvbG9yKSA/IHdpbmRvdy5sb2dfY29sb3IuYmx1ZSA6ICcnLCAnUGhvdG9Eb3dubG9hZDogSW5pdCcpO1xyXG5cclxuICAgICAgICAvLyDQktC+0YHRgdGC0LDQvdCw0LLQu9C40LLQsNC10Lwg0YHQvtGF0YDQsNC90LXQvdC90L7QtSDQsiBMb2NhbFN0b3JhZ2Ug0YHQvtGB0YLQvtGP0L3QuNC1XHJcbiAgICAgICAgdGhpcy5fcmVzdG9yZVN0b3JhZ2UoKTtcclxuXHJcbiAgICAgICAgLy8g0JTQvtCx0LDQstC70Y/QtdC8INGB0YLQuNC70LggUGhvdG9Eb3dubG9hZFxyXG4gICAgICAgIHRoaXMuX2luamVjdENTUygpO1xyXG5cclxuICAgICAgICAvLyDQmNC90LjRhtC40LDQu9C40LfQuNGA0YPQtdC8INC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0LPQu9C+0LHQsNC70YzQvdGL0YUg0YHQvtCx0YvRgtC40Lkg0L3QsCBkb2N1bWVudFxyXG4gICAgICAgIHRoaXMuX2luaXRXYXRjaGVyKCk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTU3RvcmFnZSB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMgPSB7fSkge1xyXG4gICAgICAgIHRoaXMubmFtZSA9IHBhcmFtcy5uYW1lO1xyXG4gICAgICAgIHRoaXMuZGVmYXVsdCA9IHBhcmFtcy5kZWZhdWx0O1xyXG5cclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICBzZXQoa2V5LCB2YWwpIHtcclxuICAgICAgICBpZiAodmFsID09PSB1bmRlZmluZWQpIHJldHVybiBmYWxzZTtcclxuICAgICAgICBsZXQgdG1wID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLm5hbWUpKTtcclxuICAgICAgICB0bXBba2V5XSA9IHZhbDtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLm5hbWUsIEpTT04uc3RyaW5naWZ5KHRtcCkpO1xyXG5cclxuICAgICAgICByZXR1cm4gdG1wO1xyXG4gICAgfVxyXG5cclxuICAgIGdldChrZXkpIHtcclxuICAgICAgICBsZXQgdG1wID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLm5hbWUpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRtcFtrZXldO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFsbCgpIHtcclxuICAgICAgICBsZXQgdG1wID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLm5hbWUpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRtcDtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmUoa2V5KSB7XHJcbiAgICAgICAgbGV0IHRtcCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5uYW1lKSk7XHJcbiAgICAgICAgZGVsZXRlIHRtcFtrZXldO1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMubmFtZSwgSlNPTi5zdHJpbmdpZnkodG1wKSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0bXA7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXIoKSB7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0odGhpcy5uYW1lKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQnNC10YLQvtC0INC/0L7QtNCz0L7RgtC+0LLQutC4XHJcbiAgICBwcmVwYXJlU3RvcmFnZSgpIHtcclxuICAgICAgICBpZiAobG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5uYW1lKSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMubmFtZSwgSlNPTi5zdHJpbmdpZnkodGhpcy5kZWZhdWx0KSk7XHJcblxyXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICB0aGlzLnByZXBhcmVTdG9yYWdlKCk7XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWwsIHRpbWluZ3MsIGljb25zKSB7XHJcblxyXG4gICAgcmV0dXJuIC8qIGNzcyAqLyBgXHJcbiAgICAjJHtzZWwucGhvdG9Eb3dubG9hZF9pZH0ge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xyXG4gICAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDA7XHJcbiAgICAgICAgY29sb3I6ICNDM0NGRTA7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBib3R0b206IDA7XHJcbiAgICAgICAgbGVmdDogMTAwJTtcclxuICAgICAgICBvcGFjaXR5OiAwO1xyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTM4cHgsIDAsIDFweCk7XHJcbiAgICAgICAgd2lsbC1jaGFuZ2U6IHRyYW5zZm9ybSwgb3BhY2l0eTtcclxuICAgICAgICB0cmFuc2l0aW9uOiBvcGFjaXR5ICR7dGltaW5ncy5idG5fdHJhbnNpdGlvbl9vcGFjaXR5fW1zIGVhc2UtaW4tb3V0LCB0cmFuc2Zvcm0gJHt0aW1pbmdzLmJ0bl90cmFuc2l0aW9uX3RyYW5zZm9ybX1tcyBlYXNlLWluLW91dCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIC4ke3NlbC5pbWdDb250YWluZXJfY2xhc3N9OmhvdmVyICMke3NlbC5waG90b0Rvd25sb2FkX2lkfS4ke3NlbC5yZWFkeX0ge1xyXG4gICAgICAgIG9wYWNpdHk6IC4zO1xyXG4gICAgfVxyXG5cclxuICAgIC4ke3NlbC5pbWdDb250YWluZXJfY2xhc3N9ICMke3NlbC5waG90b0Rvd25sb2FkX2lkfS4ke3NlbC5yZWFkeX06aG92ZXIge1xyXG4gICAgICAgIG9wYWNpdHk6IC44O1xyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTEwMCUsIDAsIDFweCk7XHJcbiAgICB9XHJcblxyXG4gICAgLiR7c2VsLmdldCgnYnRuLmJ0bicpfSB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgIHBhZGRpbmc6IDEwcHg7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogIzAwMDtcclxuICAgICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiA0cHg7XHJcbiAgICAgICAgY29sb3I6ICNDM0NGRTAgIWltcG9ydGFudDtcclxuICAgIH1cclxuXHJcbiAgICAuJHtzZWwuZ2V0KCdidG4uYnRuJyl9OmhvdmVyIHtcclxuICAgICAgICB0ZXh0LWRlY29yYXRpb246IG5vbmU7XHJcbiAgICB9XHJcblxyXG4gICAgLiR7c2VsLmdldCgnYnRuLmljb24nKX0ge1xyXG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnJHtpY29ucy5nZXQoJ3doaXRlJywgJ2Fycm93Jyl9Jyk7XHJcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb250YWluO1xyXG4gICAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbiAgICAgICAgaGVpZ2h0OiAxOHB4O1xyXG4gICAgICAgIHdpZHRoOiAxOHB4O1xyXG4gICAgfVxyXG5cclxuICAgIC4ke3NlbC5nZXQoJ2J0bi5idG4nKX06aG92ZXIgLiR7c2VsLmdldCgnYnRuLmljb24nKX0ge1xyXG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnJHtpY29ucy5nZXQoJ2dyZWVuJywgJ2Fycm93Jyl9Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgIyR7c2VsLnBob3RvRG93bmxvYWRfaWR9IC4ke3NlbC5nZXQoJ2J0bi5zaXplJyl9IHtcclxuICAgICAgICBjb2xvcjogJHtpY29ucy5fY29sb3JzLmdyZXl9ICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgZmxleC1ncm93OiAxO1xyXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICBoZWlnaHQ6IDE1cHg7XHJcbiAgICB9XHJcblxyXG4gICAgIyR7c2VsLnBob3RvRG93bmxvYWRfaWR9IC4ke3NlbC5nZXQoJ2J0bi5zaXplJyl9Om5vdCgubm9uX3NpemUpIHtcclxuICAgICAgICBcclxuICAgIH1cclxuXHJcbiAgICAjJHtzZWwucGhvdG9Eb3dubG9hZF9pZH0uJHtzZWwuc2V0dGluZ3N9IHtcclxuICAgICAgICBvcGFjaXR5OiAuOCAhaW1wb3J0YW50O1xyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTEwMCUsIDAsIDFweCk7XHJcbiAgICB9XHJcblxyXG4gICAgIyR7c2VsLnBob3RvRG93bmxvYWRfaWR9LiR7c2VsLnNldHRpbmdzfSAuJHtzZWwuZ2V0KCdidG4uYnRuJyl9IHtcclxuICAgICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwO1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIH1cclxuXHJcbiAgICAjJHtzZWwucGhvdG9Eb3dubG9hZF9pZH0uJHtzZWwuc2V0dGluZ3N9IC4ke3NlbC5nZXQoJ2J0bi5idG4nKX06YmVmb3JlIHtcclxuICAgICAgICBjb250ZW50OiAnJztcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgdG9wOiAtMXB4O1xyXG4gICAgICAgIGxlZnQ6IDUwJTtcclxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XHJcbiAgICAgICAgd2lkdGg6IGNhbGMoMTAwJSAtIDIwcHgpO1xyXG4gICAgICAgIGhlaWdodDogMXB4O1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjEpO1xyXG4gICAgfVxyXG5cclxuICAgIC4ke3NlbC5nZXQoJ2J0bi5tYWluX3RpdGxlX3dyYXAnKX0ge1xyXG4gICAgICAgIGZsZXgtZ3JvdzogMTtcclxuICAgICAgICBoZWlnaHQ6IDE0cHg7XHJcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICB9XHJcblxyXG4gICAgIyR7c2VsLmdldCgncGhvdG9Eb3dubG9hZF9pZCcpfSAuJHtzZWwuZ2V0KCdidG4ubWFpbl90aXRsZV9pbm5lcicpfSB7XHJcbiAgICAgICAgd2lsbC1jaGFuZ2U6IHRyYW5zZm9ybTtcclxuICAgICAgICB0cmFuc2l0aW9uOiB0cmFuc2Zvcm0gJHt0aW1pbmdzLnNldHRpbmdzX29wZW59bXMgZWFzZS1vdXQgIWltcG9ydGFudDtcclxuICAgIH1cclxuXHJcbiAgICAuJHtzZWwuZ2V0KCdidG4ubWFpbl90aXRsZV9pbm5lcicpfSAqIHtcclxuICAgICAgICBtYXJnaW4tYm90dG9tOiAxNHB4O1xyXG4gICAgfVxyXG5cclxuICAgICMke3NlbC5waG90b0Rvd25sb2FkX2lkfS4ke3NlbC5zZXR0aW5nc19vcGVufSAuJHtzZWwuZ2V0KCdidG4ubWFpbl90aXRsZV9pbm5lcicpfSB7XHJcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMjlweCwgMXB4KTtcclxuICAgIH1cclxuXHJcbiAgICAjJHtzZWwucGhvdG9Eb3dubG9hZF9pZH0uJHtzZWwuaWNvbl9jb2d9IC4ke3NlbC5nZXQoJ2J0bi5pY29uJyl9IHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiBub25lO1xyXG4gICAgfVxyXG5cclxuICAgICMke3NlbC5waG90b0Rvd25sb2FkX2lkfTpub3QoLiR7c2VsLnNldHRpbmdzfSkgLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc193cmFwJyl9IHtcclxuICAgICAgICBoZWlnaHQ6IDA7XHJcbiAgICAgICAgb3ZlcmZsb3c6IGhpZGRlbjtcclxuICAgIH1cclxuXHJcbiAgICAjJHtzZWwucGhvdG9Eb3dubG9hZF9pZH0uJHtzZWwuc2V0dGluZ3N9IC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3Nfd3JhcCcpfSB7XHJcbiAgICAgICAgaGVpZ2h0OiBhdXRvO1xyXG4gICAgfVxyXG5cclxuICAgICMke3NlbC5nZXQoJ3Bob3RvRG93bmxvYWRfaWQnKX0gLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5ncycpfSB7XHJcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XHJcbiAgICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogNHB4O1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgICB3aWR0aDogMTUwcHg7XHJcbiAgICAgICAgd2lsbC1jaGFuZ2U6IHRyYW5zZm9ybTtcclxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDEwMCUsIDFweCk7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtICR7dGltaW5ncy5zZXR0aW5nc19vcGVufW1zIGVhc2Utb3V0ICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICB9XHJcblxyXG4gICAgIyR7c2VsLnBob3RvRG93bmxvYWRfaWR9LiR7c2VsLnNldHRpbmdzX29wZW59IC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3MnKX0ge1xyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCUsIDFweCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3NfYm9keScpfSB7XHJcbiAgICAgICAgcGFkZGluZzogMCAxMHB4O1xyXG4gICAgfVxyXG5cclxuICAgIC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3NfYm9keScpfSB1bCB7XHJcbiAgICAgICAgcGFkZGluZzogNXB4IDA7XHJcbiAgICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgfVxyXG5cclxuICAgIC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3NfaXRlbScpfSB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19pdGVtJyl9Om5vdCg6bGFzdC1jaGlsZCkge1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDVweDtcclxuICAgIH1cclxuXHJcbiAgICAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW0nKX0gaW5wdXRbdHlwZT1yYWRpb10sXHJcbiAgICAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW0nKX0gaW5wdXRbdHlwZT1jaGVja2JveF0ge1xyXG4gICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgfVxyXG5cclxuICAgIC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3NfaXRlbV9hY3Rpb24nKX0ge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBtaW4taGVpZ2h0OiAxOHB4O1xyXG4gICAgICAgIHBhZGRpbmctbGVmdDogMjBweDtcclxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiAxNHB4IDE0cHg7XHJcbiAgICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcclxuICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIGNlbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICBpbnB1dFt0eXBlPXJhZGlvXSArIC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3NfaXRlbV9hY3Rpb24nKX0ge1xyXG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnJHtpY29ucy5nZXQoJ3doaXRlJywgJ2NpcmNsZScpfScpO1xyXG4gICAgfVxyXG4gICAgaW5wdXRbdHlwZT1yYWRpb10gKyAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW1fYWN0aW9uJyl9OmhvdmVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7aWNvbnMuZ2V0KCdncmVlbicsICdjaXJjbGUnKX0nKTtcclxuICAgIH1cclxuICAgIGlucHV0W3R5cGU9cmFkaW9dOmNoZWNrZWQgKyAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW1fYWN0aW9uJyl9IHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7aWNvbnMuZ2V0KCd3aGl0ZScsICdjaGVja19jaXJjbGUnKX0nKTtcclxuICAgIH1cclxuICAgIGlucHV0W3R5cGU9cmFkaW9dOmNoZWNrZWQgKyAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW1fYWN0aW9uJyl9OmhvdmVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7aWNvbnMuZ2V0KCdncmVlbicsICdjaGVja19jaXJjbGUnKX0nKTtcclxuICAgIH1cclxuXHJcbiAgICBpbnB1dFt0eXBlPWNoZWNrYm94XSArIC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3NfaXRlbV9hY3Rpb24nKX0ge1xyXG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnJHtpY29ucy5nZXQoJ3doaXRlJywgJ3NxdWFyZScpfScpO1xyXG4gICAgfVxyXG4gICAgaW5wdXRbdHlwZT1jaGVja2JveF0gKyAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW1fYWN0aW9uJyl9OmhvdmVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7aWNvbnMuZ2V0KCdncmVlbicsICdzcXVhcmUnKX0nKTtcclxuICAgIH1cclxuICAgIGlucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQgKyAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW1fYWN0aW9uJyl9IHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7aWNvbnMuZ2V0KCd3aGl0ZScsICdjaGVja19zcXVhcmUnKX0nKTtcclxuICAgIH1cclxuICAgIGlucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQgKyAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW1fYWN0aW9uJyl9OmhvdmVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7aWNvbnMuZ2V0KCdncmVlbicsICdjaGVja19zcXVhcmUnKX0nKTtcclxuICAgIH1cclxuXHJcbiAgICAjJHtzZWwuZ2V0KCdwaG90b0Rvd25sb2FkX2lkJyl9IC5jb2cge1xyXG4gICAgICAgIHdpZHRoOiAxOHB4O1xyXG4gICAgICAgIGhlaWdodDogMThweDtcclxuICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgzMGRlZyk7XHJcbiAgICAgICAgb3BhY2l0eTogMDtcclxuICAgIH1cclxuXHJcbiAgICAjJHtzZWwucGhvdG9Eb3dubG9hZF9pZH0uJHtzZWwuaWNvbl9jb2d9IC4ke3NlbC5nZXQoJ2J0bi5pY29uJyl9IC5jb2cge1xyXG4gICAgICAgIG9wYWNpdHk6IDE7XHJcbiAgICB9XHJcblxyXG4gICAgIyR7c2VsLmdldCgncGhvdG9Eb3dubG9hZF9pZCcpfSAuY29nIC5jb2dfY2lyY2xlIHtcclxuICAgICAgICBmaWxsOiBub25lO1xyXG4gICAgICAgIGZpbGwtb3BhY2l0eTogMDtcclxuICAgICAgICBzdHJva2Utd2lkdGg6IDI1O1xyXG4gICAgfVxyXG5cclxuICAgICMke3NlbC5nZXQoJ3Bob3RvRG93bmxvYWRfaWQnKX0gLmNvZyAuY29nX3BhdGgge1xyXG4gICAgICAgIGZpbGw6IG5vbmU7XHJcbiAgICAgICAgZmlsbC1vcGFjaXR5OiAwO1xyXG4gICAgICAgIHN0cm9rZS13aWR0aDogMjU7XHJcbiAgICAgICAgc3Ryb2tlLWRhc2hhcnJheTogMTY2OTtcclxuICAgICAgICBzdHJva2UtZGFzaG9mZnNldDogMTY2OTtcclxuICAgICAgICB0cmFuc2l0aW9uOiBzdHJva2UtZGFzaG9mZnNldCAke3RpbWluZ3Muc2V0dGluZ3Nfb3Blbn1tcyBsaW5lYXIsIGZpbGwtb3BhY2l0eSAke3RpbWluZ3MuZmlsbH1tcyBlYXNlLW91dCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgICMke3NlbC5nZXQoJ3Bob3RvRG93bmxvYWRfaWQnKX0gLmNvZy4ke3NlbC5kcmF3fSAuY29nX3BhdGgge1xyXG4gICAgICAgIHRyYW5zaXRpb246IHN0cm9rZS1kYXNob2Zmc2V0ICR7dGltaW5ncy5vcGVufW1zIGxpbmVhciwgZmlsbC1vcGFjaXR5ICR7dGltaW5ncy5maWxsfW1zIGVhc2Utb3V0ICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgc3Ryb2tlLWRhc2hvZmZzZXQ6IDA7XHJcbiAgICB9XHJcblxyXG4gICAgIyR7c2VsLnBob3RvRG93bmxvYWRfaWR9IC5jb2cuJHtzZWwuZHJhd19maWxsfSAuY29nX3BhdGgge1xyXG4gICAgICAgIGZpbGw6ICMwMGI3NWE7XHJcbiAgICAgICAgZmlsbC1vcGFjaXR5OiAxO1xyXG4gICAgfVxyXG5cclxuICAgICMke3NlbC5waG90b0Rvd25sb2FkX2lkfSAuY29nLiR7c2VsLmRyYXdfZmlsbH0gLmNvZ19jaXJjbGUge1xyXG4gICAgICAgIGZpbGw6ICMwMDA7XHJcbiAgICAgICAgc3Ryb2tlLXdpZHRoOiAxNTtcclxuICAgICAgICBmaWxsLW9wYWNpdHk6IDE7XHJcbiAgICB9XHJcblxyXG4gICAgLyogPT09INCU0LvRjyDQvdCw0YHRgtGA0L7QtdC6INGBINGB0LXQutGG0LjRj9C80LggPT09ICovXHJcblxyXG4gICAgLyog0JPQsNC70L7Rh9C60LAg0LLQstC10YDRhdGDINGB0LvQtdCy0LAsINC30LDQutGA0YvQstCw0Y7RidCw0Y8g0L3QsNGB0YLRgNC+0LnQutC4ICovXHJcbiAgICAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2Nsb3NlX2ljbycpfSB7XHJcbiAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xyXG4gICAgICAgIHRvcDogMDtcclxuICAgICAgICBsZWZ0OiAwO1xyXG4gICAgICAgIHotaW5kZXg6IDEwO1xyXG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnJHtpY29ucy5nZXQoJ3doaXRlJywgJ29rJyl9Jyk7XHJcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiAxNnB4IDE2cHg7XHJcbiAgICAgICAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyO1xyXG4gICAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbiAgICAgICAgcGFkZGluZzogNnB4IDEwcHg7XHJcbiAgICAgICAgd2lkdGg6IDE4cHg7XHJcbiAgICAgICAgaGVpZ2h0OiAxOHB4O1xyXG4gICAgICAgIGN1cnNvcjogcG9pbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2Nsb3NlX2ljbycpfTpob3ZlciB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcke2ljb25zLmdldCgnZ3JlZW4nLCAnb2snKX0nKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiDQodC10LrRhtC40Y8g0L3QsNGB0YLRgNC+0LXQuiAqL1xyXG4gICAgLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19zZWN0aW9uJyl9Omxhc3QtY2hpbGQge1xyXG4gICAgICAgIHBhZGRpbmctYm90dG9tOiA1cHg7XHJcbiAgICB9XHJcblxyXG4gICAgLyog0J/RgNC4INGF0L7QstC10YDQtSDQvdCwINGB0LXQutGG0LjRjiwg0L3QviDQvdC1INC90LAg0LfQsNCz0L7Qu9C+0LLQvtC6LCDQt9Cw0LPQvtC70L7QstC60YMg0LTQsNCy0LDRgtGMINC30LXQu9C10L3Ri9C5INGG0LLQtdGCICovXHJcbiAgICAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX3NlY3Rpb24nKX06aG92ZXIgLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19zZWN0aW9uX2hlYWRlcicpfSB7XHJcbiAgICAgICAgY29sb3I6ICR7aWNvbnMuX2NvbG9ycy5ncmVlbn0gIWltcG9ydGFudDtcclxuICAgIH1cclxuICAgIC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3Nfc2VjdGlvbicpfSAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX3NlY3Rpb25faGVhZGVyJyl9OmhvdmVyICB7XHJcbiAgICAgICAgY29sb3I6ICR7aWNvbnMuX2NvbG9ycy5ncmV5fSAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIC8qINCf0YDQuCDRhdC+0LLQtdGA0LUg0L3QsCDRgdC10LrRhtC40Y4sINC90L4g0L3QtSDQvdCwINC30LDQs9C+0LvQvtCy0L7Quiwg0L/QvtC00YfQtdGA0LrQuNCy0LDQvdC40Y4g0LfQsNCz0L7Qu9C+0LLQutCwINC00LDQstCw0YLRjCDQt9C10LvQtdC90YvQuSDRhtCy0LXRgiAqL1xyXG4gICAgLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19zZWN0aW9uJyl9OmhvdmVyIC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3Nfc2VjdGlvbl9oZWFkZXInKX06YWZ0ZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7aWNvbnMuX2NvbG9ycy5ncmVlbn07XHJcbiAgICAgICAgb3BhY2l0eTogLjM7XHJcbiAgICB9XHJcbiAgICAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX3NlY3Rpb24nKX0gLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19zZWN0aW9uX2hlYWRlcicpfTpob3ZlcjphZnRlciB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtpY29ucy5fY29sb3JzLndoaXRlfTtcclxuICAgICAgICBvcGFjaXR5OiAuMTtcclxuICAgIH1cclxuXHJcbiAgICAvKiDQl9Cw0LPQvtC70L7QstC+0Log0YHQtdC60YbQuNC4INC90LDRgdGC0YDQvtC10LogKi9cclxuICAgICMke3NlbC5waG90b0Rvd25sb2FkX2lkfSAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX3NlY3Rpb25faGVhZGVyJyl9IHtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICAgICAgY3Vyc29yOiBkZWZhdWx0O1xyXG4gICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xyXG4gICAgICAgIG1pbi1oZWlnaHQ6IDMwcHg7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kO1xyXG4gICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogY29sb3IgJHt0aW1pbmdzLmZpbGx9bXMgZWFzZS1vdXQgIWltcG9ydGFudDtcclxuICAgIH1cclxuXHJcbiAgICAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX3NlY3Rpb25faGVhZGVyJyl9OmFmdGVyIHtcclxuICAgICAgICBjb250ZW50OiAnJztcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgYm90dG9tOiAwO1xyXG4gICAgICAgIGxlZnQ6IDUwJTtcclxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XHJcbiAgICAgICAgd2lkdGg6IGNhbGMoMTAwJSAtIDBweCk7XHJcbiAgICAgICAgaGVpZ2h0OiAxcHg7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogJHtpY29ucy5fY29sb3JzLndoaXRlfTtcclxuICAgICAgICBvcGFjaXR5OiAuMTtcclxuICAgIH1cclxuICAgIFxyXG5cclxuXHJcbiAgICBgO1xyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc2VsLCB0aW1pbmdzLCBpY29ucykge1xyXG5cclxuICAgIHJldHVybiAvKiBodG1sICovIGBcclxuICAgIDxkaXYgY2xhc3M9XCIke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3Nfd3JhcCcpfVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCIke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3MnKX1cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19jbG9zZV9pY28nKX1cIj48L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCIke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3NfYm9keScpfVwiPlxyXG5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCIke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3Nfc2VjdGlvbicpfVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19zZWN0aW9uX2hlYWRlcicpfVwiPtCg0LXQttC40Lwg0LrQu9C40LrQsDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCIke3NlbC5nZXQoJ3NldHQuZG93bmxvYWRfbW9kZScpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCIke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3NfaXRlbScpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGlkPVwiJHtzZWwuZG93bmxvYWRfbW9kZV90cnVlfVwiIG5hbWU9XCJkb3dubG9hZF9tb2RlXCIgdmFsdWU9XCJ0cnVlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiJHtzZWwuZG93bmxvYWRfbW9kZV90cnVlfVwiIGNsYXNzPVwiJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW1fYWN0aW9uJyl9XCI+0KHQutCw0YfQsNGC0Yw8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCIke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3NfaXRlbScpfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGlkPVwiJHtzZWwuZG93bmxvYWRfbW9kZV9mYWxzZX1cIiBuYW1lPVwiZG93bmxvYWRfbW9kZVwiIHZhbHVlPVwiZmFsc2VcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCIke3NlbC5kb3dubG9hZF9tb2RlX2ZhbHNlfVwiIGNsYXNzPVwiJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW1fYWN0aW9uJyl9XCI+0JIg0L3QvtCy0L7QuSDQstC60LvQsNC00LrQtTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX3NlY3Rpb24nKX1cIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCIke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3Nfc2VjdGlvbl9oZWFkZXInKX1cIj7QoNCw0LfQvNC10YAg0LjQt9C+0LHRgNCw0LbQtdC90LjRjzwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9XCIke3NlbC5nZXQoJ3NldHQuc2l6ZV9tb2RlJyl9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cIiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19pdGVtJyl9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCIke3NlbC5zaXplX21vZGVfY29udHJvbH1cIiBuYW1lPVwic2l6ZV9tb2RlXCIgdmFsdWU9XCJ0cnVlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiJHtzZWwuc2l6ZV9tb2RlX2NvbnRyb2x9XCIgY2xhc3M9XCIke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3NfaXRlbV9hY3Rpb24nKX1cIj7Qn9C+0LrQsNC30YvQstCw0YLRjDwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvbGk+XHJcbiAgICAgICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgPC9kaXY+XHJcblxyXG4gICAgPGEgY2xhc3M9XCIke3NlbC5nZXQoJ2J0bi5idG4nKX1cIiBocmVmPVwiIyFcIiB0YXJnZXQ9XCJfYmxhbmtcIiBkcmFnZ2FibGU9XCJmYWxzZVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCIke3NlbC5nZXQoJ2J0bi5pY29uJyl9XCI+XHJcbiAgICAgICAgICAgICR7aWNvbnMuZ2V0KCdncmVlbicsICdjb2cnLCBmYWxzZSl9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIiR7c2VsLmdldCgnYnRuLm1haW5fdGl0bGVfd3JhcCcpfVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiJHtzZWwuZ2V0KCdidG4ubWFpbl90aXRsZV9pbm5lcicpfVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIiR7c2VsLmdldCgnYnRuLnNpemUnKX1cIj48L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCIke3NlbC5nZXQoJ2J0bi5zZXR0aW5nc190aXRsZScpfVwiPtCd0LDRgdGC0YDQvtC50LrQuDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvYT5cclxuICAgIGA7XHJcbn0iLCJpbXBvcnQgdGVtcGxhdGVfaHRtbCBmcm9tICcuL3RlbXBsYXRlLWh0bWwnO1xyXG5pbXBvcnQgdGVtcGxhdGVfY3NzIGZyb20gJy4vdGVtcGxhdGUtY3NzJztcclxuXHJcbi8vINCa0LvQsNGB0YEg0LTQu9GPINGI0LDQsdC70L7QvdC40LfQsNGG0LjQuCDQstC10YDRgdGC0LrQuCDQutC90L7Qv9C60Lgg0Lgg0LXQtSDRgdGC0LjQu9C10LlcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGhvdG9Eb3dubG9hZFRlbXBsYXRlcyB7XHJcbiAgICBjb25zdHJ1Y3RvcihwYXJhbXMgPSB7fSkge1xyXG4gICAgICAgICAgICAvLyDQn9C10YDQtdC00LDQvdC90YvQuSDQvtCx0YrQtdC60YIg0YHQtdC70LXQutGC0L7RgNC+0LJcclxuICAgICAgICAgICAgdGhpcy5zZWwgPSBwYXJhbXMuc2VsZWN0b3JzO1xyXG5cclxuICAgICAgICAgICAgLy8g0J/QtdGA0LXQtNCw0L3QvdGL0Lkg0L7QsdGK0LXQutGCINGC0LDQudC80LjQvdCz0L7QslxyXG4gICAgICAgICAgICB0aGlzLnRpbWluZ3MgPSBwYXJhbXMudGltaW5ncztcclxuXHJcbiAgICAgICAgICAgIC8vINCe0LHRitC10LrRgiwg0LPQtdC90LXRgNC40YDRg9GO0YnQuNC5INGA0LDQt9C90L7RhtCy0LXRgtC90YvQtSDQuNC60L7QvdC60LhcclxuICAgICAgICAgICAgdGhpcy5pY29ucyA9IHtcclxuICAgICAgICAgICAgICAgIF9jb2xvcnM6IHtcclxuICAgICAgICAgICAgICAgICAgICBncmVlbjogJyMwMEI3NUEnLFxyXG4gICAgICAgICAgICAgICAgICAgIHJlZDogJyNGOTI2NzInLFxyXG4gICAgICAgICAgICAgICAgICAgIHdoaXRlOiAnI0ZGRkZGRicsXHJcbiAgICAgICAgICAgICAgICAgICAgeWVsbG93OiAnI0ZGQzAwMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgYmxhY2s6ICcjMDAwMDAwJyxcclxuICAgICAgICAgICAgICAgICAgICBncmV5OiAnI0MzQ0ZFMCcsXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgX3ByZWZpeDogJ2RhdGE6aW1hZ2Uvc3ZnK3htbDtjaGFyc2V0PXV0Zi04LCcsXHJcbiAgICAgICAgICAgICAgICBfdGVtcGxhdGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAvKiBodG1sICovXHJcbiAgICAgICAgICAgICAgICAgICAgYXJyb3c6IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjE2XCIgaGVpZ2h0PVwiMTZcIiB2ZXJzaW9uPVwiMS4xXCIgdmlld0JveD1cIjAgMCAxNiAxNlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGw9XCJ7e2NvbG9yfX1cIiBkPVwiTSA0LDAgNCw4IDAsOCA4LDE2IDE2LDggMTIsOCAxMiwwIDQsMCB6XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+YCxcclxuICAgICAgICAgICAgICAgICAgICAvKiBodG1sICovXHJcbiAgICAgICAgICAgICAgICAgICAgb2s6IGA8c3ZnIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB3aWR0aD1cIjUxMlwiIGhlaWdodD1cIjUxMlwiIHZlcnNpb249XCIxLjFcIiB2aWV3Ym94PVwiMCAwIDUxMiA1MTJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGw9XCJ7e2NvbG9yfX1cIiBkPVwiTTE3My44OTggNDM5LjQwNGwtMTY2LjQtMTY2LjRjLTkuOTk3LTkuOTk3LTkuOTk3LTI2LjIwNiAwLTM2LjIwNGwzNi4yMDMtMzYuMjA0YzkuOTk3LTkuOTk4IDI2LjIwNy05Ljk5OCAzNi4yMDQgMEwxOTIgMzEyLjY5IDQzMi4wOTUgNzIuNTk2YzkuOTk3LTkuOTk3IDI2LjIwNy05Ljk5NyAzNi4yMDQgMGwzNi4yMDMgMzYuMjA0YzkuOTk3IDkuOTk3IDkuOTk3IDI2LjIwNiAwIDM2LjIwNGwtMjk0LjQgMjk0LjQwMWMtOS45OTggOS45OTctMjYuMjA3IDkuOTk3LTM2LjIwNC0uMDAxelwiPjwvcGF0aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+YCxcclxuICAgICAgICAgICAgICAgICAgICAvKiBodG1sICovXHJcbiAgICAgICAgICAgICAgICAgICAgY29nOiBgPHN2ZyBjbGFzcz1cImNvZ1wiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDQzNS4yOTE1MSA0NTYuNDYxMjdcIiB2ZXJzaW9uPVwiMS4xXCIgd2lkdGg9XCI0MzUuMjkxNVwiIGhlaWdodD1cIjQ1Ni40NjEyN1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwidHJhbnNsYXRlKC0xNTUuNDE0OSw0MC40Nzg1MDMpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggY2xhc3M9XCJjb2dfcGF0aFwiIHN0eWxlPVwiZGlzcGxheTppbmxpbmU7c3Ryb2tlOnt7Y29sb3J9fTtzdHJva2UtbGluZWNhcDpyb3VuZDtzdHJva2UtbGluZWpvaW46cm91bmQ7c3Ryb2tlLW1pdGVybGltaXQ6NDtzdHJva2Utb3BhY2l0eToxXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZD1cIm0gMjU4LjE1MjY0LDcwLjYzMDQ0NyBjIDI1LjI4NjM3LC0yMi41MjY1NDUgNDguNjM3MzcsLTM0LjQwODUyNSA3MS4wMzksLTQxLjA2OSB2IC01My40NzggYyAzMC40MTg3NiwtNS44NjM4MDYgNTkuNDg1NjMsLTQuOTY4MTQxIDg3LjczOCwwIHYgNTMuNDc5IGMgMjguODAzOCw4LjU2NTUzNSA1MS42MTk2MywyMy4xMTkwNDUgNzEuMDM5LDQxLjA2OSBsIDQ2LjMwOSwtMjYuNzU5OTk1IGMgMjEuODYyNDIsMjMuNzgzNzU1IDM1LjA0ODU2LDQ5LjI5MzQ2NSA0My45MjksNzUuOTY4OTk4IGwgLTQ2LjMyOSwyNi43NCBjIDYuNTA4NzUsMjcuMzU5NjcgNi41MDgyLDU0LjcxOTMzIDAsODIuMDc5IGwgNDYuMzI5LDI2Ljc0IGMgLTguOTk0NTgsMjguNzA4MDUgLTI0LjA5MDg4LDUzLjc1NTA3IC00My45MjksNzUuOTU3IGwgLTQ2LjMwOSwtMjYuNzQgYyAtMjIuMDYyNjgsMjAuOTYyOCAtNDYuMDkyNjgsMzMuMDcyNiAtNzEuMDM5LDQxLjA1OSB2IDUzLjQ3OSBjIC0zMS41OTE1Miw2LjI1NDczIC02MC40NzkyNiw1LjI5OTM1IC04Ny43MzgsMCB2IC01My40NzkgYyAtMjUuNDYwNSwtNy42MzE0OCAtNDkuMTk0MTUsLTIxLjEzNDI5IC03MS4wMzksLTQxLjA1OSBsIC00Ni4zMDksMjYuNzQgYyAtMjAuMTg0MjgsLTIxLjc1NzA4IC0zMy44NDkwOSwtNDcuNzA1MjUgLTQzLjkyOSwtNzUuOTU4IGwgNDYuMzI5LC0yNi43NCBjIC03LjE5OTQ3LC0zMC45NTk0IC01Ljc4NDk2LC01Ny42MTE4MSAwLC04Mi4wNzkgbCAtNDYuMzI5LC0yNi43NCBjIDEwLjM5MTU3LC0zMC43MzM5MTMgMjUuNTkwNzUsLTU1LjM0OTA1MyA0My45MjksLTc1Ljk2ODk5OCB6XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwidHJhbnNsYXRlKC0yLjMxNTMyMThlLTYpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGcgdHJhbnNmb3JtPVwidHJhbnNsYXRlKC05Ljk5OTc4ODMsLTkuOTk0OTQxOClcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGNpcmNsZSBjbGFzcz1cImNvZ19jaXJjbGVcIiBjeD1cIjIyNy42NDU1NFwiIGN5PVwiMjM4LjIyNTU5XCIgcj1cIjc4LjMyNDk4MlwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cInN0cm9rZTp7e2NvbG9yfX07c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLWRhc2hhcnJheTpub25lO3N0cm9rZS1vcGFjaXR5OjFcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9nPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5gLFxyXG4gICAgICAgICAgICAgICAgICAgIC8qIGh0bWwgKi9cclxuICAgICAgICAgICAgICAgICAgICBjaXJjbGU6IGA8c3ZnIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiIHdpZHRoPVwiNTEyXCIgaGVpZ2h0PVwiNTEyXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGw9XCJ7e2NvbG9yfX1cIiBkPVwiTTI1NiA4QzExOSA4IDggMTE5IDggMjU2czExMSAyNDggMjQ4IDI0OCAyNDgtMTExIDI0OC0yNDhTMzkzIDggMjU2IDh6bTAgNDQ4Yy0xMTAuNSAwLTIwMC04OS41LTIwMC0yMDBTMTQ1LjUgNTYgMjU2IDU2czIwMCA4OS41IDIwMCAyMDAtODkuNSAyMDAtMjAwIDIwMHpcIj48L3BhdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5gLFxyXG4gICAgICAgICAgICAgICAgICAgIC8qIGh0bWwgKi9cclxuICAgICAgICAgICAgICAgICAgICBjaGVja19jaXJjbGU6IGA8c3ZnIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiIHdpZHRoPVwiNTEyXCIgaGVpZ2h0PVwiNTEyXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsPVwie3tjb2xvcn19XCIgZD1cIk01MDQgMjU2YzAgMTM2Ljk2Ny0xMTEuMDMzIDI0OC0yNDggMjQ4UzggMzkyLjk2NyA4IDI1NiAxMTkuMDMzIDggMjU2IDhzMjQ4IDExMS4wMzMgMjQ4IDI0OHpNMjI3LjMxNCAzODcuMzE0bDE4NC0xODRjNi4yNDgtNi4yNDggNi4yNDgtMTYuMzc5IDAtMjIuNjI3bC0yMi42MjctMjIuNjI3Yy02LjI0OC02LjI0OS0xNi4zNzktNi4yNDktMjIuNjI4IDBMMjE2IDMwOC4xMThsLTcwLjA1OS03MC4wNTljLTYuMjQ4LTYuMjQ4LTE2LjM3OS02LjI0OC0yMi42MjggMGwtMjIuNjI3IDIyLjYyN2MtNi4yNDggNi4yNDgtNi4yNDggMTYuMzc5IDAgMjIuNjI3bDEwNCAxMDRjNi4yNDkgNi4yNDkgMTYuMzc5IDYuMjQ5IDIyLjYyOC4wMDF6XCI+PC9wYXRoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPmAsXHJcbiAgICAgICAgICAgICAgICAgICAgLyogaHRtbCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHNxdWFyZTogYDxzdmcgdmlld0JveD1cIjAgMCA0NDggNTEyXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGw9XCJ7e2NvbG9yfX1cIiBkPVwiTTQwMCAzMkg0OEMyMS41IDMyIDAgNTMuNSAwIDgwdjM1MmMwIDI2LjUgMjEuNSA0OCA0OCA0OGgzNTJjMjYuNSAwIDQ4LTIxLjUgNDgtNDhWODBjMC0yNi41LTIxLjUtNDgtNDgtNDh6bS02IDQwMEg1NGMtMy4zIDAtNi0yLjctNi02Vjg2YzAtMy4zIDIuNy02IDYtNmgzNDBjMy4zIDAgNiAyLjcgNiA2djM0MGMwIDMuMy0yLjcgNi02IDZ6XCI+PC9wYXRoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+YCxcclxuICAgICAgICAgICAgICAgICAgICAvKiBodG1sICovXHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tfc3F1YXJlOiBgPHN2ZyB2aWV3Qm94PVwiMCAwIDQ0OCA1MTJcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGw9XCJ7e2NvbG9yfX1cIiBkPVwiTTQwMCA0ODBINDhjLTI2LjUxIDAtNDgtMjEuNDktNDgtNDhWODBjMC0yNi41MSAyMS40OS00OCA0OC00OGgzNTJjMjYuNTEgMCA0OCAyMS40OSA0OCA0OHYzNTJjMCAyNi41MS0yMS40OSA0OC00OCA0OHptLTIwNC42ODYtOTguMDU5bDE4NC0xODRjNi4yNDgtNi4yNDggNi4yNDgtMTYuMzc5IDAtMjIuNjI3bC0yMi42MjctMjIuNjI3Yy02LjI0OC02LjI0OC0xNi4zNzktNi4yNDktMjIuNjI4IDBMMTg0IDMwMi43NDVsLTcwLjA1OS03MC4wNTljLTYuMjQ4LTYuMjQ4LTE2LjM3OS02LjI0OC0yMi42MjggMGwtMjIuNjI3IDIyLjYyN2MtNi4yNDggNi4yNDgtNi4yNDggMTYuMzc5IDAgMjIuNjI3bDEwNCAxMDRjNi4yNDkgNi4yNSAxNi4zNzkgNi4yNSAyMi42MjguMDAxelwiPjwvcGF0aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5gLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIF90ZW1wKHRlbXBsYXRlLCBjb2xvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBfdGVtcGxhdGUgPSB0aGlzLl90ZW1wbGF0ZVt0ZW1wbGF0ZV0gPyB0aGlzLl90ZW1wbGF0ZVt0ZW1wbGF0ZV0gOiB0aGlzLl90ZW1wbGF0ZS5hcnJvdztcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RlbXBsYXRlLnJlcGxhY2UoL1xce1xcey4qXFx9XFx9L2dtLCBjb2xvciA/IGNvbG9yIDogJ3doaXRlJyk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZ2V0KGNvbG9yLCB0ZW1wbGF0ZSwgdXJsID0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBfY29sb3IgPSB0aGlzLl9jb2xvcnNbY29sb3JdID8gdGhpcy5fY29sb3JzW2NvbG9yXSA6IGNvbG9yO1xyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzdmcgPSB0aGlzLl90ZW1wKHRlbXBsYXRlLCBfY29sb3IpLnJlcGxhY2UoL1tcXHNdezIsfS9nbSwgJyAnKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdXJsID8gdGhpcy5fcHJlZml4ICsgZW5jb2RlVVJJQ29tcG9uZW50KHN2ZykgOiBzdmc7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcblxyXG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlX2h0bWwgPSB0ZW1wbGF0ZV9odG1sKHRoaXMuc2VsLCB0aGlzLnRpbWluZ3MsIHRoaXMuaWNvbnMpO1xyXG4gICAgICAgICAgICB0aGlzLnRlbXBsYXRlX2NzcyA9IHRlbXBsYXRlX2Nzcyh0aGlzLnNlbCwgdGhpcy50aW1pbmdzLCB0aGlzLmljb25zKTtcclxuICAgICAgICB9IC8vIGNvbnN0cnVjdG9yXHJcblxyXG4gICAgLy8g0JzQtdGC0L7QtCDQtNC70Y8g0L7RgtC+0LHRgNCw0LbQtdC90LjRjyDRgNCw0LfQvNC10YDQvtCyINC60LDRgNGC0LjQvdC60Lgg0LIg0LrQvdC+0L/QutC1XHJcbiAgICBzZXRTaXplKHNpemUsIGltYWdlX2RhdGEpIHtcclxuICAgICAgICBpZiAoaW1hZ2VfZGF0YS53aWR0aCAmJiBpbWFnZV9kYXRhLmhlaWdodCkge1xyXG4gICAgICAgICAgICBzaXplLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5zZWwubm9uX3NpemUpO1xyXG4gICAgICAgICAgICBzaXplLnRleHRDb250ZW50ID0gYCR7aW1hZ2VfZGF0YS53aWR0aH14JHtpbWFnZV9kYXRhLmhlaWdodH1gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHNpemUuY2xhc3NMaXN0LmFkZCh0aGlzLnNlbC5ub25fc2l6ZSk7XHJcbiAgICAgICAgICAgIHNpemUudGV4dENvbnRlbnQgPSAnJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JzQtdGC0L7QtCDRgdC+0LfQtNCw0L3QuNGPINC60L7QvdGC0LXQudC90LXRgNCwINGBINC60L3QvtC/0LrQvtC5XHJcbiAgICBjcmVhdGVEb3dubG9hZENvbnRhaW5lcihwYXJlbnQpIHtcclxuICAgICAgICBsZXQgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHdyYXAuaWQgPSB0aGlzLnNlbC5waG90b0Rvd25sb2FkX2lkO1xyXG5cclxuICAgICAgICAvLyDQl9Cw0L/QvtC70L3QtdC90LjQtSDQutC+0L3RgtC10LnQvdC10YDQsCDQstC90YPRgtGA0LXQvdC90LjQvNC4INGN0LvQtdC80LXQvdGC0LDQvNC4XHJcbiAgICAgICAgd3JhcC5pbm5lckhUTUwgPSB0aGlzLmdldElubmVyRWxlbXMoKTtcclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHdyYXAuY2xhc3NMaXN0LmFkZCh0aGlzLnNlbC5yZWFkeSk7XHJcbiAgICAgICAgICAgIC8vINCU0LvRjyDRgtC10YHRgtCwLCDRh9GC0L7QsdGLINC90LDRgdGC0YDQvtC50LrQuCDRgdGA0LDQt9GDINC+0YLQutGA0YvRgtGLINCx0YvQu9C4XHJcbiAgICAgICAgfSwgMCk7XHJcblxyXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZCh3cmFwKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHdyYXA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JzQtdGC0L7QtCwg0LPQtdC90LXRgNC40YDRg9GO0YnQuNC5INCy0LXRgNGB0YLQutGDINGB0LDQvNC+0Lkg0LrQvdC+0L/QutC4XHJcbiAgICBnZXRJbm5lckVsZW1zKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLnRlbXBsYXRlX2h0bWw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JzQtdGC0L7QtCwg0YjQsNCx0LvQvtC90LjQt9C40YDRg9GO0YnQuNC5INGB0YLQuNC70Lgg0LrQvdC+0L/QutC4XHJcbiAgICBnZXRTdHlsZUNvbnRlbnQoKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudGVtcGxhdGVfY3NzO1xyXG4gICAgfVxyXG5cclxufSIsImltcG9ydCBQaG90b0Rvd25sb2FkIGZyb20gJy4vbW9kdWxlcy9waG90by1kb3dubG9hZCc7XHJcblxyXG5cclxud2luZG93LnBob3RvRG93bmxvYWQgPSBuZXcgUGhvdG9Eb3dubG9hZCh7XHJcbiAgICBkb3dubG9hZDogdHJ1ZVxyXG59KTsiLCIvL2Rvd25sb2FkLmpzIHY0LjIsIGJ5IGRhbmRhdmlzOyAyMDA4LTIwMTYuIFtNSVRdIHNlZSBodHRwOi8vZGFubWwuY29tL2Rvd25sb2FkLmh0bWwgZm9yIHRlc3RzL3VzYWdlXG4vLyB2MSBsYW5kZWQgYSBGRitDaHJvbWUgY29tcGF0IHdheSBvZiBkb3dubG9hZGluZyBzdHJpbmdzIHRvIGxvY2FsIHVuLW5hbWVkIGZpbGVzLCB1cGdyYWRlZCB0byB1c2UgYSBoaWRkZW4gZnJhbWUgYW5kIG9wdGlvbmFsIG1pbWVcbi8vIHYyIGFkZGVkIG5hbWVkIGZpbGVzIHZpYSBhW2Rvd25sb2FkXSwgbXNTYXZlQmxvYiwgSUUgKDEwKykgc3VwcG9ydCwgYW5kIHdpbmRvdy5VUkwgc3VwcG9ydCBmb3IgbGFyZ2VyK2Zhc3RlciBzYXZlcyB0aGFuIGRhdGFVUkxzXG4vLyB2MyBhZGRlZCBkYXRhVVJMIGFuZCBCbG9iIElucHV0LCBiaW5kLXRvZ2dsZSBhcml0eSwgYW5kIGxlZ2FjeSBkYXRhVVJMIGZhbGxiYWNrIHdhcyBpbXByb3ZlZCB3aXRoIGZvcmNlLWRvd25sb2FkIG1pbWUgYW5kIGJhc2U2NCBzdXBwb3J0LiAzLjEgaW1wcm92ZWQgc2FmYXJpIGhhbmRsaW5nLlxuLy8gdjQgYWRkcyBBTUQvVU1ELCBjb21tb25KUywgYW5kIHBsYWluIGJyb3dzZXIgc3VwcG9ydFxuLy8gdjQuMSBhZGRzIHVybCBkb3dubG9hZCBjYXBhYmlsaXR5IHZpYSBzb2xvIFVSTCBhcmd1bWVudCAoc2FtZSBkb21haW4vQ09SUyBvbmx5KVxuLy8gdjQuMiBhZGRzIHNlbWFudGljIHZhcmlhYmxlIG5hbWVzLCBsb25nIChvdmVyIDJNQikgZGF0YVVSTCBzdXBwb3J0LCBhbmQgaGlkZGVuIGJ5IGRlZmF1bHQgdGVtcCBhbmNob3JzXG4vLyBodHRwczovL2dpdGh1Yi5jb20vcm5kbWUvZG93bmxvYWRcblxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KSB7XG5cdGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcblx0XHQvLyBBTUQuIFJlZ2lzdGVyIGFzIGFuIGFub255bW91cyBtb2R1bGUuXG5cdFx0ZGVmaW5lKFtdLCBmYWN0b3J5KTtcblx0fSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcblx0XHQvLyBOb2RlLiBEb2VzIG5vdCB3b3JrIHdpdGggc3RyaWN0IENvbW1vbkpTLCBidXRcblx0XHQvLyBvbmx5IENvbW1vbkpTLWxpa2UgZW52aXJvbm1lbnRzIHRoYXQgc3VwcG9ydCBtb2R1bGUuZXhwb3J0cyxcblx0XHQvLyBsaWtlIE5vZGUuXG5cdFx0bW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG5cdH0gZWxzZSB7XG5cdFx0Ly8gQnJvd3NlciBnbG9iYWxzIChyb290IGlzIHdpbmRvdylcblx0XHRyb290LmRvd25sb2FkID0gZmFjdG9yeSgpO1xuICB9XG59KHRoaXMsIGZ1bmN0aW9uICgpIHtcblxuXHRyZXR1cm4gZnVuY3Rpb24gZG93bmxvYWQoZGF0YSwgc3RyRmlsZU5hbWUsIHN0ck1pbWVUeXBlKSB7XG5cblx0XHR2YXIgc2VsZiA9IHdpbmRvdywgLy8gdGhpcyBzY3JpcHQgaXMgb25seSBmb3IgYnJvd3NlcnMgYW55d2F5Li4uXG5cdFx0XHRkZWZhdWx0TWltZSA9IFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIsIC8vIHRoaXMgZGVmYXVsdCBtaW1lIGFsc28gdHJpZ2dlcnMgaWZyYW1lIGRvd25sb2Fkc1xuXHRcdFx0bWltZVR5cGUgPSBzdHJNaW1lVHlwZSB8fCBkZWZhdWx0TWltZSxcblx0XHRcdHBheWxvYWQgPSBkYXRhLFxuXHRcdFx0dXJsID0gIXN0ckZpbGVOYW1lICYmICFzdHJNaW1lVHlwZSAmJiBwYXlsb2FkLFxuXHRcdFx0YW5jaG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImFcIiksXG5cdFx0XHR0b1N0cmluZyA9IGZ1bmN0aW9uKGEpe3JldHVybiBTdHJpbmcoYSk7fSxcblx0XHRcdG15QmxvYiA9IChzZWxmLkJsb2IgfHwgc2VsZi5Nb3pCbG9iIHx8IHNlbGYuV2ViS2l0QmxvYiB8fCB0b1N0cmluZyksXG5cdFx0XHRmaWxlTmFtZSA9IHN0ckZpbGVOYW1lIHx8IFwiZG93bmxvYWRcIixcblx0XHRcdGJsb2IsXG5cdFx0XHRyZWFkZXI7XG5cdFx0XHRteUJsb2I9IG15QmxvYi5jYWxsID8gbXlCbG9iLmJpbmQoc2VsZikgOiBCbG9iIDtcblx0ICBcblx0XHRpZihTdHJpbmcodGhpcyk9PT1cInRydWVcIil7IC8vcmV2ZXJzZSBhcmd1bWVudHMsIGFsbG93aW5nIGRvd25sb2FkLmJpbmQodHJ1ZSwgXCJ0ZXh0L3htbFwiLCBcImV4cG9ydC54bWxcIikgdG8gYWN0IGFzIGEgY2FsbGJhY2tcblx0XHRcdHBheWxvYWQ9W3BheWxvYWQsIG1pbWVUeXBlXTtcblx0XHRcdG1pbWVUeXBlPXBheWxvYWRbMF07XG5cdFx0XHRwYXlsb2FkPXBheWxvYWRbMV07XG5cdFx0fVxuXG5cblx0XHRpZih1cmwgJiYgdXJsLmxlbmd0aDwgMjA0OCl7IC8vIGlmIG5vIGZpbGVuYW1lIGFuZCBubyBtaW1lLCBhc3N1bWUgYSB1cmwgd2FzIHBhc3NlZCBhcyB0aGUgb25seSBhcmd1bWVudFxuXHRcdFx0ZmlsZU5hbWUgPSB1cmwuc3BsaXQoXCIvXCIpLnBvcCgpLnNwbGl0KFwiP1wiKVswXTtcblx0XHRcdGFuY2hvci5ocmVmID0gdXJsOyAvLyBhc3NpZ24gaHJlZiBwcm9wIHRvIHRlbXAgYW5jaG9yXG5cdFx0ICBcdGlmKGFuY2hvci5ocmVmLmluZGV4T2YodXJsKSAhPT0gLTEpeyAvLyBpZiB0aGUgYnJvd3NlciBkZXRlcm1pbmVzIHRoYXQgaXQncyBhIHBvdGVudGlhbGx5IHZhbGlkIHVybCBwYXRoOlxuICAgICAgICBcdFx0dmFyIGFqYXg9bmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIFx0XHRhamF4Lm9wZW4oIFwiR0VUXCIsIHVybCwgdHJ1ZSk7XG4gICAgICAgIFx0XHRhamF4LnJlc3BvbnNlVHlwZSA9ICdibG9iJztcbiAgICAgICAgXHRcdGFqYXgub25sb2FkPSBmdW5jdGlvbihlKXsgXG5cdFx0XHRcdCAgZG93bmxvYWQoZS50YXJnZXQucmVzcG9uc2UsIGZpbGVOYW1lLCBkZWZhdWx0TWltZSk7XG5cdFx0XHRcdH07XG4gICAgICAgIFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IGFqYXguc2VuZCgpO30sIDApOyAvLyBhbGxvd3Mgc2V0dGluZyBjdXN0b20gYWpheCBoZWFkZXJzIHVzaW5nIHRoZSByZXR1cm46XG5cdFx0XHQgICAgcmV0dXJuIGFqYXg7XG5cdFx0XHR9IC8vIGVuZCBpZiB2YWxpZCB1cmw/XG5cdFx0fSAvLyBlbmQgaWYgdXJsP1xuXG5cblx0XHQvL2dvIGFoZWFkIGFuZCBkb3dubG9hZCBkYXRhVVJMcyByaWdodCBhd2F5XG5cdFx0aWYoL15kYXRhOihbXFx3Ky1dK1xcL1tcXHcrLi1dKyk/Wyw7XS8udGVzdChwYXlsb2FkKSl7XG5cdFx0XG5cdFx0XHRpZihwYXlsb2FkLmxlbmd0aCA+ICgxMDI0KjEwMjQqMS45OTkpICYmIG15QmxvYiAhPT0gdG9TdHJpbmcgKXtcblx0XHRcdFx0cGF5bG9hZD1kYXRhVXJsVG9CbG9iKHBheWxvYWQpO1xuXHRcdFx0XHRtaW1lVHlwZT1wYXlsb2FkLnR5cGUgfHwgZGVmYXVsdE1pbWU7XG5cdFx0XHR9ZWxzZXtcdFx0XHRcblx0XHRcdFx0cmV0dXJuIG5hdmlnYXRvci5tc1NhdmVCbG9iID8gIC8vIElFMTAgY2FuJ3QgZG8gYVtkb3dubG9hZF0sIG9ubHkgQmxvYnM6XG5cdFx0XHRcdFx0bmF2aWdhdG9yLm1zU2F2ZUJsb2IoZGF0YVVybFRvQmxvYihwYXlsb2FkKSwgZmlsZU5hbWUpIDpcblx0XHRcdFx0XHRzYXZlcihwYXlsb2FkKSA7IC8vIGV2ZXJ5b25lIGVsc2UgY2FuIHNhdmUgZGF0YVVSTHMgdW4tcHJvY2Vzc2VkXG5cdFx0XHR9XG5cdFx0XHRcblx0XHR9ZWxzZXsvL25vdCBkYXRhIHVybCwgaXMgaXQgYSBzdHJpbmcgd2l0aCBzcGVjaWFsIG5lZWRzP1xuXHRcdFx0aWYoLyhbXFx4ODAtXFx4ZmZdKS8udGVzdChwYXlsb2FkKSl7XHRcdFx0ICBcblx0XHRcdFx0dmFyIGk9MCwgdGVtcFVpQXJyPSBuZXcgVWludDhBcnJheShwYXlsb2FkLmxlbmd0aCksIG14PXRlbXBVaUFyci5sZW5ndGg7XG5cdFx0XHRcdGZvcihpO2k8bXg7KytpKSB0ZW1wVWlBcnJbaV09IHBheWxvYWQuY2hhckNvZGVBdChpKTtcblx0XHRcdCBcdHBheWxvYWQ9bmV3IG15QmxvYihbdGVtcFVpQXJyXSwge3R5cGU6IG1pbWVUeXBlfSk7XG5cdFx0XHR9XHRcdCAgXG5cdFx0fVxuXHRcdGJsb2IgPSBwYXlsb2FkIGluc3RhbmNlb2YgbXlCbG9iID9cblx0XHRcdHBheWxvYWQgOlxuXHRcdFx0bmV3IG15QmxvYihbcGF5bG9hZF0sIHt0eXBlOiBtaW1lVHlwZX0pIDtcblxuXG5cdFx0ZnVuY3Rpb24gZGF0YVVybFRvQmxvYihzdHJVcmwpIHtcblx0XHRcdHZhciBwYXJ0cz0gc3RyVXJsLnNwbGl0KC9bOjssXS8pLFxuXHRcdFx0dHlwZT0gcGFydHNbMV0sXG5cdFx0XHRkZWNvZGVyPSBwYXJ0c1syXSA9PSBcImJhc2U2NFwiID8gYXRvYiA6IGRlY29kZVVSSUNvbXBvbmVudCxcblx0XHRcdGJpbkRhdGE9IGRlY29kZXIoIHBhcnRzLnBvcCgpICksXG5cdFx0XHRteD0gYmluRGF0YS5sZW5ndGgsXG5cdFx0XHRpPSAwLFxuXHRcdFx0dWlBcnI9IG5ldyBVaW50OEFycmF5KG14KTtcblxuXHRcdFx0Zm9yKGk7aTxteDsrK2kpIHVpQXJyW2ldPSBiaW5EYXRhLmNoYXJDb2RlQXQoaSk7XG5cblx0XHRcdHJldHVybiBuZXcgbXlCbG9iKFt1aUFycl0sIHt0eXBlOiB0eXBlfSk7XG5cdFx0IH1cblxuXHRcdGZ1bmN0aW9uIHNhdmVyKHVybCwgd2luTW9kZSl7XG5cblx0XHRcdGlmICgnZG93bmxvYWQnIGluIGFuY2hvcikgeyAvL2h0bWw1IEFbZG93bmxvYWRdXG5cdFx0XHRcdGFuY2hvci5ocmVmID0gdXJsO1xuXHRcdFx0XHRhbmNob3Iuc2V0QXR0cmlidXRlKFwiZG93bmxvYWRcIiwgZmlsZU5hbWUpO1xuXHRcdFx0XHRhbmNob3IuY2xhc3NOYW1lID0gXCJkb3dubG9hZC1qcy1saW5rXCI7XG5cdFx0XHRcdGFuY2hvci5pbm5lckhUTUwgPSBcImRvd25sb2FkaW5nLi4uXCI7XG5cdFx0XHRcdGFuY2hvci5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdFx0XHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoYW5jaG9yKTtcblx0XHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRhbmNob3IuY2xpY2soKTtcblx0XHRcdFx0XHRkb2N1bWVudC5ib2R5LnJlbW92ZUNoaWxkKGFuY2hvcik7XG5cdFx0XHRcdFx0aWYod2luTW9kZT09PXRydWUpe3NldFRpbWVvdXQoZnVuY3Rpb24oKXsgc2VsZi5VUkwucmV2b2tlT2JqZWN0VVJMKGFuY2hvci5ocmVmKTt9LCAyNTAgKTt9XG5cdFx0XHRcdH0sIDY2KTtcblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vIGhhbmRsZSBub24tYVtkb3dubG9hZF0gc2FmYXJpIGFzIGJlc3Qgd2UgY2FuOlxuXHRcdFx0aWYoLyhWZXJzaW9uKVxcLyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/LipTYWZhcmlcXC8vLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcblx0XHRcdFx0aWYoL15kYXRhOi8udGVzdCh1cmwpKVx0dXJsPVwiZGF0YTpcIit1cmwucmVwbGFjZSgvXmRhdGE6KFtcXHdcXC9cXC1cXCtdKykvLCBkZWZhdWx0TWltZSk7XG5cdFx0XHRcdGlmKCF3aW5kb3cub3Blbih1cmwpKXsgLy8gcG9wdXAgYmxvY2tlZCwgb2ZmZXIgZGlyZWN0IGRvd25sb2FkOlxuXHRcdFx0XHRcdGlmKGNvbmZpcm0oXCJEaXNwbGF5aW5nIE5ldyBEb2N1bWVudFxcblxcblVzZSBTYXZlIEFzLi4uIHRvIGRvd25sb2FkLCB0aGVuIGNsaWNrIGJhY2sgdG8gcmV0dXJuIHRvIHRoaXMgcGFnZS5cIikpeyBsb2NhdGlvbi5ocmVmPXVybDsgfVxuXHRcdFx0XHR9XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXG5cdFx0XHQvL2RvIGlmcmFtZSBkYXRhVVJMIGRvd25sb2FkIChvbGQgY2grRkYpOlxuXHRcdFx0dmFyIGYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaWZyYW1lXCIpO1xuXHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChmKTtcblxuXHRcdFx0aWYoIXdpbk1vZGUgJiYgL15kYXRhOi8udGVzdCh1cmwpKXsgLy8gZm9yY2UgYSBtaW1lIHRoYXQgd2lsbCBkb3dubG9hZDpcblx0XHRcdFx0dXJsPVwiZGF0YTpcIit1cmwucmVwbGFjZSgvXmRhdGE6KFtcXHdcXC9cXC1cXCtdKykvLCBkZWZhdWx0TWltZSk7XG5cdFx0XHR9XG5cdFx0XHRmLnNyYz11cmw7XG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7IGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZik7IH0sIDMzMyk7XG5cblx0XHR9Ly9lbmQgc2F2ZXJcblxuXG5cblxuXHRcdGlmIChuYXZpZ2F0b3IubXNTYXZlQmxvYikgeyAvLyBJRTEwKyA6IChoYXMgQmxvYiwgYnV0IG5vdCBhW2Rvd25sb2FkXSBvciBVUkwpXG5cdFx0XHRyZXR1cm4gbmF2aWdhdG9yLm1zU2F2ZUJsb2IoYmxvYiwgZmlsZU5hbWUpO1xuXHRcdH1cblxuXHRcdGlmKHNlbGYuVVJMKXsgLy8gc2ltcGxlIGZhc3QgYW5kIG1vZGVybiB3YXkgdXNpbmcgQmxvYiBhbmQgVVJMOlxuXHRcdFx0c2F2ZXIoc2VsZi5VUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpLCB0cnVlKTtcblx0XHR9ZWxzZXtcblx0XHRcdC8vIGhhbmRsZSBub24tQmxvYigpK25vbi1VUkwgYnJvd3NlcnM6XG5cdFx0XHRpZih0eXBlb2YgYmxvYiA9PT0gXCJzdHJpbmdcIiB8fCBibG9iLmNvbnN0cnVjdG9yPT09dG9TdHJpbmcgKXtcblx0XHRcdFx0dHJ5e1xuXHRcdFx0XHRcdHJldHVybiBzYXZlciggXCJkYXRhOlwiICsgIG1pbWVUeXBlICAgKyBcIjtiYXNlNjQsXCIgICsgIHNlbGYuYnRvYShibG9iKSAgKTtcblx0XHRcdFx0fWNhdGNoKHkpe1xuXHRcdFx0XHRcdHJldHVybiBzYXZlciggXCJkYXRhOlwiICsgIG1pbWVUeXBlICAgKyBcIixcIiArIGVuY29kZVVSSUNvbXBvbmVudChibG9iKSAgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBCbG9iIGJ1dCBub3QgVVJMIHN1cHBvcnQ6XG5cdFx0XHRyZWFkZXI9bmV3IEZpbGVSZWFkZXIoKTtcblx0XHRcdHJlYWRlci5vbmxvYWQ9ZnVuY3Rpb24oZSl7XG5cdFx0XHRcdHNhdmVyKHRoaXMucmVzdWx0KTtcblx0XHRcdH07XG5cdFx0XHRyZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRydWU7XG5cdH07IC8qIGVuZCBkb3dubG9hZCgpICovXG59KSk7XG4iXX0="}