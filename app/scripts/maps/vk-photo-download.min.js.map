{"version":3,"sources":["node_modules/browser-pack/_prelude.js","app/scripts/modules/handlers.js","app/scripts/modules/photo-download.js","app/scripts/modules/storage.js","app/scripts/modules/template-css.js","app/scripts/modules/template-html.js","app/scripts/modules/templates.js","app/scripts/vk-photo-download.js","node_modules/downloadjs/download.js"],"names":[],"mappings":"AAAA;;;;;;;;ACAA;;;;;;;;;;AAEA;IACqB,e;;;AACjB,6BAAyB;AAAA;;AAAA,QAAb,MAAa,uEAAJ,EAAI;;AAAA;;AACjB;AACA,SAAK,aAAL,GAAqB,MAAM,CAAC,aAA5B,CAFiB,CAIjB;;AACA,SAAK,GAAL,GAAW,MAAM,CAAC,SAAlB,CALiB,CAOjB;;AACA,SAAK,OAAL,GAAe,MAAM,CAAC,OAAtB,CARiB,CAUjB;;AACA,SAAK,kBAAL,GAA0B,OAA1B,CAXiB,CAajB;;AACA,SAAK,QAAL,GAAgB;AACZ,MAAA,cAAc,EAAE,KAAK,eAAL,CAAqB,IAArB,CAA0B,IAA1B,CADJ;AAEZ,MAAA,aAAa,EAAE,KAAK,cAAL,CAAoB,IAApB,CAAyB,IAAzB,CAFH;AAGZ,MAAA,eAAe,EAAE,KAAK,gBAAL,CAAsB,IAAtB,CAA2B,IAA3B,CAHL;AAIZ,MAAA,UAAU,EAAE,KAAK,WAAL,CAAiB,IAAjB,CAAsB,IAAtB,CAJA;AAKZ,MAAA,UAAU,EAAE,KAAK,WAAL,CAAiB,IAAjB,CAAsB,IAAtB,CALA;AAMZ,MAAA,mBAAmB,EAAE;AAAA,eAAM,KAAI,CAAC,aAAL,CAAmB,KAAnB,CAAyB,QAAzB,GAAoC,OAA1C;AAAA,OANT;AAOZ,MAAA,mBAAmB,EAAE,KAAK,oBAAL,CAA0B,IAA1B,CAA+B,IAA/B,CAPT;AAQZ,MAAA,eAAe,EAAE,KAAK,gBAAL,CAAsB,IAAtB,CAA2B,IAA3B,CARL;AASZ,MAAA,cAAc,EAAE,KAAK,SAAL,CAAe,IAAf,CAAoB,IAApB,EAA0B,KAAK,GAAL,CAAS,GAAT,CAAa,qBAAb,CAA1B,EAA+D,KAAK,OAAL,CAAa,aAAb,GAA6B,GAA5F,aAAqG,KAAK,GAAL,CAAS,GAAT,CAAa,UAAb,CAArG,EATJ;AAUZ,MAAA,iBAAiB,EAAE,KAAK,kBAAL,CAAwB,IAAxB,CAA6B,IAA7B,CAVP;AAWZ,MAAA,YAAY,EAAE,KAAK,aAAL,CAAmB,IAAnB,CAAwB,IAAxB;AAXF,KAAhB;AAcA,SAAK,MAAL,GAAc;AACV,MAAA,KAAK,EAAE,IADG;AAEV,MAAA,IAAI,EAAE;AAFI,KAAd;AAIH,G,CAAC;AAEN;;;;;kCACc;AACV,UAAI,IAAI,GAAG,KAAK,aAAL,CAAmB,IAA9B;AACA,UAAI,CAAC,IAAL,EAAW,OAAO,KAAP;AAEX,UAAI,GAAG,GAAG,IAAI,CAAC,aAAL,CAAmB,MAAM,KAAK,GAAL,CAAS,GAAT,CAAa,SAAb,CAAzB,CAAV;AAEA,WAAK,GAAL,CAAS,GAAT,EAAc,YAAd,EAA4B,WAA5B;AACA,WAAK,GAAL,CAAS,GAAT,EAAc,YAAd,EAA4B,SAA5B;AACA,WAAK,GAAL,CAAS,GAAT,EAAc,YAAd,EAA4B,YAA5B;AACA,WAAK,GAAL,CAAS,GAAT,EAAc,gBAAd,EAAgC,OAAhC,EATU,CAWV;;AACA,UAAI,SAAS,GAAG,IAAI,CAAC,aAAL,CAAmB,MAAM,KAAK,GAAL,CAAS,GAAT,CAAa,yBAAb,CAAzB,CAAhB;AACA,WAAK,GAAL,CAAS,SAAT,EAAoB,qBAApB,EAA2C,OAA3C,EAbU,CAeV;;AACA,UAAI,aAAa,GAAG,IAAI,CAAC,aAAL,CAAmB,MAAM,KAAK,GAAL,CAAS,GAAT,CAAa,oBAAb,CAAzB,CAApB;AACA,WAAK,GAAL,CAAS,aAAT,EAAwB,qBAAxB,EAA+C,QAA/C,EAjBU,CAmBV;;AACA,UAAI,SAAS,GAAG,IAAI,CAAC,aAAL,CAAmB,MAAM,KAAK,GAAL,CAAS,GAAT,CAAa,gBAAb,CAAzB,CAAhB;AACA,WAAK,GAAL,CAAS,SAAT,EAAoB,iBAApB,EAAuC,QAAvC,EArBU,CAuBV;;AACA,UAAI,gBAAgB,GAAG,IAAI,CAAC,aAAL,CAAmB,MAAM,KAAK,GAAL,CAAS,GAAT,CAAa,uBAAb,CAAzB,CAAvB;AACA,WAAK,GAAL,CAAS,gBAAT,EAA2B,mBAA3B,EAAgD,QAAhD;AACH,K,CAED;;;;uCACmB;AACf,UAAI,IAAI,GAAG,KAAK,aAAL,CAAmB,IAA9B;AACA,UAAI,CAAC,IAAL,EAAW,OAAO,KAAP,CAFI,CAIf;;AACA,UAAI,aAAa,GAAG,KAAK,aAAL,CAAmB,QAAnB,CAA4B,aAA5B,CAA0C,QAA1C,EAApB;AACA,UAAI,mBAAmB,GAAG,IAAI,CAAC,aAAL,CAAmB,MAAM,KAAK,GAAL,CAAS,GAAT,CAAa,oBAAb,CAAzB,CAA1B;AACA,UAAI,qBAAqB,GAAG,mBAAmB,CAAC,aAApB,uBAAiD,aAAjD,OAA5B;AACA,MAAA,qBAAqB,CAAC,OAAtB,GAAgC,IAAhC,CARe,CAUf;;AACA,UAAI,iBAAiB,GAAG,IAAI,CAAC,aAAL,CAAmB,MAAM,KAAK,GAAL,CAAS,iBAAlC,CAAxB;AACA,MAAA,iBAAiB,CAAC,OAAlB,GAA4B,KAAK,aAAL,CAAmB,QAAnB,CAA4B,SAAxD;;AACA,UAAI,KAAK,aAAL,CAAmB,QAAnB,CAA4B,SAAhC,EAA2C;AACvC,QAAA,IAAI,CAAC,SAAL,CAAe,MAAf,CAAsB,KAAK,GAAL,CAAS,QAA/B;AACH,OAFD,MAEO;AACH,QAAA,IAAI,CAAC,SAAL,CAAe,GAAf,CAAmB,KAAK,GAAL,CAAS,QAA5B;AACH,OAjBc,CAmBf;;;AACA,UAAI,wBAAwB,GAAG,IAAI,CAAC,aAAL,CAAmB,MAAM,KAAK,GAAL,CAAS,wBAAlC,CAA/B;AACA,MAAA,wBAAwB,CAAC,OAAzB,GAAmC,KAAK,aAAL,CAAmB,QAAnB,CAA4B,WAA/D,CArBe,CAsBf;;AACA,UAAI,4BAA4B,GAAG,IAAI,CAAC,aAAL,CAAmB,MAAM,KAAK,GAAL,CAAS,4BAAlC,CAAnC;AACA,MAAA,4BAA4B,CAAC,QAA7B,GAAwC,CAAC,KAAK,aAAL,CAAmB,QAAnB,CAA4B,WAArE,CAxBe,CAyBf;;AACA,MAAA,4BAA4B,CAAC,OAA7B,GAAuC,KAAK,aAAL,CAAmB,QAAnB,CAA4B,eAAnE;AAEH,K,CAED;;;;iCACa;AACT,UAAI,KAAK,GAAG,KAAK,aAAL,CAAmB,KAA/B;;AAEA,cAAQ,KAAK,CAAC,QAAd;AACI,aAAK,aAAL;AACI,eAAK,mBAAL;;AACA;;AAEJ,aAAK,MAAL;AACI,eAAK,aAAL;;AACA;;AAEJ,aAAK,OAAL;AACI,eAAK,cAAL;;AACA;;AAEJ;AACI;AAdR;AAgBH,K,CAED;;;;gCACY,C,EAAG;AAAA;;AACX;AACA,UAAI,CAAC,CAAC,KAAF,KAAY,CAAhB,EAAmB;AACf,YAAI,KAAK,aAAL,CAAmB,QAAnB,CAA4B,eAA5B,IACA,KAAK,aAAL,CAAmB,QAAnB,CAA4B,WAD5B,IAEA,KAAK,aAAL,CAAmB,KAAnB,CAAyB,QAAzB,IAAqC,OAFzC,EAEkD;AAE9C,eAAK,aAAL,CAAmB,CAAnB;AACH;;AAED,eAAO,KAAP;AACH,OAXU,CAaX;;;AACA,UAAI,KAAK,aAAL,CAAmB,KAAnB,CAAyB,QAAzB,IAAqC,OAAzC,EAAkD;AAC9C;AACA,aAAK,MAAL,CAAY,KAAZ,GAAoB,UAAU,CAAC,YAAM;AACjC;AACA,UAAA,MAAI,CAAC,aAAL,CAAmB,KAAnB,CAAyB,QAAzB,GAAoC,aAApC,CAFiC,CAIjC;AACA;;AACA,UAAA,MAAI,CAAC,MAAL,CAAY,IAAZ,GAAmB,UAAU,CAAC,YAAM;AAChC;AACA,YAAA,MAAI,CAAC,aAAL,CAAmB,KAAnB,CAAyB,QAAzB,GAAoC,MAApC;AACH,WAH4B,EAG1B,MAAI,CAAC,OAAL,CAAa,IAHa,CAA7B;AAKH,SAX6B,EAW3B,KAAK,OAAL,CAAa,KAXc,CAA9B,CAF8C,CAe9C;AACH,OAhBD,MAgBO,IAAI,KAAK,aAAL,CAAmB,KAAnB,CAAyB,QAAzB,IAAqC,MAAzC,EAAiD;AACpD;AACA,aAAK,aAAL,CAAmB,IAAnB,CAAwB,aAAxB,CAAsC,MAAtC,EACK,SADL,CACe,MADf,CACsB,KAAK,GAAL,CAAS,IAD/B,EACqC,KAAK,GAAL,CAAS,SAD9C;AAGA,QAAA,UAAU,CAAC,YAAM;AACb;AACA;AACA,cAAI,MAAI,CAAC,aAAL,CAAmB,KAAnB,CAAyB,QAAzB,IAAqC,MAAzC,EAAiD;AAC7C,YAAA,MAAI,CAAC,aAAL,CAAmB,KAAnB,CAAyB,QAAzB,GAAoC,OAApC;AACH;AACJ,SANS,EAMP,KAAK,OAAL,CAAa,KANN,CAAV;AAQH;AACJ;;;gCAEW,C,EAAG;AACX;AACA,UAAI,CAAC,CAAC,KAAF,KAAY,CAAhB,EAAmB,OAAO,KAAP,CAFR,CAIX;;AACA,UAAI,KAAK,MAAL,CAAY,KAAZ,IAAqB,CAAC,KAAK,MAAL,CAAY,IAAlC,IAA0C,KAAK,aAAL,CAAmB,KAAnB,CAAyB,QAAzB,IAAqC,OAAnF,EAA4F;AAExF;AACA;AACA,YAAI,KAAK,aAAL,CAAmB,QAAnB,CAA4B,aAAhC,EAA+C;AAC3C,eAAK,GAAL,CAAS,CAAC,CAAC,aAAX,EAA0B,CAAC,iBAAD,EAAoB,gBAApB,EAAsC,cAAtC,CAA1B;AACH,SAFD,MAEO;AACH,eAAK,GAAL,CAAS,CAAC,CAAC,aAAX,EAA0B,CAAC,eAAD,EAAkB,gBAAlB,EAAoC,cAApC,CAA1B;AACH;AACJ,OAdU,CAgBX;;;AACA,UAAI,KAAK,MAAL,CAAY,KAAZ,IAAqB,CAAC,KAAK,MAAL,CAAY,IAAlC,IAA0C,KAAK,aAAL,CAAmB,KAAnB,CAAyB,QAAzB,IAAqC,MAAnF,EAA2F;AACvF,aAAK,aAAL,CAAmB,KAAnB,CAAyB,QAAzB,GAAoC,OAApC;AACH,OAnBU,CAqBX;;;AACA,UAAI,KAAK,MAAL,CAAY,KAAZ,IAAqB,KAAK,MAAL,CAAY,IAAjC,IAAyC,KAAK,aAAL,CAAmB,KAAnB,CAAyB,QAAzB,IAAqC,MAAlF,EAA0F;AACtF;AACA;AACA,aAAK,GAAL,CAAS,CAAC,CAAC,aAAX,EAA0B,gBAA1B;AACH;;AAED,UAAI,KAAK,aAAL,CAAmB,KAAnB,CAAyB,QAAzB,IAAqC,aAAzC,EAAwD;AACpD,aAAK,GAAL,CAAS,CAAC,CAAC,aAAX,EAA0B,gBAA1B;AACA,aAAK,aAAL,CAAmB,KAAnB,CAAyB,QAAzB,GAAoC,OAApC;AACH,OA/BU,CAiCX;;;AACA,MAAA,YAAY,CAAC,KAAK,MAAL,CAAY,KAAb,CAAZ;AACA,WAAK,MAAL,CAAY,KAAZ,GAAoB,IAApB;AACA,MAAA,YAAY,CAAC,KAAK,MAAL,CAAY,IAAb,CAAZ;AACA,WAAK,MAAL,CAAY,IAAZ,GAAmB,IAAnB;AACH,K,CAED;;;;0CACsB;AAClB,WAAK,aAAL,CAAmB,IAAnB,CAAwB,SAAxB,CAAkC,GAAlC,CAAsC,KAAK,GAAL,CAAS,QAA/C;AACA,WAAK,aAAL,CAAmB,IAAnB,CACK,aADL,CACmB,MADnB,EAEK,SAFL,CAEe,GAFf,CAEmB,KAAK,GAAL,CAAS,IAF5B;AAGH,K,CAED;;;;oCACgB;AAAA;;AACZ,WAAK,mBAAL;;AAEA,UAAI,IAAI,GAAG,SAAP,IAAO,GAAM;AACb,QAAA,MAAI,CAAC,aAAL,CAAmB,IAAnB,CAAwB,SAAxB,CAAkC,GAAlC,CAAsC,MAAI,CAAC,GAAL,CAAS,QAA/C,EAAyD,MAAI,CAAC,GAAL,CAAS,aAAlE;;AACA,QAAA,UAAU,CAAC,YAAM;AACb,UAAA,MAAI,CAAC,aAAL,CAAmB,IAAnB,CACK,aADL,CACmB,MADnB,EAEK,SAFL,CAEe,GAFf,CAEmB,MAAI,CAAC,GAAL,CAAS,SAF5B;AAGH,SAJS,EAIP,MAAI,CAAC,OAAL,CAAa,aAJN,CAAV;AAKH,OAPD;;AASA,UAAI,KAAK,aAAL,CAAmB,QAAnB,CAA4B,SAAhC,EAA2C;AACvC,QAAA,IAAI;AACP,OAFD,MAEO;AACH;AACA,aAAK,aAAL,CAAmB,IAAnB,CAAwB,SAAxB,CAAkC,GAAlC,CAAsC,KAAK,GAAL,CAAS,QAA/C;AACA,QAAA,UAAU,CAAC,YAAM;AACb,UAAA,IAAI;AACP,SAFS,EAEP,KAAK,OAAL,CAAa,wBAFN,CAAV;AAGH;AACJ,K,CAED;;;;qCACiB;AAAA;;AACb,UAAI,KAAK,GAAG,SAAR,KAAQ,GAAM;AACd,QAAA,MAAI,CAAC,aAAL,CAAmB,IAAnB,CAAwB,SAAxB,CAAkC,MAAlC,CAAyC,MAAI,CAAC,GAAL,CAAS,QAAlD;;AACA,QAAA,MAAI,CAAC,aAAL,CAAmB,IAAnB,CAAwB,SAAxB,CAAkC,MAAlC,CAAyC,MAAI,CAAC,GAAL,CAAS,QAAlD,EAFc,CAId;;;AACA,QAAA,UAAU,CAAC,YAAM;AACb,UAAA,MAAI,CAAC,aAAL,CAAmB,IAAnB,CAAwB,SAAxB,CAAkC,MAAlC,CAAyC,MAAI,CAAC,GAAL,CAAS,QAAlD;AACH,SAFS,EAEP,MAAI,CAAC,OAAL,CAAa,wBAFN,CAAV,CALc,CAQd;AACH,OATD;;AAWA,WAAK,aAAL,CAAmB,IAAnB,CACK,aADL,CACmB,MADnB,EAEK,SAFL,CAEe,MAFf,CAEsB,KAAK,GAAL,CAAS,IAF/B,EAEqC,KAAK,GAAL,CAAS,SAF9C;AAGA,WAAK,aAAL,CAAmB,IAAnB,CAAwB,SAAxB,CAAkC,MAAlC,CAAyC,KAAK,GAAL,CAAS,aAAlD;AAEA,MAAA,UAAU,CAAC,YAAM;AACb,QAAA,KAAK;AACR,OAFS,EAEP,KAAK,OAAL,CAAa,aAFN,CAAV;AAGH,K,CAED;AACA;AACA;;;;wBACI,I,EAAM,Y,EAAoD;AAAA;;AAAA,UAAtC,UAAsC,uEAAzB,KAAK,kBAAoB;AAC1D,UAAI,CAAC,IAAD,IAAS,CAAC,YAAd,EAA4B,OAAO,KAAP;AAE5B,UAAI,MAAM,GAAG,IAAb,CAH0D,CAK1D;;AACA,WAAK,SAAL,CAAe,IAAf,EAAqB,UAArB,EAN0D,CAQ1D;;AACA,UAAI,YAAY,YAAY,KAA5B,EAAmC;AAC/B,QAAA,YAAY,CAAC,OAAb,CAAqB,UAAA,IAAI,EAAI;AACzB,UAAA,MAAI,CAAC,GAAL,CAAS,IAAT,EAAe,IAAf,EAAqB,UAArB;AACH,SAFD;AAGH,OAJD,MAIO,IAAI,OAAO,YAAP,KAAwB,QAA5B,EAAsC;AACzC,aAAK,GAAL,CAAS,IAAT,EAAe,YAAf,EAA6B,UAA7B;AACH,OAFM,MAEA;AACH,QAAA,MAAM,GAAG,KAAT;AACH;;AAED,aAAO,MAAP;AACH,K,CAED;;;;wBACI,I,EAAM,Y,EAAoD;AAAA,UAAtC,UAAsC,uEAAzB,KAAK,kBAAoB;AAC1D,UAAI,CAAC,IAAD,IAAS,CAAC,YAAV,IAA0B,CAAC,KAAK,UAAL,CAAgB,YAAhB,CAA/B,EAA8D,OAAO,KAAP;AAE9D,MAAA,IAAI,CAAC,gBAAL,CAAsB,UAAtB,EAAkC,KAAK,UAAL,CAAgB,YAAhB,CAAlC;AAEA,aAAO,IAAP;AACH,K,CAED;;;;2BACO,I,EAAM,Y,EAAoD;AAAA,UAAtC,UAAsC,uEAAzB,KAAK,kBAAoB;AAC7D,UAAI,CAAC,IAAD,IAAS,CAAC,YAAV,IAA0B,CAAC,KAAK,UAAL,CAAgB,YAAhB,CAA/B,EAA8D,OAAO,KAAP;AAE9D,MAAA,IAAI,CAAC,mBAAL,CAAyB,UAAzB,EAAqC,KAAK,UAAL,CAAgB,YAAhB,CAArC;AAEA,aAAO,IAAP;AACH,K,CAED;;;;8BACU,I,EAA4C;AAAA,UAAtC,UAAsC,uEAAzB,KAAK,kBAAoB;AAClD,UAAI,CAAC,IAAL,EAAW,OAAO,KAAP;;AAEX,WAAK,IAAI,OAAT,IAAoB,KAAK,QAAzB,EAAmC;AAC/B,QAAA,IAAI,CAAC,mBAAL,CAAyB,UAAzB,EAAqC,KAAK,UAAL,CAAgB,OAAhB,CAArC;AACH;;AAED,aAAO,IAAP;AACH,K,CAED;;;;uCACmB;AACf,aAAO,MAAM,CAAC,IAAP,CAAY,KAAK,QAAjB,CAAP;AACH,K,CAED;;;;kCACc;AACV,aAAO,KAAK,QAAZ;AACH,K,CAED;;;;+BACW,Y,EAAc;AACrB,aAAO,KAAK,QAAL,CAAc,YAAd,CAAP;AACH,K,CAED;;;;8BAEU,U,EAAY,O,EAAS,I,EAAM;AACjC,UAAI,IAAI,YAAY,KAApB,EAA2B;AACvB,QAAA,IAAI,GAAG,IAAI,CAAC,aAAZ;AACH,OAFD,MAEO,IAAI,OAAO,IAAP,KAAgB,QAApB,EAA8B;AACjC,QAAA,IAAI,GAAG,QAAQ,CAAC,aAAT,CAAuB,IAAvB,CAAP;AACH,OAFM,MAEA,IAAI,IAAI,KAAK,SAAb,EAAwB;AAC3B,QAAA,IAAI,GAAG,IAAP;AACH;;AAED,MAAA,IAAI,CAAC,SAAL,CAAe,MAAf,CAAsB,UAAtB;AAEA,MAAA,UAAU,CAAC,YAAM;AACb,QAAA,IAAI,CAAC,SAAL,CAAe,GAAf,CAAmB,UAAnB;AACH,OAFS,EAEP,CAFO,CAAV;AAIA,MAAA,UAAU,CAAC,YAAM;AACb,QAAA,IAAI,CAAC,SAAL,CAAe,MAAf,CAAsB,UAAtB;AACH,OAFS,EAEP,OAFO,CAAV;AAGH,K,CAED;;;;kCAEc,C,EAAG;AACb,UAAI,GAAG,GAAG,CAAC,CAAC,aAAF,CAAgB,IAA1B;;AACA,WAAK,aAAL,CAAmB,aAAnB,CAAiC,GAAjC;AACH,K,CAED;;;;uCACmB,C,EAAG;AAClB,UAAI,CAAC,CAAC,MAAF,CAAS,EAAT,KAAgB,KAAK,GAAL,CAAS,wBAA7B,EAAuD;AACnD;AACA,aAAK,aAAL,CAAmB,QAAnB,CAA4B,WAA5B,GAA0C,CAAC,CAAC,MAAF,CAAS,OAAnD;AACH,OAHD,MAGO,IAAI,CAAC,CAAC,MAAF,CAAS,EAAT,KAAgB,KAAK,GAAL,CAAS,4BAA7B,EAA2D;AAC9D;AACA,aAAK,aAAL,CAAmB,QAAnB,CAA4B,eAA5B,GAA8C,CAAC,CAAC,MAAF,CAAS,OAAvD;AACH;AACJ,K,CAED;;;;qCACiB,C,EAAG;AAChB,WAAK,aAAL,CAAmB,QAAnB,CAA4B,SAA5B,GAAwC,CAAC,CAAC,MAAF,CAAS,OAAjD;AACH,K,CAED;;;;yCACqB,C,EAAG;AACpB,UAAI,KAAK,GAAG,CAAC,CAAC,MAAF,CAAS,KAArB;;AAEA,UAAI,KAAK,KAAK,MAAd,EAAsB;AAClB,aAAK,aAAL,CAAmB,QAAnB,CAA4B,aAA5B,GAA4C,IAA5C;AACH,OAFD,MAEO,IAAI,KAAK,KAAK,OAAd,EAAuB;AAC1B,aAAK,aAAL,CAAmB,QAAnB,CAA4B,aAA5B,GAA4C,KAA5C;AACH;AACJ,K,CAED;;;;oCACgB,C,EAAG;AACf,MAAA,CAAC,CAAC,cAAF;AACA,aAAO,KAAP;AACH,K,CAED;;;;mCACe,C,EAAG;AACd,WAAK,MAAL,CAAY,CAAC,CAAC,aAAd,EAA6B,eAA7B;AACA,aAAO,IAAP;AACH,K,CAED;;;;qCACiB,C,EAAG;AAChB,MAAA,CAAC,CAAC,cAAF;AACA,+BAAS,CAAC,CAAC,aAAF,CAAgB,IAAzB;AAEA,WAAK,MAAL,CAAY,CAAC,CAAC,aAAd,EAA6B,iBAA7B;AACA,aAAO,KAAP;AACH;;;;;;;;;;;;;;;;ACtZL;;AACA;;AACA;;;;;;;;;;IAEqB,a;;;AACjB,2BAAyB;AAAA,QAAb,MAAa,uEAAJ,EAAI;;AAAA;;AACrB,QAAI,IAAI,GAAG,IAAX,CADqB,CAGrB;AACA;;AACA,SAAK,eAAL,GAAuB,UAAvB,CALqB,CAOrB;;AACA,SAAK,SAAL,GAAiB;AACb,MAAA,OAAO,EAAE,gBADI;AAEb;AACA,MAAA,gBAAgB,EAAE,eAHL;AAIb;AACA;AACA,MAAA,kBAAkB,EAAE,eANP;AAOb;AACA,MAAA,QAAQ,EAAE,oBARG;AAUb;AACA;AACA,MAAA,QAAQ,EAAE,UAZG;AAab;AACA,MAAA,KAAK,EAAE,OAdM;AAgBb,MAAA,QAAQ,EAAE,UAhBG;AAkBb,MAAA,QAAQ,EAAE,UAlBG;AAmBb,MAAA,aAAa,EAAE,eAnBF;AAqBb,MAAA,IAAI,EAAE,MArBO;AAsBb,MAAA,SAAS,EAAE,WAtBE;AAuBb,MAAA,QAAQ,EAAE,UAvBG;AAyBb,MAAA,kBAAkB,EAAE,oBAzBP;AA0Bb,MAAA,mBAAmB,EAAE,qBA1BR;AA4Bb,MAAA,iBAAiB,EAAE,mBA5BN;AA8Bb,MAAA,wBAAwB,EAAE,0BA9Bb;AA+Bb,MAAA,4BAA4B,EAAE,8BA/BjB;AAgCb,MAAA,kBAAkB,EAAE,oBAhCP;AAkCb,MAAA,IAAI,EAAE;AACF,QAAA,aAAa,EAAE,eADb;AAEF,QAAA,QAAQ,EAAE,UAFR;AAGF,QAAA,aAAa,EAAE,eAHb;AAIF,QAAA,aAAa,EAAE,eAJb;AAKF,QAAA,SAAS,EAAE,WALT;AAMF,QAAA,gBAAgB,EAAE,kBANhB;AAOF,QAAA,aAAa,EAAE,eAPb;AAQF,QAAA,oBAAoB,EAAE,sBARpB;AAUF,QAAA,kBAAkB,EAAE,oBAVlB;AAWF,QAAA,gBAAgB,EAAE,kBAXhB;AAYF,QAAA,uBAAuB,EAAE;AAZvB,OAlCO;AAiDb,MAAA,GAAG,EAAE;AACD;AACA,QAAA,GAAG,EAAE,KAFJ;AAGD;AACA,QAAA,IAAI,EAAE,MAJL;AAKD,QAAA,eAAe,EAAE,iBALhB;AAMD,QAAA,gBAAgB,EAAE,kBANjB;AAOD;AACA,QAAA,IAAI,EAAE,MARL;AASD,QAAA,cAAc,EAAE,gBATf;AAUD;AACA,QAAA,eAAe,EAAE;AAXhB,OAjDQ;AA8Db;AACA,MAAA,GA/Da,eA+DT,GA/DS,EA+DJ;AACL,QAAA,GAAG,GAAG,GAAG,CAAC,KAAJ,CAAU,GAAV,CAAN;AACA,YAAI,KAAK,GAAG,KAAZ;AACA,YAAI,GAAG,GAAG,IAAV,CAHK,CAKL;;AACA,YAAI,GAAG,CAAC,MAAJ,KAAe,CAAnB,EAAsB;AAClB,UAAA,GAAG,GAAG,KAAK,GAAL,CAAN;AACH,SAFD,MAEO,IAAI,GAAG,CAAC,MAAJ,GAAa,CAAjB,EAAoB;AACvB;AACA,UAAA,GAAG,CAAC,OAAJ,CAAY,UAAA,IAAI,EAAI;AAChB,gBAAI;AACA,cAAA,GAAG,GAAG,GAAG,CAAC,IAAD,CAAT;AACH,aAFD,CAEE,OAAO,GAAP,EAAY;AACV,cAAA,KAAK,GAAG,IAAR;AACH;AACJ,WAND,EAFuB,CAUvB;;AACA,UAAA,GAAG,GAAI,KAAK,IAAI,CAAC,GAAX,GAAkB,SAAlB,GAA8B,KAAK,OAAL,GAAe,GAAnD;AACH;;AAED,eAAO,GAAP;AACH;AAtFY,KAAjB,CARqB,CAiGrB;;AACA,SAAK,QAAL,GAAgB;AACZ,MAAA,SAAS,EAAE,CACP;AACA;AACI,QAAA,IAAI,EAAE,IADV;AAEI,QAAA,QAAQ,EAAE,KAAK,eAFnB;AAGI;AACA,QAAA,OAAO,EAAE,KAAK,UAJlB;AAKI,QAAA,KAAK,EAAE;AALX,OAFO,EASP;AACA;AACI,QAAA,IAAI,EAAE,OADV;AAEI,QAAA,QAAQ,EAAE,KAAK,SAAL,CAAe,GAAf,CAAmB,SAAnB,CAFd;AAGI;AACA,QAAA,OAAO,EAAE,KAAK,UAJlB;AAKI,QAAA,KAAK,EAAE;AALX,OAVO,CADC,CAkBT;;AAlBS,KAAhB,CAlGqB,CAuHrB;;AACA,SAAK,QAAL,GAAgB;AACZ;AACA;AACA;AACA,MAAA,cAAc,EAAE,MAAM,CAAC,QAJX;;AAKZ,UAAI,aAAJ,GAAoB;AAChB,eAAO,KAAK,cAAZ;AACH,OAPW;;AAQZ,UAAI,aAAJ,CAAkB,GAAlB,EAAuB;AACnB,YAAI,OAAO,GAAP,KAAe,SAAnB,EAA8B;AAC1B,eAAK,cAAL,GAAsB,GAAtB;;AACA,UAAA,IAAI,CAAC,aAAL;;AAEA,cAAI,GAAG,GAAG,IAAI,CAAC,UAAL,CAAgB,QAAQ,CAAC,aAAT,CAAuB,MAAM,IAAI,CAAC,eAAlC,CAAhB,CAAV;;AACA,cAAI,GAAG,KAAK,IAAZ,EAAkB,OAAO,IAAP;AAElB,UAAA,IAAI,CAAC,QAAL,CAAc,gBAAd;AACH;AACJ,OAlBW;;AAkBT;AAEH;AACA;AACA;AACA;AACA,MAAA,UAAU,EAAE,IAxBA;;AAyBZ,UAAI,SAAJ,GAAgB;AACZ,eAAO,KAAK,UAAZ;AACH,OA3BW;;AA4BZ,UAAI,SAAJ,CAAc,GAAd,EAAmB;AACf,YAAI,OAAO,GAAP,KAAe,SAAnB,EAA8B;AAC1B,eAAK,UAAL,GAAkB,GAAlB;;AACA,UAAA,IAAI,CAAC,aAAL;;AAEA,cAAI,GAAG,GAAG,IAAI,CAAC,UAAL,CAAgB,QAAQ,CAAC,aAAT,CAAuB,MAAM,IAAI,CAAC,eAAlC,CAAhB,CAAV;;AACA,cAAI,GAAG,KAAK,IAAZ,EAAkB,OAAO,IAAP;AAElB,UAAA,IAAI,CAAC,QAAL,CAAc,gBAAd;AACH;AACJ,OAtCW;;AAsCT;AAEH;AACA;AACA,MAAA,YAAY,EAAE,IA1CF;;AA2CZ,UAAI,WAAJ,GAAkB;AACd,eAAO,KAAK,YAAZ;AACH,OA7CW;;AA8CZ,UAAI,WAAJ,CAAgB,GAAhB,EAAqB;AACjB,YAAI,OAAO,GAAP,KAAe,SAAnB,EAA8B;AAC1B,eAAK,YAAL,GAAoB,GAApB;AACA,UAAA,IAAI,CAAC,QAAL,CAAc,gBAAd;;AACA,UAAA,IAAI,CAAC,eAAL,CAAqB,IAArB;AACH;AACJ,OApDW;;AAoDT;AAEH,MAAA,gBAAgB,EAAE,IAtDN;;AAuDZ,UAAI,eAAJ,GAAsB;AAClB,eAAO,KAAK,gBAAZ;AACH,OAzDW;;AA0DZ,UAAI,eAAJ,CAAoB,GAApB,EAAyB;AACrB,YAAI,OAAO,GAAP,KAAe,SAAnB,EAA8B;AAC1B,eAAK,gBAAL,GAAwB,GAAxB;AACA,UAAA,IAAI,CAAC,QAAL,CAAc,gBAAd;AAEA,UAAA,OAAO,CAAC,GAAR,CAAY,MAAZ,EAAqB,MAAM,CAAC,SAAR,GAAqB,MAAM,CAAC,SAAP,CAAiB,MAAtC,GAA+C,EAAnE,EAAuE,uBAAuB,GAA9F;AACH;AACJ;;AAjEW,KAAhB,CAxHqB,CA4LrB;;AACA,SAAK,WAAL,GAAmB;AACf,MAAA,YAAY,EAAE,EADC;AAEf;AACA,MAAA,GAHe,eAGX,GAHW,EAGN;AACL,YAAI,OAAO,GAAP,KAAe,QAAf,IAA2B,CAAC,KAAK,KAAL,CAAW,GAAX,CAAhC,EAAiD;AAC7C,eAAK,YAAL,CAAkB,IAAlB,CAAuB,GAAvB;;AACA,UAAA,IAAI,CAAC,eAAL;;AACA,UAAA,IAAI,CAAC,eAAL;;AAEA,iBAAO,IAAP;AACH,SAND,MAMO;AACH,iBAAO,KAAP;AACH;AACJ,OAbc;AAcf;AACA,MAAA,KAfe,iBAeT,GAfS,EAeJ;AACP,eAAO,KAAK,YAAL,CAAkB,IAAlB,CAAuB,UAAA,IAAI;AAAA,iBAAI,IAAI,KAAK,GAAb;AAAA,SAA3B,CAAP;AACH,OAjBc;AAkBf;AACA,MAAA,GAnBe,iBAmBT;AACF,eAAO,KAAK,YAAZ;AACH,OArBc;AAsBf,MAAA,MAtBe,oBAsBN;AACL,eAAO,KAAK,GAAL,GAAW,MAAlB;AACH,OAxBc;AAyBf;AACA,MAAA,GA1Be,eA0BX,GA1BW,EA0BU;AAAA,YAAhB,OAAgB,uEAAN,IAAM;;AACrB,YAAI,GAAG,YAAY,KAAnB,EAA0B;AACtB,eAAK,YAAL,GAAoB,GAApB;;AAEA,cAAI,OAAJ,EAAa;AACT,YAAA,IAAI,CAAC,eAAL;;AACA,YAAA,IAAI,CAAC,eAAL,CAAqB,IAArB;AACH;;AAED,iBAAO,IAAP;AACH,SATD,MASO;AACH,iBAAO,KAAP;AACH;AACJ,OAvCc;AAwCf;AACA,MAAA,KAzCe,mBAyCP;AACJ,eAAO,KAAK,GAAL,CAAS,EAAT,CAAP;AACH;AA3Cc,KAAnB,CA7LqB,CAyOlB;AAEH;;AACA,SAAK,KAAL,GAAa;AACT,MAAA,SAAS,EAAE,OADF;;AAET,UAAI,QAAJ,GAAe;AACX,eAAO,KAAK,SAAZ;AACH,OAJQ;;AAKT,UAAI,QAAJ,CAAa,GAAb,EAAkB;AACd,YAAI,OAAO,GAAP,KAAe,QAAnB,EAA6B;AACzB,eAAK,SAAL,GAAiB,GAAjB;;AACA,UAAA,IAAI,CAAC,UAAL;;AAEA,cAAI,GAAG,GAAG,IAAI,CAAC,UAAL,CAAgB,QAAQ,CAAC,aAAT,CAAuB,MAAM,IAAI,CAAC,eAAlC,CAAhB,CAAV;;AACA,cAAI,GAAG,KAAK,IAAZ,EAAkB,OAAO,IAAP;AAElB,UAAA,IAAI,CAAC,QAAL,CAAc,UAAd;AACH;AACJ;;AAfQ,KAAb;AAkBA;AACA,SAAK,OAAL,GAAe;AACX,MAAA,KAAK,EAAE,GADI;AAEX,MAAA,IAAI,EAAE,GAFK;AAGX,MAAA,aAAa,EAAE,GAHJ;AAIX,MAAA,IAAI,EAAE,GAJK;AAKX,MAAA,sBAAsB,EAAE,GALb;AAMX,MAAA,wBAAwB,EAAE,GANf,CASf;;AATe,KAAf;AAUA,SAAK,IAAL,GAAY,IAAZ,CAzQqB,CA2QrB;;AACA,SAAK,UAAL,GAAkB,IAAlB,CA5QqB,CA8QrB;;AACA,SAAK,QAAL,GAAgB,IAAI,kBAAJ,CAA2B;AACvC,MAAA,SAAS,EAAE,KAAK,SADuB;AAEvC,MAAA,OAAO,EAAE,KAAK;AAFyB,KAA3B,CAAhB,CA/QqB,CAoRrB;;AACA,SAAK,QAAL,GAAgB,IAAI,iBAAJ,CAAoB;AAChC,MAAA,aAAa,EAAE,IADiB;AAEhC,MAAA,SAAS,EAAE,KAAK,SAFgB;AAGhC,MAAA,OAAO,EAAE,KAAK;AAHkB,KAApB,CAAhB,CArRqB,CA2RrB;;AACA,SAAK,OAAL,GAAe,IAAI,gBAAJ,CAAa;AACxB;AACA,MAAA,IAAI,EAAE,KAAK,SAAL,CAAe,gBAFG;AAGxB,MAAA,OAAO,EAAE;AACL,QAAA,QAAQ,EAAE,KAAK,QADV;AAEL,QAAA,KAAK,EAAE,KAAK,KAFP;AAGL,QAAA,WAAW,EAAE;AAHR;AAHe,KAAb,CAAf,CA5RqB,CAuSrB;;AACA,SAAK,IAAL;AACH,G,CAED;;;;;+BACW,I,EAAM;AACb,UAAI,CAAC,IAAL,EAAW,OAAO,IAAP;AACX,WAAK,MAAL,GAAc,IAAI,CAAC,OAAL,CAAa,MAAM,KAAK,SAAL,CAAe,kBAAlC,CAAd;AACA,UAAI,CAAC,KAAK,MAAV,EAAkB,OAAO,IAAP,CAHL,CAKb;;AACA,UAAI,CAAC,KAAK,MAAL,CAAY,aAAZ,CAA0B,MAAM,KAAK,SAAL,CAAe,gBAA/C,CAAL,EAAuE;AACnE;AACA,aAAK,IAAL,GAAY,KAAK,QAAL,CAAc,uBAAd,CAAsC,KAAK,MAA3C,CAAZ,CAFmE,CAInE;;AACA,aAAK,QAAL,CAAc,gBAAd,GALmE,CAOnE;;AACA,aAAK,QAAL,CAAc,UAAd,GARmE,CAUnE;;AACA,aAAK,QAAL,CAAc,WAAd;AACH;;AAED,UAAI,GAAG,GAAG,KAAK,IAAL,CAAU,aAAV,CAAwB,MAAM,KAAK,SAAL,CAAe,GAAf,CAAmB,SAAnB,CAA9B,CAAV,CApBa,CAsBb;;AACA,WAAK,UAAL,GAAkB,MAAM,CAAC,SAAP,CAAiB,OAAjB,CAAyB,MAAM,CAAC,GAAP,CAAW,UAApC,CAAlB,CAvBa,CAyBb;;AACA,WAAK,eAAL,GA1Ba,CA4Bb;;;AACA,MAAA,GAAG,CAAC,IAAJ,GAAW,KAAK,UAAL,CAAgB,GAA3B,CA7Ba,CA+Bb;;AACA,WAAK,QAAL,CAAc,OAAd,CAAsB,KAAK,IAA3B,EAAiC,KAAK,UAAtC,EAAkD,KAAK,QAAL,CAAc,SAAhE;AACH,K,CAED;AAEA;;;;kCACc,G,EAAK;AACf,UAAI,KAAK,QAAL,CAAc,WAAlB,EAA+B;AAC3B,aAAK,WAAL,CAAiB,GAAjB,CAAqB,GAArB;AACH;AACJ,K,CAED;AACA;;;;sCACmC;AAAA,UAAnB,SAAmB,uEAAP,KAAO;;AAC/B;AACA;AACA;AACA;AACA,UAAI,CAAC,SAAL,EAAgB;AACZ,YAAI,CAAC,KAAK,IAAV,EAAgB;AAChB,YAAI,GAAG,GAAG,KAAK,IAAL,CAAU,aAAV,CAAwB,MAAM,KAAK,SAAL,CAAe,GAAf,CAAmB,SAAnB,CAA9B,CAAV;AACA,YAAI,CAAC,GAAD,IAAS,KAAK,UAAL,CAAgB,GAAhB,KAAwB,GAAG,CAAC,IAAzC,EAAgD;AACnD;;AAED,UAAI,KAAK,GAAG,KAAK,WAAL,CAAiB,KAAjB,CAAuB,KAAK,UAAL,CAAgB,GAAvC,CAAZ;AACA,WAAK,QAAL,CAAc,YAAd,CAA2B,KAAK,IAAhC,EAAsC,KAAK,QAAL,CAAc,WAApD,EAAiE,KAAjE;AACH,K,CAED;AAEA;AAEA;;;;mCACe;AAAA;;AACX,UAAI,KAAK,GAAG,MAAM,CAAC,IAAP,CAAY,KAAK,QAAjB,CAAZ;AACA,MAAA,KAAK,CAAC,OAAN,CAAc,UAAA,IAAI;AAAA,eAAI,QAAQ,CAAC,gBAAT,CAA0B,IAA1B,EAAgC,KAAI,CAAC,aAAL,CAAmB,IAAnB,CAAwB,KAAxB,CAAhC,CAAJ;AAAA,OAAlB;AACH,K,CAED;;;;kCACc,K,EAAO;AAAA;;AACjB;AACA;AACA,UAAI,QAAQ,GAAG,KAAK,QAAL,CAAc,KAAK,CAAC,IAApB,CAAf;AACA,UAAI,QAAQ,KAAK,SAAjB,EAA4B,OAJX,CAMjB;;AACA,UAAI,MAAM,GAAG,KAAK,CAAC,MAAnB,CAPiB,CASjB;;AACA,MAAA,QAAQ,CAAC,OAAT,CAAiB,UAAA,OAAO,EAAI;AACxB;AACA;AACA,YAAI,UAAU,GAAG,MAAI,CAAC,sBAAL,CAA4B,MAA5B,EAAoC,OAApC,EAA6C,KAAK,CAAC,IAAnD,CAAjB,CAHwB,CAKxB;AACA;;;AACA,YAAI,CAAC,UAAD,IAAe,OAAO,CAAC,KAA3B,EAAkC;AAC9B;AACA;AACA,UAAA,MAAI,CAAC,qBAAL,CAA2B,MAA3B,EAAmC,OAAnC,EAA4C,KAAK,CAAC,IAAlD;AACH;AACJ,OAZD;AAaH,K,CAED;;;;2CACuB,M,EAAQ,O,EAAS,I,EAAM;AAE1C,UAAI,IAAI,KAAK,OAAb,EAAsB;AAClB,QAAA,OAAO,CAAC,GAAR,CAAY,wBAAZ,EAAsC;AAClC,UAAA,MAAM,EAAN,MADkC;AAElC,UAAA,OAAO,EAAP;AAFkC,SAAtC;AAIH;;AAED,UAAI,UAAU,GAAG,KAAjB,CAT0C,CAW1C;AACA;;AACA,UAAI,OAAO,CAAC,IAAR,KAAiB,IAArB,EAA2B;AACvB,YAAI,MAAM,CAAC,EAAP,KAAc,OAAO,CAAC,QAA1B,EAAoC;AAChC,UAAA,UAAU,GAAG,IAAb;;AAEA,cAAI,OAAO,CAAC,OAAZ,EAAqB;AACjB,YAAA,OAAO,CAAC,OAAR,CAAgB,IAAhB,CAAqB,IAArB,EAA2B,MAA3B;AACH;AACJ;AACJ;;AAED,UAAI,OAAO,CAAC,IAAR,KAAiB,OAArB,EAA8B;AAC1B,YAAI,MAAM,CAAC,SAAP,CAAiB,QAAjB,CAA0B,OAAO,CAAC,QAAlC,CAAJ,EAAiD;AAC7C,UAAA,UAAU,GAAG,IAAb;;AAEA,cAAI,OAAO,CAAC,OAAZ,EAAqB;AACjB,YAAA,OAAO,CAAC,OAAR,CAAgB,IAAhB,CAAqB,IAArB,EAA2B,MAA3B;AACH;AACJ;AACJ;;AAED,aAAO,UAAP;AACH,K,CAED;;;;0CACsB,M,EAAQ,O,EAAS,I,EAAM;AAEzC,UAAI,IAAI,KAAK,OAAb,EAAsB;AAClB,QAAA,OAAO,CAAC,GAAR,CAAY,uBAAZ,EAAqC;AACjC,UAAA,MAAM,EAAN,MADiC;AAEjC,UAAA,OAAO,EAAP;AAFiC,SAArC;AAIH;;AAGD,UAAI,MAAM,GAAI,OAAO,CAAC,IAAR,KAAiB,IAAlB,GACT,MAAM,CAAC,OAAP,CAAe,MAAM,OAAO,CAAC,QAA7B,CADS,GAET,MAAM,CAAC,OAAP,CAAe,MAAM,OAAO,CAAC,QAA7B,CAFJ;;AAIA,UAAI,MAAJ,EAAY;AACR;AACA,aAAK,sBAAL,CAA4B,MAA5B,EAAoC,OAApC;AACH;AACJ,K,CAED;AAEA;;;;oCAEgB;AACZ,UAAI,GAAG,GAAG,KAAK,OAAL,CAAa,GAAb,CAAiB,UAAjB,EAA6B,KAAK,QAAlC,CAAV,CADY,CAEZ;AACH;;;iCAEY;AACT,UAAI,GAAG,GAAG,KAAK,OAAL,CAAa,GAAb,CAAiB,OAAjB,EAA0B,KAAK,KAA/B,CAAV,CADS,CAET;AACH;;;sCAEiB;AACd,UAAI,GAAG,GAAG,KAAK,OAAL,CAAa,GAAb,CAAiB,aAAjB,EAAgC,KAAK,WAArC,CAAV,CADc,CAEd;AACH;;;sCAEiB;AACd,UAAI,OAAO,GAAG,KAAK,OAAL,CAAa,MAAb,EAAd;;AAEA,WAAK,IAAI,WAAT,IAAwB,OAAxB,EAAiC;AAC7B,aAAK,IAAI,GAAT,IAAgB,OAAO,CAAC,WAAD,CAAvB,EAAsC;AAClC,cAAI,GAAG,CAAC,MAAJ,CAAW,CAAX,MAAkB,GAAtB,EAA2B;AACvB,iBAAK,WAAL,EAAkB,GAAlB,IAAyB,OAAO,CAAC,WAAD,CAAP,CAAqB,GAArB,CAAzB;AACH;AACJ;AACJ;;AAED,WAAK,UAAL,CAAgB,QAAQ,CAAC,aAAT,CAAuB,MAAM,KAAK,eAAlC,CAAhB;AACH,K,CAED;AAGA;;;;2BACO;AACH,MAAA,OAAO,CAAC,KAAR;AACA,MAAA,OAAO,CAAC,GAAR,CAAY,MAAZ,EAAqB,MAAM,CAAC,SAAR,GAAqB,MAAM,CAAC,SAAP,CAAiB,IAAtC,GAA6C,EAAjE,EAAqE,qBAArE,EAFG,CAIH;;AACA,WAAK,QAAL,CAAc,SAAd,GALG,CAOH;;AACA,WAAK,eAAL,GARG,CAUH;;;AACA,WAAK,YAAL;AACH;;;;;;;;;;;;;;;;;;;;;;IC7fgB,Q;;;AACjB,sBAAyB;AAAA,QAAb,MAAa,uEAAJ,EAAI;;AAAA;;AACrB,SAAK,IAAL,GAAY,MAAM,CAAC,IAAnB;AACA,SAAK,OAAL,GAAe,MAAM,CAAC,OAAtB;AAEA,SAAK,IAAL;AACH;;;;wBAEG,G,EAAK,G,EAAK;AACV,UAAI,GAAG,KAAK,SAAZ,EAAuB,OAAO,KAAP;AACvB,UAAI,GAAG,GAAG,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,KAAK,IAA1B,CAAX,CAAV;AACA,MAAA,GAAG,CAAC,GAAD,CAAH,GAAW,GAAX;AACA,MAAA,YAAY,CAAC,OAAb,CAAqB,KAAK,IAA1B,EAAgC,IAAI,CAAC,SAAL,CAAe,GAAf,CAAhC;AAEA,aAAO,GAAP;AACH;;;wBAEG,G,EAAK;AACL,UAAI,GAAG,GAAG,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,KAAK,IAA1B,CAAX,CAAV;AAEA,aAAO,GAAG,CAAC,GAAD,CAAV;AACH;;;6BAEQ;AACL,UAAI,GAAG,GAAG,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,KAAK,IAA1B,CAAX,CAAV;AAEA,aAAO,GAAP;AACH;;;2BAEM,G,EAAK;AACR,UAAI,GAAG,GAAG,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,OAAb,CAAqB,KAAK,IAA1B,CAAX,CAAV;AACA,aAAO,GAAG,CAAC,GAAD,CAAV;AACA,MAAA,YAAY,CAAC,OAAb,CAAqB,KAAK,IAA1B,EAAgC,IAAI,CAAC,SAAL,CAAe,GAAf,CAAhC;AAEA,aAAO,GAAP;AACH;;;4BAEO;AACJ,MAAA,YAAY,CAAC,UAAb,CAAwB,KAAK,IAA7B;AACH,K,CAED;;;;qCACiB;AACb,UAAI,YAAY,CAAC,OAAb,CAAqB,KAAK,IAA1B,KAAmC,IAAvC,EAA6C;AACzC,QAAA,YAAY,CAAC,OAAb,CAAqB,KAAK,IAA1B,EAAgC,IAAI,CAAC,SAAL,CAAe,KAAK,OAApB,CAAhC;AAEA,eAAO,IAAP;AACH;;AAED,aAAO,KAAP;AACH;;;2BAGM;AACH,WAAK,cAAL;AACH;;;;;;;;;;;;;;;;ACvDU,kBAAS,GAAT,EAAc,OAAd,EAAuB,KAAvB,EAA8B;AAEzC;AAAO;AAAP,qBACG,GAAG,CAAC,gBADP,gYAa0B,OAAO,CAAC,sBAblC,uCAaqF,OAAO,CAAC,wBAb7F,mTAiBG,GAAG,CAAC,kBAjBP,qBAiBoC,GAAG,CAAC,gBAjBxC,cAiB4D,GAAG,CAAC,KAjBhE,+LAqBG,GAAG,CAAC,kBArBP,eAqB8B,GAAG,CAAC,gBArBlC,cAqBsD,GAAG,CAAC,KArB1D,iSAyBG,GAAG,CAAC,gBAzBP,cAyB2B,GAAG,CAAC,KAzB/B,mBAyB6C,GAAG,CAAC,QAzBjD,shBA8BG,GAAG,CAAC,gBA9BP,cA8B2B,GAAG,CAAC,QA9B/B,eA8B4C,GAAG,CAAC,GAAJ,CAAQ,sBAAR,CA9B5C,6PAmCG,GAAG,CAAC,gBAnCP,cAmC2B,GAAG,CAAC,KAnC/B,cAmCwC,GAAG,CAAC,QAnC5C,qGAwCG,GAAG,CAAC,GAAJ,CAAQ,SAAR,CAxCH,qPAkDG,GAAG,CAAC,GAAJ,CAAQ,SAAR,CAlDH,qEAsDG,GAAG,CAAC,GAAJ,CAAQ,UAAR,CAtDH,gDAuD6B,KAAK,CAAC,GAAN,CAAU,OAAV,EAAmB,OAAnB,CAvD7B,iSAgEG,GAAG,CAAC,GAAJ,CAAQ,UAAR,CAhEH,6EAkE6B,KAAK,CAAC,GAAN,CAAU,OAAV,EAAmB,OAAnB,CAlE7B,oVA6E4B,OAAO,CAAC,aAAR,GAAwB,GA7EpD,uDA6EoG,OAAO,CAAC,aA7E5G,uEAgFG,GAAG,CAAC,GAAJ,CAAQ,UAAR,CAhFH,cAgF0B,GAAG,CAAC,GAAJ,CAAQ,qBAAR,CAhF1B,sDAiF4B,OAAO,CAAC,aAAR,GAAwB,GAjFpD,qDAiFkG,OAAO,CAAC,aAAR,GAAwB,GAjF1H,yIAsFG,GAAG,CAAC,GAAJ,CAAQ,SAAR,CAtFH,qBAsFgC,GAAG,CAAC,GAAJ,CAAQ,UAAR,CAtFhC,qBAuFG,GAAG,CAAC,GAAJ,CAAQ,SAAR,CAvFH,qBAuFgC,GAAG,CAAC,GAAJ,CAAQ,UAAR,CAvFhC,uDAwF6B,KAAK,CAAC,GAAN,CAAU,OAAV,EAAmB,OAAnB,CAxF7B,oOA4FG,GAAG,CAAC,GAAJ,CAAQ,SAAR,CA5FH,cA4FyB,GAAG,CAAC,GAAJ,CAAQ,oBAAR,CA5FzB,eA4F2D,GAAG,CAAC,GAAJ,CAAQ,UAAR,CA5F3D,qBA6FG,GAAG,CAAC,GAAJ,CAAQ,SAAR,CA7FH,cA6FyB,GAAG,CAAC,GAAJ,CAAQ,oBAAR,CA7FzB,eA6F2D,GAAG,CAAC,GAAJ,CAAQ,UAAR,CA7F3D,uDA8F6B,KAAK,CAAC,GAAN,CAAU,QAAV,EAAoB,OAApB,CA9F7B,gCAiGG,GAAG,CAAC,gBAjGP,eAiG4B,GAAG,CAAC,GAAJ,CAAQ,UAAR,CAjG5B,gCAkGa,KAAK,CAAC,OAAN,CAAc,IAlG3B,oPAyGG,GAAG,CAAC,gBAzGP,cAyG2B,GAAG,CAAC,KAzG/B,cAyGwC,GAAG,CAAC,QAzG5C,gHA8GG,GAAG,CAAC,gBA9GP,cA8G2B,GAAG,CAAC,QA9G/B,eA8G4C,GAAG,CAAC,GAAJ,CAAQ,SAAR,CA9G5C,mEAkHG,GAAG,CAAC,gBAlHP,cAkH2B,GAAG,CAAC,QAlH/B,eAkH4C,GAAG,CAAC,GAAJ,CAAQ,SAAR,CAlH5C,oRA6HG,GAAG,CAAC,GAAJ,CAAQ,qBAAR,CA7HH,iKAqIG,GAAG,CAAC,GAAJ,CAAQ,kBAAR,CArIH,eAqImC,GAAG,CAAC,GAAJ,CAAQ,sBAAR,CArInC,gFAuI4B,OAAO,CAAC,aAvIpC,oDA0IG,GAAG,CAAC,GAAJ,CAAQ,sBAAR,CA1IH,sVA+IG,GAAG,CAAC,gBA/IP,cA+I2B,GAAG,CAAC,KA/I/B,cA+IwC,GAAG,CAAC,aA/I5C,eA+I8D,GAAG,CAAC,GAAJ,CAAQ,sBAAR,CA/I9D,kSAoJG,GAAG,CAAC,gBApJP,cAoJ2B,GAAG,CAAC,KApJ/B,cAoJwC,GAAG,CAAC,QApJ5C,eAoJyD,GAAG,CAAC,GAAJ,CAAQ,UAAR,CApJzD,sBAqJG,GAAG,CAAC,gBArJP,cAqJ2B,GAAG,CAAC,KArJ/B,cAqJwC,GAAG,CAAC,QArJ5C,eAqJyD,GAAG,CAAC,GAAJ,CAAQ,UAAR,CArJzD,uEAyJG,GAAG,CAAC,gBAzJP,mBAyJgC,GAAG,CAAC,QAzJpC,gBAyJkD,GAAG,CAAC,GAAJ,CAAQ,oBAAR,CAzJlD,8EA8JG,GAAG,CAAC,gBA9JP,cA8J2B,GAAG,CAAC,KA9J/B,cA8JwC,GAAG,CAAC,QA9J5C,eA8JyD,GAAG,CAAC,GAAJ,CAAQ,oBAAR,CA9JzD,sDAkKG,GAAG,CAAC,gBAlKP,cAkK2B,GAAG,CAAC,KAlK/B,eAkKyC,GAAG,CAAC,GAAJ,CAAQ,eAAR,CAlKzC,oRA0K4B,OAAO,CAAC,aA1KpC,oTA+KG,GAAG,CAAC,gBA/KP,cA+K2B,GAAG,CAAC,KA/K/B,cA+KwC,GAAG,CAAC,aA/K5C,eA+K8D,GAAG,CAAC,GAAJ,CAAQ,eAAR,CA/K9D,gFAmLG,GAAG,CAAC,GAAJ,CAAQ,oBAAR,CAnLH,yDAuLG,GAAG,CAAC,GAAJ,CAAQ,oBAAR,CAvLH,mKA+LG,GAAG,CAAC,GAAJ,CAAQ,oBAAR,CA/LH,4IAsMG,GAAG,CAAC,GAAJ,CAAQ,oBAAR,CAtMH,6EA0MG,GAAG,CAAC,GAAJ,CAAQ,oBAAR,CA1MH,uCA2MG,GAAG,CAAC,GAAJ,CAAQ,oBAAR,CA3MH,gGAgNG,GAAG,CAAC,GAAJ,CAAQ,2BAAR,CAhNH,2cA6NuB,GAAG,CAAC,GAAJ,CAAQ,2BAAR,CA7NvB,gDA8N6B,KAAK,CAAC,GAAN,CAAU,OAAV,EAAmB,QAAnB,CA9N7B,kEAgOuC,GAAG,CAAC,GAAJ,CAAQ,2BAAR,CAhOvC,sDAiO6B,KAAK,CAAC,GAAN,CAAU,OAAV,EAAmB,QAAnB,CAjO7B,0DAmO+B,GAAG,CAAC,GAAJ,CAAQ,2BAAR,CAnO/B,gDAoO6B,KAAK,CAAC,GAAN,CAAU,OAAV,EAAmB,cAAnB,CApO7B,0EAsO+C,GAAG,CAAC,GAAJ,CAAQ,2BAAR,CAtO/C,sDAuO6B,KAAK,CAAC,GAAN,CAAU,OAAV,EAAmB,cAAnB,CAvO7B,iLA2O0B,GAAG,CAAC,GAAJ,CAAQ,2BAAR,CA3O1B,gDA4O6B,KAAK,CAAC,GAAN,CAAU,OAAV,EAAmB,QAAnB,CA5O7B,qEA8O0C,GAAG,CAAC,GAAJ,CAAQ,2BAAR,CA9O1C,sDA+O6B,KAAK,CAAC,GAAN,CAAU,OAAV,EAAmB,QAAnB,CA/O7B,6DAiPkC,GAAG,CAAC,GAAJ,CAAQ,2BAAR,CAjPlC,gDAkP6B,KAAK,CAAC,GAAN,CAAU,OAAV,EAAmB,cAAnB,CAlP7B,6EAoPkD,GAAG,CAAC,GAAJ,CAAQ,2BAAR,CApPlD,sDAqP6B,KAAK,CAAC,GAAN,CAAU,OAAV,EAAmB,cAAnB,CArP7B,kDAwPqB,GAAG,CAAC,GAAJ,CAAQ,2BAAR,CAxPrB,4LA8PG,GAAG,CAAC,GAAJ,CAAQ,kBAAR,CA9PH,yIAqQG,GAAG,CAAC,gBArQP,cAqQ2B,GAAG,CAAC,KArQ/B,cAqQwC,GAAG,CAAC,QArQ5C,eAqQyD,GAAG,CAAC,GAAJ,CAAQ,UAAR,CArQzD,yDAyQG,GAAG,CAAC,GAAJ,CAAQ,kBAAR,CAzQH,0HA+QG,GAAG,CAAC,GAAJ,CAAQ,kBAAR,CA/QH,mNAqRoC,OAAO,CAAC,aArR5C,qCAqRoF,OAAO,CAAC,IArR5F,oDAwRG,GAAG,CAAC,GAAJ,CAAQ,kBAAR,CAxRH,mBAwRuC,GAAG,CAAC,IAxR3C,iEAyRoC,OAAO,CAAC,IAzR5C,qCAyR2E,OAAO,CAAC,IAzRnF,mFA6RG,GAAG,CAAC,gBA7RP,cA6R2B,GAAG,CAAC,KA7R/B,mBA6R6C,GAAG,CAAC,SA7RjD,2FAkSG,GAAG,CAAC,gBAlSP,cAkS2B,GAAG,CAAC,KAlS/B,mBAkS6C,GAAG,CAAC,SAlSjD,2fA2SG,GAAG,CAAC,GAAJ,CAAQ,yBAAR,CA3SH,sIAgT6B,KAAK,CAAC,GAAN,CAAU,OAAV,EAAmB,IAAnB,CAhT7B,qPA0TG,GAAG,CAAC,GAAJ,CAAQ,yBAAR,CA1TH,sDA2T6B,KAAK,CAAC,GAAN,CAAU,OAAV,EAAmB,IAAnB,CA3T7B,iIA+TG,GAAG,CAAC,GAAJ,CAAQ,uBAAR,CA/TH,6bAoUG,GAAG,CAAC,GAAJ,CAAQ,uBAAR,CApUH,qBAoU8C,GAAG,CAAC,GAAJ,CAAQ,8BAAR,CApU9C,gCAqUa,KAAK,CAAC,OAAN,CAAc,KArU3B,uCAuUG,GAAG,CAAC,GAAJ,CAAQ,uBAAR,CAvUH,eAuUwC,GAAG,CAAC,GAAJ,CAAQ,8BAAR,CAvUxC,uCAwUa,KAAK,CAAC,OAAN,CAAc,IAxU3B,6eA4UG,GAAG,CAAC,GAAJ,CAAQ,uBAAR,CA5UH,qBA4U8C,GAAG,CAAC,GAAJ,CAAQ,8BAAR,CA5U9C,iDA6UwB,KAAK,CAAC,OAAN,CAAc,KA7UtC,kDAgVG,GAAG,CAAC,GAAJ,CAAQ,uBAAR,CAhVH,eAgVwC,GAAG,CAAC,GAAJ,CAAQ,8BAAR,CAhVxC,uDAiVwB,KAAK,CAAC,OAAN,CAAc,KAjVtC,4MAsVG,GAAG,CAAC,gBAtVP,eAsV4B,GAAG,CAAC,GAAJ,CAAQ,8BAAR,CAtV5B,mPA8VwB,OAAO,CAAC,IA9VhC,oQAkWG,GAAG,CAAC,GAAJ,CAAQ,8BAAR,CAlWH,0OA0WwB,KAAK,CAAC,OAAN,CAAc,KA1WtC;AAAA;AA+WH;;;;;;;;;;ACjXc,kBAAS,GAAT,EAAc,OAAd,EAAuB,KAAvB,EAA8B;AAEzC;AAAO;AAAP,iCACc,GAAG,CAAC,GAAJ,CAAQ,oBAAR,CADd,uCAEkB,GAAG,CAAC,GAAJ,CAAQ,eAAR,CAFlB,2CAGsB,GAAG,CAAC,GAAJ,CAAQ,yBAAR,CAHtB,mDAKsB,GAAG,CAAC,GAAJ,CAAQ,oBAAR,CALtB,yIAQ0B,GAAG,CAAC,GAAJ,CAAQ,uBAAR,CAR1B,+CAS0B,GAAG,CAAC,GAAJ,CAAQ,8BAAR,CAT1B,uHAW6B,GAAG,CAAC,GAAJ,CAAQ,oBAAR,CAX7B,sDAYiC,GAAG,CAAC,GAAJ,CAAQ,oBAAR,CAZjC,yEAakD,GAAG,CAAC,kBAbtD,iGAcsC,GAAG,CAAC,kBAd1C,wBAcwE,GAAG,CAAC,GAAJ,CAAQ,2BAAR,CAdxE,uIAgBiC,GAAG,CAAC,GAAJ,CAAQ,oBAAR,CAhBjC,yEAiBkD,GAAG,CAAC,mBAjBtD,kGAkBsC,GAAG,CAAC,mBAlB1C,wBAkByE,GAAG,CAAC,GAAJ,CAAQ,2BAAR,CAlBzE,6WAwB0B,GAAG,CAAC,GAAJ,CAAQ,uBAAR,CAxB1B,+CAyB0B,GAAG,CAAC,GAAJ,CAAQ,8BAAR,CAzB1B,iKA2B6B,GAAG,CAAC,GAAJ,CAAQ,gBAAR,CA3B7B,sDA4BiC,GAAG,CAAC,GAAJ,CAAQ,oBAAR,CA5BjC,4EA6BqD,GAAG,CAAC,iBA7BzD,6FA8BsC,GAAG,CAAC,iBA9B1C,wBA8BuE,GAAG,CAAC,GAAJ,CAAQ,2BAAR,CA9BvE,yUAoC0B,GAAG,CAAC,GAAJ,CAAQ,uBAAR,CApC1B,+CAqC0B,GAAG,CAAC,GAAJ,CAAQ,8BAAR,CArC1B,iKAuC6B,GAAG,CAAC,GAAJ,CAAQ,uBAAR,CAvC7B,sDAwCiC,GAAG,CAAC,GAAJ,CAAQ,oBAAR,CAxCjC,4EAyCqD,GAAG,CAAC,wBAzCzD,oGA0CsC,GAAG,CAAC,wBA1C1C,wBA0C8E,GAAG,CAAC,GAAJ,CAAQ,2BAAR,CA1C9E,+JA6CiC,GAAG,CAAC,GAAJ,CAAQ,oBAAR,CA7CjC,mIA+CqD,GAAG,CAAC,4BA/CzD,iHAgDsC,GAAG,CAAC,4BAhD1C,wBAgDkF,GAAG,CAAC,GAAJ,CAAQ,2BAAR,CAhDlF,oOA0DY,GAAG,CAAC,GAAJ,CAAQ,SAAR,CA1DZ,yFA2DkB,GAAG,CAAC,GAAJ,CAAQ,UAAR,CA3DlB,8BA4DU,KAAK,CAAC,GAAN,CAAU,OAAV,EAAmB,KAAnB,EAA0B,KAA1B,CA5DV,oDA8DkB,GAAG,CAAC,GAAJ,CAAQ,qBAAR,CA9DlB,2CA+DsB,GAAG,CAAC,GAAJ,CAAQ,sBAAR,CA/DtB,+CAgE0B,GAAG,CAAC,GAAJ,CAAQ,UAAR,CAhE1B,qDAiE0B,GAAG,CAAC,GAAJ,CAAQ,oBAAR,CAjE1B;AAAA;AAsEH;;;;;;;;;;ACxED;;AACA;;;;;;;;;;AAEA;IACqB,sB;;;AACjB,oCAAyB;AAAA,QAAb,MAAa,uEAAJ,EAAI;;AAAA;;AACjB;AACA,SAAK,GAAL,GAAW,MAAM,CAAC,SAAlB,CAFiB,CAIjB;;AACA,SAAK,OAAL,GAAe,MAAM,CAAC,OAAtB,CALiB,CAOjB;;AACA,SAAK,KAAL,GAAa;AACT,MAAA,OAAO,EAAE;AACL,QAAA,KAAK,EAAE,SADF;AAEL,QAAA,GAAG,EAAE,SAFA;AAGL,QAAA,KAAK,EAAE,SAHF;AAIL,QAAA,MAAM,EAAE,SAJH;AAKL,QAAA,KAAK,EAAE,SALF;AAML,QAAA,IAAI,EAAE;AAND,OADA;AAST,MAAA,OAAO,EAAE,mCATA;AAUT,MAAA,SAAS,EAAE;AACP;AACA,QAAA,KAAK,6PAFE;;AAKP;AACA,QAAA,EAAE,0eANK;;AASP;AACA,QAAA,GAAG,6zDAVI;;AAsBP;AACA,QAAA,MAAM,wWAvBC;;AA0BP;AACA,QAAA,YAAY,4jBA3BL;;AA8BP;AACA,QAAA,MAAM,mXA/BC;;AAkCP;AACA,QAAA,YAAY;AAnCL,OAVF;AAiDT,MAAA,KAjDS,iBAiDH,QAjDG,EAiDO,KAjDP,EAiDc;AACnB,YAAI,SAAS,GAAG,KAAK,SAAL,CAAe,QAAf,IAA2B,KAAK,SAAL,CAAe,QAAf,CAA3B,GAAsD,KAAK,SAAL,CAAe,KAArF;;AACA,eAAO,SAAS,CAAC,OAAV,CAAkB,cAAlB,EAAkC,KAAK,GAAG,KAAH,GAAW,OAAlD,CAAP;AACH,OApDQ;AAqDT,MAAA,GArDS,eAqDL,KArDK,EAqDE,QArDF,EAqDwB;AAAA,YAAZ,GAAY,uEAAN,IAAM;;AAC7B,YAAI,MAAM,GAAG,KAAK,OAAL,CAAa,KAAb,IAAsB,KAAK,OAAL,CAAa,KAAb,CAAtB,GAA4C,KAAzD;;AACA,YAAI,GAAG,GAAG,KAAK,KAAL,CAAW,QAAX,EAAqB,MAArB,EAA6B,OAA7B,CAAqC,YAArC,EAAmD,GAAnD,CAAV;;AACA,eAAO,GAAG,GAAG,KAAK,OAAL,GAAe,kBAAkB,CAAC,GAAD,CAApC,GAA4C,GAAtD;AACH;AAzDQ,KAAb;AA2DH,G,CAAC;;;;;iCAGO,I,EAAM,c,EAAgB,K,EAAO;AACtC,UAAI,CAAC,IAAL,EAAW,OAAO,IAAP;AAEX,UAAI,GAAG,GAAG,IAAI,CAAC,aAAL,CAAmB,MAAM,KAAK,GAAL,CAAS,GAAT,CAAa,SAAb,CAAzB,CAAV;AACA,UAAI,IAAI,GAAG,GAAG,CAAC,aAAJ,CAAkB,MAAM,KAAK,GAAL,CAAS,GAAT,CAAa,UAAb,CAAxB,CAAX;;AAEA,UAAI,cAAc,IAAI,KAAtB,EAA6B;AACzB,QAAA,GAAG,CAAC,SAAJ,CAAc,GAAd,CAAkB,KAAK,GAAL,CAAS,GAAT,CAAa,oBAAb,CAAlB;AACA,QAAA,IAAI,CAAC,KAAL,GAAa,wCAAb;AACH,OAHD,MAGO;AACH,QAAA,GAAG,CAAC,SAAJ,CAAc,MAAd,CAAqB,KAAK,GAAL,CAAS,GAAT,CAAa,oBAAb,CAArB;AACA,QAAA,IAAI,CAAC,KAAL,GAAa,EAAb;AACH;AACJ,K,CAED;;;;4BACQ,I,EAAM,U,EAAY,Q,EAAU;AAChC,UAAI,IAAI,GAAG,IAAI,CAAC,aAAL,CAAmB,MAAM,KAAK,GAAL,CAAS,GAAT,CAAa,UAAb,CAAzB,CAAX;;AAEA,UAAI,UAAU,CAAC,KAAX,IAAoB,UAAU,CAAC,MAAnC,EAA2C;AACvC,YAAI,QAAJ,EAAc;AACV,UAAA,IAAI,CAAC,SAAL,CAAe,MAAf,CAAsB,KAAK,GAAL,CAAS,QAA/B;AACH,SAFD,MAEO;AACH,UAAA,IAAI,CAAC,SAAL,CAAe,GAAf,CAAmB,KAAK,GAAL,CAAS,QAA5B;AACH;;AAED,QAAA,IAAI,CAAC,WAAL,aAAsB,UAAU,CAAC,KAAjC,cAA0C,UAAU,CAAC,MAArD;AACH,OARD,MAQO;AACH,QAAA,IAAI,CAAC,SAAL,CAAe,GAAf,CAAmB,KAAK,GAAL,CAAS,QAA5B;AACA,QAAA,IAAI,CAAC,WAAL,GAAmB,EAAnB;AACH;AACJ,K,CAED;;;;4CACwB,M,EAAQ;AAAA;;AAC5B,UAAI,IAAI,GAAG,QAAQ,CAAC,aAAT,CAAuB,KAAvB,CAAX;AACA,MAAA,IAAI,CAAC,EAAL,GAAU,KAAK,GAAL,CAAS,gBAAnB,CAF4B,CAI5B;;AACA,MAAA,IAAI,CAAC,SAAL,GAAiB,KAAK,aAAL,EAAjB;AAEA,MAAA,UAAU,CAAC,YAAM;AACb,QAAA,IAAI,CAAC,SAAL,CAAe,GAAf,CAAmB,KAAI,CAAC,GAAL,CAAS,KAA5B;AACH,OAFS,EAEP,CAFO,CAAV;AAIA,MAAA,MAAM,CAAC,WAAP,CAAmB,IAAnB;AAEA,aAAO,IAAP;AACH,K,CAED;;;;gCACY;AACR,UAAI,KAAK,GAAG,QAAQ,CAAC,aAAT,CAAuB,OAAvB,CAAZ;AACA,MAAA,KAAK,CAAC,EAAN,GAAW,KAAK,GAAL,CAAS,QAApB;AACA,MAAA,KAAK,CAAC,WAAN,GAAoB,KAAK,eAAL,EAApB;AAEA,MAAA,QAAQ,CAAC,IAAT,CAAc,WAAd,CAA0B,KAA1B;AACH,K,CAED;;;;oCACgB;AACZ,aAAO,2BAAc,KAAK,GAAnB,EAAwB,KAAK,OAA7B,EAAsC,KAAK,KAA3C,CAAP;AACH,K,CAED;;;;sCACkB;AACd,aAAO,0BAAa,KAAK,GAAlB,EAAuB,KAAK,OAA5B,EAAqC,KAAK,KAA1C,CAAP;AACH;;;;;;;;;;;AC9IL;;;;AAGA,MAAM,CAAC,aAAP,GAAuB,IAAI,sBAAJ,CAAkB;AACrC,EAAA,QAAQ,EAAE;AAD2B,CAAlB,CAAvB;;;ACHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../vk-photo-download.min.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","import Download from 'downloadjs';\r\n\r\n// Класс для управления обработчиками внутри кнопки\r\nexport default class HandlersManager {\r\n    constructor(params = {}) {\r\n            // Переданный инстанс главного класса\r\n            this.PhotoDownload = params.PhotoDownload;\r\n\r\n            // Переданный объект селекторов\r\n            this.sel = params.selectors;\r\n\r\n            // Переданный объект таймингов\r\n            this.timings = params.timings;\r\n\r\n            // Тип события по умолчанию для обработчиков\r\n            this.default_event_name = 'click';\r\n\r\n            // Объект с перечислением всех возможных обработчиков\r\n            this.handlers = {\r\n                preventHandler: this._preventHandler.bind(this),\r\n                newTabHandler: this._newTabHandler.bind(this),\r\n                downloadHandler: this._downloadHandler.bind(this),\r\n                startTimer: this._startTimer.bind(this),\r\n                checkTimer: this._checkTimer.bind(this),\r\n                closeTimingSettings: () => this.PhotoDownload.state.settings = 'close',\r\n                downloadModeHandler: this._downloadModeHandler.bind(this),\r\n                showSizeHandler: this._showSizeHandler.bind(this),\r\n                downloadEffect: this.tempClass.bind(this, this.sel.get('btn.download_effect'), this.timings.settings_open + 250, `.${this.sel.get('btn.icon')}`),\r\n                loadedUrlsHandler: this._loadedUrlsHandler.bind(this),\r\n                addloadedUrl: this._addloadedUrl.bind(this),\r\n            }\r\n\r\n            this.timers = {\r\n                delay: null,\r\n                open: null,\r\n            };\r\n        } // constructor\r\n\r\n    // Устанавливает обработчики в кнопке\r\n    setHandlers() {\r\n        let wrap = this.PhotoDownload.wrap;\r\n        if (!wrap) return false;\r\n\r\n        let btn = wrap.querySelector('.' + this.sel.get('btn.btn'));\r\n\r\n        this.set(btn, 'startTimer', 'mousedown');\r\n        this.set(btn, 'checkTimer', 'mouseup');\r\n        this.set(btn, 'checkTimer', 'mouseleave');\r\n        this.set(btn, 'preventHandler', 'click');\r\n\r\n        // Галочка закрытия настроек\r\n        let btn_close = wrap.querySelector('.' + this.sel.get('sett.settings_close_ico'));\r\n        this.set(btn_close, 'closeTimingSettings', 'click');\r\n\r\n        // Обработчик изменения настройки режима скачивания (клика по кнопке)\r\n        let download_mode = wrap.querySelector('.' + this.sel.get('sett.download_mode'));\r\n        this.set(download_mode, 'downloadModeHandler', 'change');\r\n\r\n        // Обработчик изменения настройки отображения размера картинки\r\n        let size_mode = wrap.querySelector('.' + this.sel.get('sett.size_mode'));\r\n        this.set(size_mode, 'showSizeHandler', 'change');\r\n\r\n        // Обработчик изменения настройки запоминания URL скаченных картинок\r\n        let loaded_urls_mode = wrap.querySelector('.' + this.sel.get('sett.loaded_urls_mode'));\r\n        this.set(loaded_urls_mode, 'loadedUrlsHandler', 'change');\r\n    }\r\n\r\n    // Обновляет настройки в кнопке\r\n    setSettingsState() {\r\n        let wrap = this.PhotoDownload.wrap;\r\n        if (!wrap) return false;\r\n\r\n        // _download_mode\r\n        let download_mode = this.PhotoDownload.settings.download_mode.toString();\r\n        let download_mode_block = wrap.querySelector('.' + this.sel.get('sett.download_mode'));\r\n        let download_mode_control = download_mode_block.querySelector(`input[value=${download_mode}]`);\r\n        download_mode_control.checked = true;\r\n\r\n        // _show_size\r\n        let size_mode_control = wrap.querySelector('#' + this.sel.size_mode_control);\r\n        size_mode_control.checked = this.PhotoDownload.settings.show_size;\r\n        if (this.PhotoDownload.settings.show_size) {\r\n            wrap.classList.remove(this.sel.non_size);\r\n        } else {\r\n            wrap.classList.add(this.sel.non_size);\r\n        }\r\n\r\n        // _loaded_urls\r\n        let loaded_urls_mode_control = wrap.querySelector('#' + this.sel.loaded_urls_mode_control);\r\n        loaded_urls_mode_control.checked = this.PhotoDownload.settings.loaded_urls;\r\n        // Если разрешено \"Запоминать URL\", то разблокируем \"+ клики ПКМ\" и наоборот\r\n        let loaded_urls_mode_key_control = wrap.querySelector('#' + this.sel.loaded_urls_mode_key_control);\r\n        loaded_urls_mode_key_control.disabled = !this.PhotoDownload.settings.loaded_urls;\r\n        // Применим состояние настройки\r\n        loaded_urls_mode_key_control.checked = this.PhotoDownload.settings.loaded_urls_PKM;\r\n\r\n    }\r\n\r\n    // Обновляет визуальное состояние кнопки\r\n    applyState() {\r\n        let state = this.PhotoDownload.state;\r\n\r\n        switch (state.settings) {\r\n            case 'open_timing':\r\n                this._openTimingSettings();\r\n                break;\r\n\r\n            case 'open':\r\n                this._openSettings();\r\n                break;\r\n\r\n            case 'close':\r\n                this._closeSettings();\r\n                break;\r\n\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n\r\n    // Метод, реализующий режимы быстрого клика и удержания ЛКМ на кнопке\r\n    _startTimer(e) {\r\n        // Если нажата не ЛКМ - выходим\r\n        if (e.which !== 1) {\r\n            if (this.PhotoDownload.settings.loaded_urls_PKM &&\r\n                this.PhotoDownload.settings.loaded_urls &&\r\n                this.PhotoDownload.state.settings == 'close') {\r\n\r\n                this._addloadedUrl(e);\r\n            }\r\n\r\n            return false;\r\n        }\r\n\r\n        // Настройки закрыты\r\n        if (this.PhotoDownload.state.settings == 'close') {\r\n            // Ставим таймер задержки на время, отведенное для быстрого клика\r\n            this.timers.delay = setTimeout(() => {\r\n                // Если таймер задержки не сброшен, запускаем состояние открытия настроек\r\n                this.PhotoDownload.state.settings = 'open_timing';\r\n\r\n                // И ставим таймер на время анимации открытия\r\n                // Пока не выполнится этот таймер, вход в настройки можно отменить, отпустив ЛКМ\r\n                this.timers.open = setTimeout(() => {\r\n                    // Если этот таймер не сброшен, входим в настройки\r\n                    this.PhotoDownload.state.settings = 'open';\r\n                }, this.timings.open);\r\n\r\n            }, this.timings.delay);\r\n\r\n            // Настройки открыты\r\n        } else if (this.PhotoDownload.state.settings == 'open') {\r\n            // Убираем иконку шестеренки\r\n            this.PhotoDownload.wrap.querySelector('.cog')\r\n                .classList.remove(this.sel.draw, this.sel.draw_fill);\r\n\r\n            setTimeout(() => {\r\n                // Если за время, отведенное на быстрый клик, настройки еще открыты,\r\n                // то закроем их\r\n                if (this.PhotoDownload.state.settings == 'open') {\r\n                    this.PhotoDownload.state.settings = 'close';\r\n                }\r\n            }, this.timings.delay);\r\n\r\n        }\r\n    }\r\n\r\n    _checkTimer(e) {\r\n        // Если нажата не левая кнопка мыши, то выходим\r\n        if (e.which !== 1) return false;\r\n\r\n        // Если быстрый клин и настройки закрыты, то будет обработчик скачивания\r\n        if (this.timers.delay && !this.timers.open && this.PhotoDownload.state.settings == 'close') {\r\n\r\n            // Тут действие для простого клика\r\n            // В зависимости от флага вешаем либо обработчик скачивания, либо открытия новой вкладки\r\n            if (this.PhotoDownload.settings.download_mode) {\r\n                this.set(e.currentTarget, ['downloadHandler', 'downloadEffect', 'addloadedUrl']);\r\n            } else {\r\n                this.set(e.currentTarget, ['newTabHandler', 'downloadEffect', 'addloadedUrl']);\r\n            }\r\n        }\r\n\r\n        // Если быстрый клик и настройки открыты, то будет обработчик закрытия настроек\r\n        if (this.timers.delay && !this.timers.open && this.PhotoDownload.state.settings == 'open') {\r\n            this.PhotoDownload.state.settings = 'close';\r\n        }\r\n\r\n        // Долгий клик и настройки открыты\r\n        if (this.timers.delay && this.timers.open && this.PhotoDownload.state.settings == 'open') {\r\n            // // Здесь настройки должны быть уже открыты и для события клика, \r\n            // // которое будет сразу после этого mouseup, блокируем действие\r\n            this.set(e.currentTarget, 'preventHandler');\r\n        }\r\n\r\n        if (this.PhotoDownload.state.settings == 'open_timing') {\r\n            this.set(e.currentTarget, 'preventHandler');\r\n            this.PhotoDownload.state.settings = 'close';\r\n        }\r\n\r\n        // Обнуляем все таймеры для следующего раза\r\n        clearTimeout(this.timers.delay);\r\n        this.timers.delay = null;\r\n        clearTimeout(this.timers.open);\r\n        this.timers.open = null;\r\n    }\r\n\r\n    // Запуск открытия настроек\r\n    _openTimingSettings() {\r\n        this.PhotoDownload.wrap.classList.add(this.sel.icon_cog);\r\n        this.PhotoDownload.wrap\r\n            .querySelector('.cog')\r\n            .classList.add(this.sel.draw);\r\n    }\r\n\r\n    // Настройки открыты\r\n    _openSettings() {\r\n        this._openTimingSettings();\r\n\r\n        let open = () => {\r\n            this.PhotoDownload.wrap.classList.add(this.sel.settings, this.sel.settings_open);\r\n            setTimeout(() => {\r\n                this.PhotoDownload.wrap\r\n                    .querySelector('.cog')\r\n                    .classList.add(this.sel.draw_fill);\r\n            }, this.timings.settings_open);\r\n        }\r\n\r\n        if (this.PhotoDownload.settings.show_size) {\r\n            open();\r\n        } else {\r\n            // Если сначала нужно выдвинуть кнопку\r\n            this.PhotoDownload.wrap.classList.add(this.sel.slide_in);\r\n            setTimeout(() => {\r\n                open();\r\n            }, this.timings.btn_transition_transform);\r\n        }\r\n    }\r\n\r\n    // Запуск закрытия настроек\r\n    _closeSettings() {\r\n        let close = () => {\r\n            this.PhotoDownload.wrap.classList.remove(this.sel.icon_cog);\r\n            this.PhotoDownload.wrap.classList.remove(this.sel.settings);\r\n\r\n            // if (!this.PhotoDownload.settings.show_size) {\r\n            setTimeout(() => {\r\n                this.PhotoDownload.wrap.classList.remove(this.sel.slide_in);\r\n            }, this.timings.btn_transition_transform);\r\n            // }\r\n        }\r\n\r\n        this.PhotoDownload.wrap\r\n            .querySelector('.cog')\r\n            .classList.remove(this.sel.draw, this.sel.draw_fill);\r\n        this.PhotoDownload.wrap.classList.remove(this.sel.settings_open);\r\n\r\n        setTimeout(() => {\r\n            close();\r\n        }, this.timings.settings_open);\r\n    }\r\n\r\n    // Установить один или несколько обработчиков на элемент\r\n    // Если на элементе были другие обработчики - они удаляются\r\n    // В итоге на элементе гарантировано только переданный набор обработчиков\r\n    set(elem, handler_name, event_name = this.default_event_name) {\r\n        if (!elem || !handler_name) return false;\r\n\r\n        let result = true;\r\n\r\n        // Удаляем все уже имеющиеся обработчики\r\n        this.removeAll(elem, event_name);\r\n\r\n        // Ставим нужные\r\n        if (handler_name instanceof Array) {\r\n            handler_name.forEach(name => {\r\n                this.add(elem, name, event_name);\r\n            });\r\n        } else if (typeof handler_name === 'string') {\r\n            this.add(elem, handler_name, event_name);\r\n        } else {\r\n            result = false;\r\n        }\r\n\r\n        return result;\r\n    }\r\n\r\n    // Добавить обработчик с переданным именем на элемент\r\n    add(elem, handler_name, event_name = this.default_event_name) {\r\n        if (!elem || !handler_name || !this.getHandler(handler_name)) return false;\r\n\r\n        elem.addEventListener(event_name, this.getHandler(handler_name));\r\n\r\n        return true;\r\n    }\r\n\r\n    // Удалить обработчик с переданным именем с элемента\r\n    remove(elem, handler_name, event_name = this.default_event_name) {\r\n        if (!elem || !handler_name || !this.getHandler(handler_name)) return false;\r\n\r\n        elem.removeEventListener(event_name, this.getHandler(handler_name));\r\n\r\n        return true;\r\n    }\r\n\r\n    // Удалить все обработчики с элемента\r\n    removeAll(elem, event_name = this.default_event_name) {\r\n        if (!elem) return false;\r\n\r\n        for (let handler in this.handlers) {\r\n            elem.removeEventListener(event_name, this.getHandler(handler));\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    // Получить имена всех обработчиков\r\n    getHandlersNames() {\r\n        return Object.keys(this.handlers);\r\n    }\r\n\r\n    // Получить объект всех функций-обработчиков\r\n    getHandlers() {\r\n        return this.handlers;\r\n    }\r\n\r\n    // Получить функцию-обработчик\r\n    getHandler(handler_name) {\r\n        return this.handlers[handler_name];\r\n    }\r\n\r\n    // === Служебные ===\r\n\r\n    tempClass(class_name, timeout, elem) {\r\n        if (elem instanceof Event) {\r\n            elem = elem.currentTarget;\r\n        } else if (typeof elem === 'string') {\r\n            elem = document.querySelector(elem);\r\n        } else if (elem === undefined) {\r\n            elem = this;\r\n        }\r\n\r\n        elem.classList.remove(class_name);\r\n\r\n        setTimeout(() => {\r\n            elem.classList.add(class_name);\r\n        }, 0);\r\n\r\n        setTimeout(() => {\r\n            elem.classList.remove(class_name);\r\n        }, timeout);\r\n    }\r\n\r\n    // === Обработчики ===\r\n\r\n    _addloadedUrl(e) {\r\n        let url = e.currentTarget.href;\r\n        this.PhotoDownload._addloadedUrl(url);\r\n    }\r\n\r\n    // Меняет настройку запоминания URL скаченных картинок\r\n    _loadedUrlsHandler(e) {\r\n        if (e.target.id === this.sel.loaded_urls_mode_control) {\r\n            // Изменена настройка основного запоминания URL\r\n            this.PhotoDownload.settings.loaded_urls = e.target.checked;\r\n        } else if (e.target.id === this.sel.loaded_urls_mode_key_control) {\r\n            // Изменена настройка дополнительного запоминания URL по ПКМ\r\n            this.PhotoDownload.settings.loaded_urls_PKM = e.target.checked;\r\n        }\r\n    }\r\n\r\n    // Меняет настройку показа разрешения картинки при наведении\r\n    _showSizeHandler(e) {\r\n        this.PhotoDownload.settings.show_size = e.target.checked;\r\n    }\r\n\r\n    // Меняет настройку режима скачивания\r\n    _downloadModeHandler(e) {\r\n        let value = e.target.value;\r\n\r\n        if (value === 'true') {\r\n            this.PhotoDownload.settings.download_mode = true;\r\n        } else if (value === 'false') {\r\n            this.PhotoDownload.settings.download_mode = false;\r\n        }\r\n    }\r\n\r\n    // Отменяет действие браузера\r\n    _preventHandler(e) {\r\n        e.preventDefault();\r\n        return false;\r\n    }\r\n\r\n    // Обработчик кнопки для режима открытия в новой вкладке\r\n    _newTabHandler(e) {\r\n        this.remove(e.currentTarget, 'newTabHandler');\r\n        return true;\r\n    }\r\n\r\n    // Обработчик кнопки для режима скачивания\r\n    _downloadHandler(e) {\r\n        e.preventDefault();\r\n        Download(e.currentTarget.href);\r\n\r\n        this.remove(e.currentTarget, 'downloadHandler');\r\n        return false;\r\n    }\r\n}","import PhotoDownloadTemplates from './templates';\r\nimport HandlersManager from './handlers';\r\nimport SStorage from './storage';\r\n\r\nexport default class PhotoDownload {\r\n    constructor(params = {}) {\r\n        let that = this;\r\n\r\n        // Ссылка, в которую обернута картинка, \r\n        // здесь нужнв для триггера создания/обновления кнопки\r\n        this.imgContainer_id = 'pv_photo';\r\n\r\n        // Объект всех селекторов, использующихся в кнопке\r\n        this.selectors = {\r\n            _prefix: 'PhotoDownload_',\r\n            // id контейнера кнопки\r\n            photoDownload_id: 'PhotoDownload',\r\n            // Контейнер, в котором находится картинка и элементы управления,\r\n            // создавать кнопку будем в нем\r\n            imgContainer_class: 'pv_image_wrap',\r\n            // id, который добавится тегу style\r\n            style_id: 'PhotoDownloadStyle',\r\n\r\n            // Класс-флаг, вешается на #PhotoDownload когда нет данных о разрешении\r\n            // или в настройках отключен показ размеров картинки\r\n            non_size: 'non_size',\r\n            // Класс-флаг, вешается для плавного opacity кнопки после создания\r\n            ready: 'ready',\r\n\r\n            slide_in: 'slide_in',\r\n\r\n            settings: 'settings',\r\n            settings_open: 'settings_open',\r\n\r\n            draw: 'draw',\r\n            draw_fill: 'draw_fill',\r\n            icon_cog: 'icon_cog',\r\n\r\n            download_mode_true: 'download_mode_true',\r\n            download_mode_false: 'download_mode_false',\r\n\r\n            size_mode_control: 'size_mode_control',\r\n\r\n            loaded_urls_mode_control: 'loaded_urls_mode_control',\r\n            loaded_urls_mode_key_control: 'loaded_urls_mode_key_control',\r\n            loaded_urls_active: 'loaded_urls_active',\r\n\r\n            sett: {\r\n                settings_wrap: 'settings_wrap',\r\n                settings: 'settings',\r\n                settings_body: 'settings_body',\r\n                download_mode: 'download_mode',\r\n                size_mode: 'size_mode',\r\n                loaded_urls_mode: 'loaded_urls_mode',\r\n                settings_item: 'settings_item',\r\n                settings_item_action: 'settings_item_action',\r\n\r\n                settings_close_ico: 'settings_close_ico',\r\n                settings_section: 'settings_section',\r\n                settings_section_header: 'settings_section_header',\r\n            },\r\n\r\n            btn: {\r\n                // Класс кнопки (тега a)\r\n                btn: 'btn',\r\n                // Класс блока иконки\r\n                icon: 'icon',\r\n                main_title_wrap: 'main_title_wrap',\r\n                main_title_inner: 'main_title_inner',\r\n                // Класс блока, в котором отображается разрешение картинки\r\n                size: 'size',\r\n                settings_title: 'settings_title',\r\n                // Класс для эффекта скачивания на иконке стрелки\r\n                download_effect: 'download_effect',\r\n            },\r\n            // Метод получения селектора\r\n            get(sel) {\r\n                sel = sel.split('.');\r\n                let error = false;\r\n                let res = this;\r\n\r\n                // Если селектор на верхнем уровне объекта, он отдается как есть\r\n                if (sel.length === 1) {\r\n                    res = this[sel];\r\n                } else if (sel.length > 1) {\r\n                    // Иначе получаем селектор из вложенных уровней\r\n                    sel.forEach(part => {\r\n                        try {\r\n                            res = res[part];\r\n                        } catch (err) {\r\n                            error = true;\r\n                        }\r\n                    })\r\n\r\n                    // И если селектор существует, дописываем к нему префикс\r\n                    res = (error || !res) ? undefined : this._prefix + res;\r\n                }\r\n\r\n                return res;\r\n            }\r\n        };\r\n\r\n        // Объект с описанием обработчиков\r\n        this.triggers = {\r\n            mouseover: [\r\n                // Селектор ссылки, в которую обернута картинка в просмотрщике\r\n                {\r\n                    type: 'id',\r\n                    selector: this.imgContainer_id,\r\n                    // При наведении на контейнер картинки, будем обновлять(создавать) кнопку\r\n                    handler: this._updateBtn,\r\n                    child: true,\r\n                },\r\n                // Селектор родительского блока кнопки\r\n                {\r\n                    type: 'class',\r\n                    selector: this.selectors.get('btn.btn'),\r\n                    // При наведении на саму кнопку, будем обновлять в ней данные\r\n                    handler: this._updateBtn,\r\n                    child: true,\r\n                },\r\n            ], // Конец mouseover\r\n        };\r\n\r\n        // Настройки поведения кнопки\r\n        this.settings = {\r\n            // download_mode - флаг, задающий поведение клика по кнопке\r\n            // Если true, то картинка будет скачиваться\r\n            // Если false, то картинка будет открываться в новой вкладке\r\n            _download_mode: params.download,\r\n            get download_mode() {\r\n                return this._download_mode;\r\n            },\r\n            set download_mode(val) {\r\n                if (typeof val === 'boolean') {\r\n                    this._download_mode = val;\r\n                    that._saveSettings();\r\n\r\n                    let upd = that._updateBtn(document.querySelector('#' + that.imgContainer_id));\r\n                    if (upd === null) return null;\r\n\r\n                    that.handlers.setSettingsState();\r\n                }\r\n            }, // _download_mode\r\n\r\n            // show_size - флаг, отвечающий за показ размеров картинки при наведении на кнопку,\r\n            // и соответственно, за выезжающую анимацию при наведении.\r\n            // Если true, то размеры показываются\r\n            // Если false, то размеры скрыты\r\n            _show_size: true,\r\n            get show_size() {\r\n                return this._show_size;\r\n            },\r\n            set show_size(val) {\r\n                if (typeof val === 'boolean') {\r\n                    this._show_size = val;\r\n                    that._saveSettings();\r\n\r\n                    let upd = that._updateBtn(document.querySelector('#' + that.imgContainer_id));\r\n                    if (upd === null) return null;\r\n\r\n                    that.handlers.setSettingsState();\r\n                }\r\n            }, // _show_size\r\n\r\n            // loaded_urls - флаг, отвечающий за отметку того, что текущая картинка уже была ранее скачена,\r\n            // в виде желтой иконки стрелки\r\n            _loaded_urls: true,\r\n            get loaded_urls() {\r\n                return this._loaded_urls;\r\n            },\r\n            set loaded_urls(val) {\r\n                if (typeof val === 'boolean') {\r\n                    this._loaded_urls = val;\r\n                    that.handlers.setSettingsState();\r\n                    that._checkLoadedUrl(true);\r\n                }\r\n            }, // _loaded_urls\r\n\r\n            _loaded_urls_PKM: true,\r\n            get loaded_urls_PKM() {\r\n                return this._loaded_urls_PKM;\r\n            },\r\n            set loaded_urls_PKM(val) {\r\n                if (typeof val === 'boolean') {\r\n                    this._loaded_urls_PKM = val;\r\n                    that.handlers.setSettingsState();\r\n\r\n                    console.log('%c%s', (window.log_color) ? window.log_color.purple : '', '_loaded_urls_PKM: ' + val);\r\n                }\r\n            }, // _loaded_urls_PKM\r\n        };\r\n\r\n        // Объект для работы с ранее скаченными картинками\r\n        this.loaded_urls = {\r\n            _loaded_urls: [],\r\n            // Добавить новый url в массив скаченных\r\n            add(url) {\r\n                if (typeof url === 'string' && !this.check(url)) {\r\n                    this._loaded_urls.push(url);\r\n                    that._saveLoadedUrls();\r\n                    that._checkLoadedUrl();\r\n\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            },\r\n            // Проверить, есть ли этот url в скаченных\r\n            check(url) {\r\n                return this._loaded_urls.some(item => item === url);\r\n            },\r\n            // Получить массив скаченных url\r\n            get() {\r\n                return this._loaded_urls;\r\n            },\r\n            length() {\r\n                return this.get().length;\r\n            },\r\n            // Установить новый массив скаченных url\r\n            set(arr, storage = true) {\r\n                if (arr instanceof Array) {\r\n                    this._loaded_urls = arr;\r\n\r\n                    if (storage) {\r\n                        that._saveLoadedUrls();\r\n                        that._checkLoadedUrl(true);\r\n                    }\r\n\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            },\r\n            // Очистить массив скаченных url\r\n            clear() {\r\n                return this.set([]);\r\n            }\r\n        }; // _loaded_urls\r\n\r\n        // Визуальное состояние кнопки\r\n        this.state = {\r\n            _settings: 'close',\r\n            get settings() {\r\n                return this._settings;\r\n            },\r\n            set settings(val) {\r\n                if (typeof val === 'string') {\r\n                    this._settings = val;\r\n                    that._saveState();\r\n\r\n                    let upd = that._updateBtn(document.querySelector('#' + that.imgContainer_id));\r\n                    if (upd === null) return null;\r\n\r\n                    that.handlers.applyState();\r\n                }\r\n            }, // _settings\r\n        }\r\n\r\n        // Объект хранения таймингов для синхронизации контроллера и анимаций\r\n        this.timings = {\r\n            delay: 250,\r\n            open: 600,\r\n            settings_open: 350,\r\n            fill: 100,\r\n            btn_transition_opacity: 250,\r\n            btn_transition_transform: 250,\r\n        }\r\n\r\n        // Здесь будет храниться элемент кнопки\r\n        this.wrap = null;\r\n\r\n        // Здесь будет храниться информация о текущей картинке\r\n        this.image_data = null;\r\n\r\n        // Создаем инстанс шаблонизатора верстки\r\n        this.template = new PhotoDownloadTemplates({\r\n            selectors: this.selectors,\r\n            timings: this.timings,\r\n        });\r\n\r\n        // Создаем инстанс контроллера событий внутри кнопки\r\n        this.handlers = new HandlersManager({\r\n            PhotoDownload: this,\r\n            selectors: this.selectors,\r\n            timings: this.timings,\r\n        });\r\n\r\n        // Создаем инстанс хранилища\r\n        this.storage = new SStorage({\r\n            // 'PhotoDownload'\r\n            name: this.selectors.photoDownload_id,\r\n            default: {\r\n                settings: this.settings,\r\n                state: this.state,\r\n                loaded_urls: [],\r\n            }\r\n        });\r\n\r\n\r\n        // Точка входа\r\n        this.init();\r\n    }\r\n\r\n    // Метод обновления данных в кнопке\r\n    _updateBtn(elem) {\r\n        if (!elem) return null;\r\n        this.parent = elem.closest('.' + this.selectors.imgContainer_class);\r\n        if (!this.parent) return null;\r\n\r\n        // Если в родительском контейнере еще нет кнопки\r\n        if (!this.parent.querySelector('#' + this.selectors.photoDownload_id)) {\r\n            // то создадим ее\r\n            this.wrap = this.template.createDownloadContainer(this.parent);\r\n\r\n            // Применим состояние настроек\r\n            this.handlers.setSettingsState();\r\n\r\n            // Применим состояние кнопки\r\n            this.handlers.applyState();\r\n\r\n            // Повесим на нее обработчики\r\n            this.handlers.setHandlers();\r\n        }\r\n\r\n        let btn = this.wrap.querySelector('.' + this.selectors.get('btn.btn'));\r\n\r\n        // Получаем из недр ВК информацию о максимальной версии открытой в просмотрщике картинки\r\n        this.image_data = window.Photoview.genData(window.cur.pvCurPhoto);\r\n\r\n        // Проверим, не был ли новый url ранее уже скачен\r\n        this._checkLoadedUrl();\r\n\r\n        // Обновим ссылку в кнопке\r\n        btn.href = this.image_data.src;\r\n\r\n        // Установим информацию о размерах картинки, которая по ссылке\r\n        this.template.setSize(this.wrap, this.image_data, this.settings.show_size);\r\n    }\r\n\r\n    // === LoadedUrl ===\r\n\r\n    // Если разрешено в настройке, добавляет url в массив ранее скаченных\r\n    _addloadedUrl(url) {\r\n        if (this.settings.loaded_urls) {\r\n            this.loaded_urls.add(url);\r\n        }\r\n    }\r\n\r\n    // Обновляет отображение в кнопке, если это разрешено в насройках\r\n    // и ее href есть в массиве ранее скаченных\r\n    _checkLoadedUrl(immediate = false) {\r\n        // immediate - флаг, при наличии которого изменение отобразится на кнопке немедленно,\r\n        // иначе - только после переключения картинки.\r\n        // Нужно для того, чтобы иконка не становилась желтой сразу под мышкой при скачивании,\r\n        // но при переключении настройки \"Отмечать скаченные\", изменения отобразятся сразу\r\n        if (!immediate) {\r\n            if (!this.wrap) return;\r\n            let btn = this.wrap.querySelector('.' + this.selectors.get('btn.btn'));\r\n            if (!btn || (this.image_data.src === btn.href)) return;\r\n        }\r\n\r\n        let check = this.loaded_urls.check(this.image_data.src);\r\n        this.template.setLoadedUrl(this.wrap, this.settings.loaded_urls, check);\r\n    }\r\n\r\n    // --- LoadedUrl ---\r\n\r\n    // === Watcher ===\r\n\r\n    // Установка на document слушателей типов событий, имеющихся в объекте обработчиков\r\n    _initWatcher() {\r\n        let types = Object.keys(this.triggers);\r\n        types.forEach(type => document.addEventListener(type, this._watchTrigger.bind(this)))\r\n    }\r\n\r\n    // Метод, который вызывает нужный обработчик при нужном событии\r\n    _watchTrigger(event) {\r\n        // Смотрим, есть ли обработчики полученного типа события\r\n        // На самом деле они всегда должны быть, но все же\r\n        let triggers = this.triggers[event.type];\r\n        if (triggers === undefined) return;\r\n\r\n        // Берем элемент, на котором сработало событие\r\n        let target = event.target;\r\n\r\n        // Цикл по объекту обработчиков полученного типа события\r\n        triggers.forEach(trigger => {\r\n            // Ищем обработчик для цели события\r\n            // Если вернется false, то не найден\r\n            let compliance = this._checkComplianceTarget(target, trigger, event.type);\r\n\r\n            // Если цели события нет в объекте обработчиков, но в обработчике указано, \r\n            // что он может срабатывать на дочернем элементе\r\n            if (!compliance && trigger.child) {\r\n                // Попробуем найти родительский элемент цели, соответствующий селектору\r\n                // из объекта обработчиков\r\n                this._checkComplianceChild(target, trigger, event.type);\r\n            }\r\n        });\r\n    }\r\n\r\n    // Проверка на соответствие цели события с селекторами объекта триггеров\r\n    _checkComplianceTarget(target, trigger, type) {\r\n\r\n        if (type === 'click') {\r\n            console.log('_checkComplianceTarget', {\r\n                target,\r\n                trigger\r\n            });\r\n        }\r\n\r\n        let compliance = false;\r\n\r\n        // Два отдельных условия для того, чтобы была возможность назначить\r\n        // разные обработчики по id и по классу на один элемент, и они сработали оба\r\n        if (trigger.type === 'id') {\r\n            if (target.id === trigger.selector) {\r\n                compliance = true;\r\n\r\n                if (trigger.handler) {\r\n                    trigger.handler.call(this, target);\r\n                }\r\n            }\r\n        }\r\n\r\n        if (trigger.type === 'class') {\r\n            if (target.classList.contains(trigger.selector)) {\r\n                compliance = true;\r\n\r\n                if (trigger.handler) {\r\n                    trigger.handler.call(this, target);\r\n                }\r\n            }\r\n        }\r\n\r\n        return compliance;\r\n    }\r\n\r\n    // Проверка на то, является ли цель события дочерним элементом селектора из объекта триггеров\r\n    _checkComplianceChild(target, trigger, type) {\r\n\r\n        if (type === 'click') {\r\n            console.log('_checkComplianceChild', {\r\n                target,\r\n                trigger\r\n            });\r\n        }\r\n\r\n\r\n        let parent = (trigger.type === 'id') ?\r\n            target.closest('#' + trigger.selector) :\r\n            target.closest('.' + trigger.selector);\r\n\r\n        if (parent) {\r\n            // Если да, запустим обработчик для родителя\r\n            this._checkComplianceTarget(parent, trigger);\r\n        }\r\n    }\r\n\r\n    // --- Watcher ---\r\n\r\n    // === Storage ===\r\n\r\n    _saveSettings() {\r\n        let res = this.storage.set('settings', this.settings);\r\n        // console.log(res);\r\n    }\r\n\r\n    _saveState() {\r\n        let res = this.storage.set('state', this.state);\r\n        // console.log(res);\r\n    }\r\n\r\n    _saveLoadedUrls() {\r\n        let res = this.storage.set('loaded_urls', this.loaded_urls);\r\n        // console.log(res);\r\n    }\r\n\r\n    _restoreStorage() {\r\n        let storage = this.storage.getAll();\r\n\r\n        for (let storage_obj in storage) {\r\n            for (let obj in storage[storage_obj]) {\r\n                if (obj.charAt(0) === '_') {\r\n                    this[storage_obj][obj] = storage[storage_obj][obj];\r\n                }\r\n            }\r\n        }\r\n\r\n        this._updateBtn(document.querySelector('#' + this.imgContainer_id));\r\n    }\r\n\r\n    // --- Storage ---\r\n\r\n\r\n    // Точка входа\r\n    init() {\r\n        console.clear();\r\n        console.log('%c%s', (window.log_color) ? window.log_color.blue : '', 'PhotoDownload: Init');\r\n\r\n        // Добавляем стили PhotoDownload\r\n        this.template.injectCSS();\r\n\r\n        // Восстанавливаем сохраненное в LocalStorage состояние\r\n        this._restoreStorage();\r\n\r\n        // Инициализируем обработчики глобальных событий на document\r\n        this._initWatcher();\r\n    }\r\n}","export default class SStorage {\r\n    constructor(params = {}) {\r\n        this.name = params.name;\r\n        this.default = params.default;\r\n\r\n        this.init();\r\n    }\r\n\r\n    set(key, val) {\r\n        if (val === undefined) return false;\r\n        let tmp = JSON.parse(localStorage.getItem(this.name));\r\n        tmp[key] = val;\r\n        localStorage.setItem(this.name, JSON.stringify(tmp));\r\n\r\n        return tmp;\r\n    }\r\n\r\n    get(key) {\r\n        let tmp = JSON.parse(localStorage.getItem(this.name));\r\n\r\n        return tmp[key];\r\n    }\r\n\r\n    getAll() {\r\n        let tmp = JSON.parse(localStorage.getItem(this.name));\r\n\r\n        return tmp;\r\n    }\r\n\r\n    remove(key) {\r\n        let tmp = JSON.parse(localStorage.getItem(this.name));\r\n        delete tmp[key];\r\n        localStorage.setItem(this.name, JSON.stringify(tmp));\r\n\r\n        return tmp;\r\n    }\r\n\r\n    clear() {\r\n        localStorage.removeItem(this.name);\r\n    }\r\n\r\n    // Метод подготовки\r\n    prepareStorage() {\r\n        if (localStorage.getItem(this.name) == null) {\r\n            localStorage.setItem(this.name, JSON.stringify(this.default));\r\n\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n\r\n    init() {\r\n        this.prepareStorage();\r\n    }\r\n}","export default function(sel, timings, icons) {\r\n\r\n    return /* css */ `\r\n    #${sel.photoDownload_id} {\r\n        background-color: transparent;\r\n        border-top-left-radius: 0;\r\n        color: #C3CFE0;\r\n        display: flex;\r\n        flex-direction: column;\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 100%;\r\n        opacity: 0;\r\n        transform: translate3d(-38px, 0, 1px);\r\n        will-change: transform, opacity;\r\n        transition: opacity ${timings.btn_transition_opacity}ms ease-in-out, transform ${timings.btn_transition_transform}ms ease-in-out !important;\r\n    }\r\n\r\n    /* При наведении на блок картинки в просмотрщике */\r\n    .${sel.imgContainer_class}:hover #${sel.photoDownload_id}.${sel.ready} {\r\n        opacity: .3;\r\n    }\r\n    /* При наведении на wrap кнопки */\r\n    .${sel.imgContainer_class} #${sel.photoDownload_id}.${sel.ready}:hover {\r\n        opacity: .8;\r\n    }\r\n    /* Если размер картинки должен отображаться */\r\n    #${sel.photoDownload_id}.${sel.ready}:not(.${sel.non_size}):hover {\r\n        transform: translate3d(-100%, 0, 1px);\r\n    }\r\n\r\n    /* Если размер картинки не должен отображаться, в кнопке будет всегда слово \"Настройки\" */\r\n    #${sel.photoDownload_id}.${sel.non_size} .${sel.get('btn.main_title_inner')} {\r\n        transform: translate3d(0, -29px, 1px);\r\n    }\r\n\r\n    /* Выдвинуть кнопку при наличии slide_in */\r\n    #${sel.photoDownload_id}.${sel.ready}.${sel.slide_in} {\r\n        opacity: .8;\r\n        transform: translate3d(-100%, 0, 1px);\r\n    }\r\n\r\n    .${sel.get('btn.btn')} {\r\n        display: flex;\r\n        align-items: center;\r\n        position: relative;\r\n        padding: 10px;\r\n        background-color: #000;\r\n        border-top-left-radius: 4px;\r\n        color: #C3CFE0 !important;\r\n    }\r\n\r\n    .${sel.get('btn.btn')}:hover {\r\n        text-decoration: none;\r\n    }\r\n\r\n    .${sel.get('btn.icon')} {\r\n        background-image: url('${icons.get('white', 'arrow')}');\r\n        background-size: contain;\r\n        background-repeat: no-repeat;\r\n        height: 18px;\r\n        width: 18px;\r\n        position: relative;\r\n    }\r\n\r\n    /* Эффект скачивания */\r\n    .${sel.get('btn.icon')}:before {\r\n        content: '';\r\n        background-image: url('${icons.get('white', 'arrow')}');\r\n        background-size: contain;\r\n        background-repeat: no-repeat;\r\n        height: 90%;\r\n        width: 90%;\r\n        position: absolute;\r\n        left: 50%;\r\n        top: 50%;\r\n        opacity: .8;\r\n        will-change: transform, opacity;\r\n        transform: translate(-50%, -50%);\r\n        transition: transform ${timings.settings_open - 100}ms cubic-bezier(.22,.73,.43,.65), opacity ${timings.settings_open}ms cubic-bezier(.38,.75,.46,1) !important;\r\n    }\r\n\r\n    .${sel.get('btn.icon')}.${sel.get('btn.download_effect')}:before {\r\n        transition: transform ${timings.settings_open + 100}ms cubic-bezier(.5,.69,.2,1.6), opacity ${timings.settings_open + 100}ms ease-in-out !important;\r\n        transform: translate(-50%, -50%) scale3d(2, 2, 2);\r\n        opacity: .1;\r\n    }\r\n\r\n    .${sel.get('btn.btn')}:hover .${sel.get('btn.icon')},\r\n    .${sel.get('btn.btn')}:hover .${sel.get('btn.icon')}:before {\r\n        background-image: url('${icons.get('green', 'arrow')}');\r\n    }\r\n\r\n    /* Отметка о ранее скаченной картинке */\r\n    .${sel.get('btn.btn')}.${sel.get('loaded_urls_active')} .${sel.get('btn.icon')},\r\n    .${sel.get('btn.btn')}.${sel.get('loaded_urls_active')} .${sel.get('btn.icon')}:before {\r\n        background-image: url('${icons.get('yellow', 'arrow')}');\r\n    }\r\n\r\n    #${sel.photoDownload_id} .${sel.get('btn.size')} {\r\n        color: ${icons._colors.grey} !important;\r\n        flex-grow: 1;\r\n        text-align: center;\r\n        height: 15px;\r\n    }\r\n\r\n    /* Для открытых настроек */\r\n    #${sel.photoDownload_id}.${sel.ready}.${sel.settings} {\r\n        opacity: .8 !important;\r\n        transform: translate3d(-100%, 0, 1px);\r\n    }\r\n\r\n    #${sel.photoDownload_id}.${sel.settings} .${sel.get('btn.btn')} {\r\n        border-top-left-radius: 0;\r\n    }\r\n\r\n    #${sel.photoDownload_id}.${sel.settings} .${sel.get('btn.btn')}:before {\r\n        content: '';\r\n        position: absolute;\r\n        top: -1px;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n        width: calc(100% - 20px);\r\n        height: 1px;\r\n        background-color: rgba(255, 255, 255, .1);\r\n    }\r\n\r\n    .${sel.get('btn.main_title_wrap')} {\r\n        flex-grow: 1;\r\n        height: 14px;\r\n        overflow: hidden;\r\n        text-align: center;\r\n        user-select: none;\r\n    }\r\n\r\n    #${sel.get('photoDownload_id')} .${sel.get('btn.main_title_inner')} {\r\n        will-change: transform;\r\n        transition: transform ${timings.settings_open}ms ease-out !important;\r\n    }\r\n\r\n    .${sel.get('btn.main_title_inner')} * {\r\n        margin-bottom: 14px;\r\n    }\r\n\r\n    /* Для открытых настроек показываем слово \"Настройки\" */\r\n    #${sel.photoDownload_id}.${sel.ready}.${sel.settings_open} .${sel.get('btn.main_title_inner')} {\r\n        transform: translate3d(0, -29px, 1px);\r\n    }\r\n\r\n    /* Спрятать иконку стрелки при наличии icon_cog */\r\n    #${sel.photoDownload_id}.${sel.ready}.${sel.icon_cog} .${sel.get('btn.icon')}, \r\n    #${sel.photoDownload_id}.${sel.ready}.${sel.icon_cog} .${sel.get('btn.icon')}:before {\r\n        background-image: none;\r\n    }\r\n\r\n    #${sel.photoDownload_id}:not(.${sel.settings}) .${sel.get('sett.settings_wrap')} {\r\n        height: 0;\r\n        overflow: hidden;\r\n    }\r\n\r\n    #${sel.photoDownload_id}.${sel.ready}.${sel.settings} .${sel.get('sett.settings_wrap')} {\r\n        height: auto;\r\n    }\r\n\r\n    #${sel.photoDownload_id}.${sel.ready} .${sel.get('sett.settings')} {\r\n        position: relative;\r\n        background-color: #000;\r\n        border-top-left-radius: 4px;\r\n        font-size: 12px;\r\n        width: 150px;\r\n        will-change: transform;\r\n        transform: translate3d(0, 100%, 1px);\r\n        transition: transform ${timings.settings_open}ms ease-out !important;\r\n        user-select: none;\r\n    }\r\n\r\n    /* Выдвинуть настройки вверх при наличии settings_open */\r\n    #${sel.photoDownload_id}.${sel.ready}.${sel.settings_open} .${sel.get('sett.settings')} {\r\n        transform: translate3d(0, 0%, 1px);\r\n    }\r\n    \r\n    .${sel.get('sett.settings_body')} {\r\n        padding: 0 10px;\r\n    }\r\n\r\n    .${sel.get('sett.settings_body')} ul {\r\n        padding: 5px 0;\r\n        margin: 0;\r\n        list-style: none;\r\n        display: flex;\r\n        flex-direction: column;\r\n    }\r\n\r\n    .${sel.get('sett.settings_item')} {\r\n        display: flex;\r\n        align-items: center;\r\n        position: relative;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .${sel.get('sett.settings_item')}:not(:last-child) {\r\n        margin-bottom: 5px;\r\n    }\r\n\r\n    .${sel.get('sett.settings_item')} input[type=radio],\r\n    .${sel.get('sett.settings_item')} input[type=checkbox] {\r\n        margin: 0;\r\n        display: none;\r\n    }\r\n\r\n    .${sel.get('sett.settings_item_action')} {\r\n        display: flex;\r\n        align-items: center;\r\n        width: 100%;\r\n        min-height: 18px;\r\n        padding-left: 20px;\r\n        cursor: pointer;\r\n        background-size: 14px 14px;\r\n        background-repeat: no-repeat;\r\n        background-position: 0 center;\r\n    }\r\n\r\n    /* Иконки для радиокнопок */\r\n    input[type=radio] + .${sel.get('sett.settings_item_action')} {\r\n        background-image: url('${icons.get('white', 'circle')}');\r\n    }\r\n    input[type=radio]:not([disabled]) + .${sel.get('sett.settings_item_action')}:hover {\r\n        background-image: url('${icons.get('green', 'circle')}');\r\n    }\r\n    input[type=radio]:checked + .${sel.get('sett.settings_item_action')} {\r\n        background-image: url('${icons.get('white', 'check_circle')}');\r\n    }\r\n    input[type=radio]:not([disabled]):checked + .${sel.get('sett.settings_item_action')}:hover {\r\n        background-image: url('${icons.get('green', 'check_circle')}');\r\n    }\r\n\r\n    /* Иконки для чекбоксов */\r\n    input[type=checkbox] + .${sel.get('sett.settings_item_action')} {\r\n        background-image: url('${icons.get('white', 'square')}');\r\n    }\r\n    input[type=checkbox]:not([disabled]) + .${sel.get('sett.settings_item_action')}:hover {\r\n        background-image: url('${icons.get('green', 'square')}');\r\n    }\r\n    input[type=checkbox]:checked + .${sel.get('sett.settings_item_action')} {\r\n        background-image: url('${icons.get('white', 'check_square')}');\r\n    }\r\n    input[type=checkbox]:not([disabled]):checked + .${sel.get('sett.settings_item_action')}:hover {\r\n        background-image: url('${icons.get('green', 'check_square')}');\r\n    }\r\n\r\n    input[disabled] + .${sel.get('sett.settings_item_action')} {\r\n        opacity: .4;\r\n        cursor: default;\r\n    }\r\n\r\n    /* Иконка шестеренки */\r\n    #${sel.get('photoDownload_id')} .cog {\r\n        width: 18px;\r\n        height: 18px;\r\n        transform: rotate(30deg);\r\n        opacity: 0;\r\n    }\r\n\r\n    #${sel.photoDownload_id}.${sel.ready}.${sel.icon_cog} .${sel.get('btn.icon')} .cog {\r\n        opacity: 1;\r\n    }\r\n\r\n    #${sel.get('photoDownload_id')} .cog .cog_circle {\r\n        fill: none;\r\n        fill-opacity: 0;\r\n        stroke-width: 25;\r\n    }\r\n\r\n    #${sel.get('photoDownload_id')} .cog .cog_path {\r\n        fill: none;\r\n        fill-opacity: 0;\r\n        stroke-width: 25;\r\n        stroke-dasharray: 1669;\r\n        stroke-dashoffset: 1669;\r\n        transition: stroke-dashoffset ${timings.settings_open}ms linear, fill-opacity ${timings.fill}ms ease-out !important;\r\n    }\r\n\r\n    #${sel.get('photoDownload_id')} .cog.${sel.draw} .cog_path {\r\n        transition: stroke-dashoffset ${timings.open}ms linear, fill-opacity ${timings.fill}ms ease-out !important;\r\n        stroke-dashoffset: 0;\r\n    }\r\n\r\n    #${sel.photoDownload_id}.${sel.ready} .cog.${sel.draw_fill} .cog_path {\r\n        fill: #00b75a;\r\n        fill-opacity: 1;\r\n    }\r\n\r\n    #${sel.photoDownload_id}.${sel.ready} .cog.${sel.draw_fill} .cog_circle {\r\n        fill: #000;\r\n        stroke-width: 15;\r\n        fill-opacity: 1;\r\n    }\r\n\r\n    /* === Для настроек с секциями === */\r\n\r\n    /* Галочка вверху слева, закрывающая настройки */\r\n    .${sel.get('sett.settings_close_ico')} {\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        z-index: 10;\r\n        background-image: url('${icons.get('white', 'ok')}');\r\n        background-size: 16px 16px;\r\n        background-position: center;\r\n        background-repeat: no-repeat;\r\n        padding: 6px 10px;\r\n        width: 18px;\r\n        height: 18px;\r\n        cursor: pointer;\r\n    }\r\n\r\n    .${sel.get('sett.settings_close_ico')}:hover {\r\n        background-image: url('${icons.get('green', 'ok')}');\r\n    }\r\n\r\n    /* Секция настроек */\r\n    .${sel.get('sett.settings_section')}:last-child {\r\n        padding-bottom: 5px;\r\n    }\r\n\r\n    /* При ховере на секцию, но не на заголовок, заголовку давать зеленый цвет */\r\n    .${sel.get('sett.settings_section')}:hover .${sel.get('sett.settings_section_header')} {\r\n        color: ${icons._colors.green} !important;\r\n    }\r\n    .${sel.get('sett.settings_section')} .${sel.get('sett.settings_section_header')}:hover  {\r\n        color: ${icons._colors.grey} !important;\r\n    }\r\n\r\n    /* При ховере на секцию, но не на заголовок, подчеркиванию заголовка давать зеленый цвет */\r\n    .${sel.get('sett.settings_section')}:hover .${sel.get('sett.settings_section_header')}:after {\r\n        background-color: ${icons._colors.green};\r\n        opacity: .3;\r\n    }\r\n    .${sel.get('sett.settings_section')} .${sel.get('sett.settings_section_header')}:hover:after {\r\n        background-color: ${icons._colors.white};\r\n        opacity: .1;\r\n    }\r\n\r\n    /* Заголовок секции настроек */\r\n    #${sel.photoDownload_id} .${sel.get('sett.settings_section_header')} {\r\n        position: relative;\r\n        cursor: default;\r\n        font-weight: bold;\r\n        min-height: 30px;\r\n        display: flex;\r\n        justify-content: flex-end;\r\n        align-items: center;\r\n        transition: color ${timings.fill}ms ease-out !important;\r\n    }\r\n\r\n    /* Черта под заколовком секции настроек */\r\n    .${sel.get('sett.settings_section_header')}:after {\r\n        content: '';\r\n        position: absolute;\r\n        bottom: 0;\r\n        left: 50%;\r\n        transform: translateX(-50%);\r\n        width: calc(100% - 0px);\r\n        height: 1px;\r\n        background-color: ${icons._colors.white};\r\n        opacity: .1;\r\n    }\r\n\r\n    `;\r\n}","export default function(sel, timings, icons) {\r\n\r\n    return /* html */ `\r\n    <div class=\"${sel.get('sett.settings_wrap')}\">\r\n        <div class=\"${sel.get('sett.settings')}\">\r\n            <div class=\"${sel.get('sett.settings_close_ico')}\"></div>\r\n\r\n            <div class=\"${sel.get('sett.settings_body')}\">\r\n\r\n                <!-- Режим клика -->\r\n                <div class=\"${sel.get('sett.settings_section')}\">\r\n                <div class=\"${sel.get('sett.settings_section_header')}\">Режим клика</div>\r\n\r\n                    <ul class=\"${sel.get('sett.download_mode')}\">\r\n                        <li class=\"${sel.get('sett.settings_item')}\">\r\n                            <input type=\"radio\" id=\"${sel.download_mode_true}\" name=\"download_mode\" value=\"true\">\r\n                            <label for=\"${sel.download_mode_true}\" class=\"${sel.get('sett.settings_item_action')}\">Скачать</label>\r\n                        </li>\r\n                        <li class=\"${sel.get('sett.settings_item')}\">\r\n                            <input type=\"radio\" id=\"${sel.download_mode_false}\" name=\"download_mode\" value=\"false\">\r\n                            <label for=\"${sel.download_mode_false}\" class=\"${sel.get('sett.settings_item_action')}\">В новой вкладке</label>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n                \r\n                <!-- Размер изображения -->\r\n                <div class=\"${sel.get('sett.settings_section')}\">\r\n                <div class=\"${sel.get('sett.settings_section_header')}\">Размер изображения</div>\r\n\r\n                    <ul class=\"${sel.get('sett.size_mode')}\">\r\n                        <li class=\"${sel.get('sett.settings_item')}\">\r\n                            <input type=\"checkbox\" id=\"${sel.size_mode_control}\" name=\"size_mode\" value=\"true\">\r\n                            <label for=\"${sel.size_mode_control}\" class=\"${sel.get('sett.settings_item_action')}\">Показывать</label>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n\r\n                <!-- Отмечать скаченные -->\r\n                <div class=\"${sel.get('sett.settings_section')}\">\r\n                <div class=\"${sel.get('sett.settings_section_header')}\">Отмечать скаченные</div>\r\n\r\n                    <ul class=\"${sel.get('sett.loaded_urls_mode')}\">\r\n                        <li class=\"${sel.get('sett.settings_item')}\">\r\n                            <input type=\"checkbox\" id=\"${sel.loaded_urls_mode_control}\" name=\"loaded_urls_mode\" value=\"true\">\r\n                            <label for=\"${sel.loaded_urls_mode_control}\" class=\"${sel.get('sett.settings_item_action')}\">Запоминать URL</label>\r\n                        </li>\r\n\r\n                        <li class=\"${sel.get('sett.settings_item')}\">\r\n                            <!-- disabled checked -->\r\n                            <input type=\"checkbox\" id=\"${sel.loaded_urls_mode_key_control}\" name=\"loaded_urls_mode_key\" value=\"true\" disabled>\r\n                            <label for=\"${sel.loaded_urls_mode_key_control}\" class=\"${sel.get('sett.settings_item_action')}\">+ клики ПКМ</label>\r\n                        </li>\r\n                    </ul>\r\n                </div>\r\n\r\n            </div>\r\n        </div>\r\n\r\n    </div>\r\n\r\n    <a class=\"${sel.get('btn.btn')}\" href=\"#!\" target=\"_blank\" draggable=\"false\">\r\n        <div class=\"${sel.get('btn.icon')}\">\r\n            ${icons.get('green', 'cog', false)}\r\n        </div>\r\n        <div class=\"${sel.get('btn.main_title_wrap')}\">\r\n            <div class=\"${sel.get('btn.main_title_inner')}\">\r\n                <div class=\"${sel.get('btn.size')}\"></div>\r\n                <div class=\"${sel.get('btn.settings_title')}\">Настройки</div>\r\n            </div>\r\n        </div>\r\n    </a>\r\n    `;\r\n}","import template_html from './template-html';\r\nimport template_css from './template-css';\r\n\r\n// Класс для шаблонизации верстки кнопки и ее стилей\r\nexport default class PhotoDownloadTemplates {\r\n    constructor(params = {}) {\r\n            // Переданный объект селекторов\r\n            this.sel = params.selectors;\r\n\r\n            // Переданный объект таймингов\r\n            this.timings = params.timings;\r\n\r\n            // Объект, генерирующий разноцветные иконки\r\n            this.icons = {\r\n                _colors: {\r\n                    green: '#00B75A',\r\n                    red: '#F92672',\r\n                    white: '#FFFFFF',\r\n                    yellow: '#FFC000',\r\n                    black: '#000000',\r\n                    grey: '#C3CFE0',\r\n                },\r\n                _prefix: 'data:image/svg+xml;charset=utf-8,',\r\n                _template: {\r\n                    /* html */\r\n                    arrow: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\">\r\n                                <path fill=\"{{color}}\" d=\"M 4,0 4,8 0,8 8,16 16,8 12,8 12,0 4,0 z\"/>\r\n                            </svg>`,\r\n                    /* html */\r\n                    ok: `<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"512\" height=\"512\" version=\"1.1\" viewbox=\"0 0 512 512\">\r\n                            <path fill=\"{{color}}\" d=\"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z\"></path>\r\n                        </svg>`,\r\n                    /* html */\r\n                    cog: `<svg class=\"cog\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 435.29151 456.46127\" version=\"1.1\" width=\"435.2915\" height=\"456.46127\">\r\n                            <g transform=\"translate(-155.4149,40.478503)\">\r\n                                <path class=\"cog_path\" style=\"display:inline;stroke:{{color}};stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1\"\r\n                                    d=\"m 258.15264,70.630447 c 25.28637,-22.526545 48.63737,-34.408525 71.039,-41.069 v -53.478 c 30.41876,-5.863806 59.48563,-4.968141 87.738,0 v 53.479 c 28.8038,8.565535 51.61963,23.119045 71.039,41.069 l 46.309,-26.759995 c 21.86242,23.783755 35.04856,49.293465 43.929,75.968998 l -46.329,26.74 c 6.50875,27.35967 6.5082,54.71933 0,82.079 l 46.329,26.74 c -8.99458,28.70805 -24.09088,53.75507 -43.929,75.957 l -46.309,-26.74 c -22.06268,20.9628 -46.09268,33.0726 -71.039,41.059 v 53.479 c -31.59152,6.25473 -60.47926,5.29935 -87.738,0 v -53.479 c -25.4605,-7.63148 -49.19415,-21.13429 -71.039,-41.059 l -46.309,26.74 c -20.18428,-21.75708 -33.84909,-47.70525 -43.929,-75.958 l 46.329,-26.74 c -7.19947,-30.9594 -5.78496,-57.61181 0,-82.079 l -46.329,-26.74 c 10.39157,-30.733913 25.59075,-55.349053 43.929,-75.968998 z\"/>\r\n                            </g>\r\n                            <g transform=\"translate(-2.3153218e-6)\">\r\n                                <g transform=\"translate(-9.9997883,-9.9949418)\">\r\n                                    <circle class=\"cog_circle\" cx=\"227.64554\" cy=\"238.22559\" r=\"78.324982\"\r\n                                        style=\"stroke:{{color}};stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1\"/>\r\n                                </g>\r\n                            </g>\r\n                        </svg>`,\r\n                    /* html */\r\n                    circle: `<svg viewBox=\"0 0 512 512\" width=\"512\" height=\"512\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path fill=\"{{color}}\" d=\"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200z\"></path>\r\n                            </svg>`,\r\n                    /* html */\r\n                    check_circle: `<svg viewBox=\"0 0 512 512\" width=\"512\" height=\"512\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path fill=\"{{color}}\" d=\"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z\"></path>\r\n                                </svg>`,\r\n                    /* html */\r\n                    square: `<svg viewBox=\"0 0 448 512\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                <path fill=\"{{color}}\" d=\"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48zm-6 400H54c-3.3 0-6-2.7-6-6V86c0-3.3 2.7-6 6-6h340c3.3 0 6 2.7 6 6v340c0 3.3-2.7 6-6 6z\"></path>\r\n                            </svg>`,\r\n                    /* html */\r\n                    check_square: `<svg viewBox=\"0 0 448 512\" xmlns=\"http://www.w3.org/2000/svg\">\r\n                                    <path fill=\"{{color}}\" d=\"M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zm-204.686-98.059l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.248-16.379-6.249-22.628 0L184 302.745l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628.001z\"></path>\r\n                                </svg>`,\r\n                },\r\n                _temp(template, color) {\r\n                    let _template = this._template[template] ? this._template[template] : this._template.arrow;\r\n                    return _template.replace(/\\{\\{.*\\}\\}/gm, color ? color : 'white');\r\n                },\r\n                get(color, template, url = true) {\r\n                    let _color = this._colors[color] ? this._colors[color] : color;\r\n                    let svg = this._temp(template, _color).replace(/[\\s]{2,}/gm, ' ');\r\n                    return url ? this._prefix + encodeURIComponent(svg) : svg;\r\n                }\r\n            };\r\n        } // constructor\r\n\r\n\r\n    setLoadedUrl(wrap, setting_active, check) {\r\n        if (!wrap) return null;\r\n\r\n        let btn = wrap.querySelector('.' + this.sel.get('btn.btn'));\r\n        let icon = btn.querySelector('.' + this.sel.get('btn.icon'));\r\n\r\n        if (setting_active && check) {\r\n            btn.classList.add(this.sel.get('loaded_urls_active'));\r\n            icon.title = 'Это изображение уже было скачено ранее';\r\n        } else {\r\n            btn.classList.remove(this.sel.get('loaded_urls_active'));\r\n            icon.title = '';\r\n        }\r\n    }\r\n\r\n    // Метод для отображения размеров картинки в кнопке\r\n    setSize(wrap, image_data, non_size) {\r\n        let size = wrap.querySelector('.' + this.sel.get('btn.size'));\r\n\r\n        if (image_data.width && image_data.height) {\r\n            if (non_size) {\r\n                wrap.classList.remove(this.sel.non_size);\r\n            } else {\r\n                wrap.classList.add(this.sel.non_size);\r\n            }\r\n\r\n            size.textContent = `${image_data.width}x${image_data.height}`;\r\n        } else {\r\n            wrap.classList.add(this.sel.non_size);\r\n            size.textContent = '';\r\n        }\r\n    }\r\n\r\n    // Метод создания контейнера с кнопкой\r\n    createDownloadContainer(parent) {\r\n        let wrap = document.createElement('div');\r\n        wrap.id = this.sel.photoDownload_id;\r\n\r\n        // Заполнение контейнера внутренними элементами\r\n        wrap.innerHTML = this.getInnerElems();\r\n\r\n        setTimeout(() => {\r\n            wrap.classList.add(this.sel.ready);\r\n        }, 0);\r\n\r\n        parent.appendChild(wrap);\r\n\r\n        return wrap;\r\n    }\r\n\r\n    // Метод добавления на страницу стилей, необходимых для работы PhotoDownload\r\n    injectCSS() {\r\n        let style = document.createElement('style');\r\n        style.id = this.sel.style_id;\r\n        style.textContent = this.getStyleContent();\r\n\r\n        document.head.appendChild(style);\r\n    }\r\n\r\n    // Метод, генерирующий верстку самой кнопки\r\n    getInnerElems() {\r\n        return template_html(this.sel, this.timings, this.icons);\r\n    }\r\n\r\n    // Метод, шаблонизирующий стили кнопки\r\n    getStyleContent() {\r\n        return template_css(this.sel, this.timings, this.icons);\r\n    }\r\n}","import PhotoDownload from './modules/photo-download';\r\n\r\n\r\nwindow.photoDownload = new PhotoDownload({\r\n    download: true\r\n});","//download.js v4.2, by dandavis; 2008-2016. [MIT] see http://danml.com/download.html for tests/usage\n// v1 landed a FF+Chrome compat way of downloading strings to local un-named files, upgraded to use a hidden frame and optional mime\n// v2 added named files via a[download], msSaveBlob, IE (10+) support, and window.URL support for larger+faster saves than dataURLs\n// v3 added dataURL and Blob Input, bind-toggle arity, and legacy dataURL fallback was improved with force-download mime and base64 support. 3.1 improved safari handling.\n// v4 adds AMD/UMD, commonJS, and plain browser support\n// v4.1 adds url download capability via solo URL argument (same domain/CORS only)\n// v4.2 adds semantic variable names, long (over 2MB) dataURL support, and hidden by default temp anchors\n// https://github.com/rndme/download\n\n(function (root, factory) {\n\tif (typeof define === 'function' && define.amd) {\n\t\t// AMD. Register as an anonymous module.\n\t\tdefine([], factory);\n\t} else if (typeof exports === 'object') {\n\t\t// Node. Does not work with strict CommonJS, but\n\t\t// only CommonJS-like environments that support module.exports,\n\t\t// like Node.\n\t\tmodule.exports = factory();\n\t} else {\n\t\t// Browser globals (root is window)\n\t\troot.download = factory();\n  }\n}(this, function () {\n\n\treturn function download(data, strFileName, strMimeType) {\n\n\t\tvar self = window, // this script is only for browsers anyway...\n\t\t\tdefaultMime = \"application/octet-stream\", // this default mime also triggers iframe downloads\n\t\t\tmimeType = strMimeType || defaultMime,\n\t\t\tpayload = data,\n\t\t\turl = !strFileName && !strMimeType && payload,\n\t\t\tanchor = document.createElement(\"a\"),\n\t\t\ttoString = function(a){return String(a);},\n\t\t\tmyBlob = (self.Blob || self.MozBlob || self.WebKitBlob || toString),\n\t\t\tfileName = strFileName || \"download\",\n\t\t\tblob,\n\t\t\treader;\n\t\t\tmyBlob= myBlob.call ? myBlob.bind(self) : Blob ;\n\t  \n\t\tif(String(this)===\"true\"){ //reverse arguments, allowing download.bind(true, \"text/xml\", \"export.xml\") to act as a callback\n\t\t\tpayload=[payload, mimeType];\n\t\t\tmimeType=payload[0];\n\t\t\tpayload=payload[1];\n\t\t}\n\n\n\t\tif(url && url.length< 2048){ // if no filename and no mime, assume a url was passed as the only argument\n\t\t\tfileName = url.split(\"/\").pop().split(\"?\")[0];\n\t\t\tanchor.href = url; // assign href prop to temp anchor\n\t\t  \tif(anchor.href.indexOf(url) !== -1){ // if the browser determines that it's a potentially valid url path:\n        \t\tvar ajax=new XMLHttpRequest();\n        \t\tajax.open( \"GET\", url, true);\n        \t\tajax.responseType = 'blob';\n        \t\tajax.onload= function(e){ \n\t\t\t\t  download(e.target.response, fileName, defaultMime);\n\t\t\t\t};\n        \t\tsetTimeout(function(){ ajax.send();}, 0); // allows setting custom ajax headers using the return:\n\t\t\t    return ajax;\n\t\t\t} // end if valid url?\n\t\t} // end if url?\n\n\n\t\t//go ahead and download dataURLs right away\n\t\tif(/^data:([\\w+-]+\\/[\\w+.-]+)?[,;]/.test(payload)){\n\t\t\n\t\t\tif(payload.length > (1024*1024*1.999) && myBlob !== toString ){\n\t\t\t\tpayload=dataUrlToBlob(payload);\n\t\t\t\tmimeType=payload.type || defaultMime;\n\t\t\t}else{\t\t\t\n\t\t\t\treturn navigator.msSaveBlob ?  // IE10 can't do a[download], only Blobs:\n\t\t\t\t\tnavigator.msSaveBlob(dataUrlToBlob(payload), fileName) :\n\t\t\t\t\tsaver(payload) ; // everyone else can save dataURLs un-processed\n\t\t\t}\n\t\t\t\n\t\t}else{//not data url, is it a string with special needs?\n\t\t\tif(/([\\x80-\\xff])/.test(payload)){\t\t\t  \n\t\t\t\tvar i=0, tempUiArr= new Uint8Array(payload.length), mx=tempUiArr.length;\n\t\t\t\tfor(i;i<mx;++i) tempUiArr[i]= payload.charCodeAt(i);\n\t\t\t \tpayload=new myBlob([tempUiArr], {type: mimeType});\n\t\t\t}\t\t  \n\t\t}\n\t\tblob = payload instanceof myBlob ?\n\t\t\tpayload :\n\t\t\tnew myBlob([payload], {type: mimeType}) ;\n\n\n\t\tfunction dataUrlToBlob(strUrl) {\n\t\t\tvar parts= strUrl.split(/[:;,]/),\n\t\t\ttype= parts[1],\n\t\t\tdecoder= parts[2] == \"base64\" ? atob : decodeURIComponent,\n\t\t\tbinData= decoder( parts.pop() ),\n\t\t\tmx= binData.length,\n\t\t\ti= 0,\n\t\t\tuiArr= new Uint8Array(mx);\n\n\t\t\tfor(i;i<mx;++i) uiArr[i]= binData.charCodeAt(i);\n\n\t\t\treturn new myBlob([uiArr], {type: type});\n\t\t }\n\n\t\tfunction saver(url, winMode){\n\n\t\t\tif ('download' in anchor) { //html5 A[download]\n\t\t\t\tanchor.href = url;\n\t\t\t\tanchor.setAttribute(\"download\", fileName);\n\t\t\t\tanchor.className = \"download-js-link\";\n\t\t\t\tanchor.innerHTML = \"downloading...\";\n\t\t\t\tanchor.style.display = \"none\";\n\t\t\t\tdocument.body.appendChild(anchor);\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tanchor.click();\n\t\t\t\t\tdocument.body.removeChild(anchor);\n\t\t\t\t\tif(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(anchor.href);}, 250 );}\n\t\t\t\t}, 66);\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t// handle non-a[download] safari as best we can:\n\t\t\tif(/(Version)\\/(\\d+)\\.(\\d+)(?:\\.(\\d+))?.*Safari\\//.test(navigator.userAgent)) {\n\t\t\t\tif(/^data:/.test(url))\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t\tif(!window.open(url)){ // popup blocked, offer direct download:\n\t\t\t\t\tif(confirm(\"Displaying New Document\\n\\nUse Save As... to download, then click back to return to this page.\")){ location.href=url; }\n\t\t\t\t}\n\t\t\t\treturn true;\n\t\t\t}\n\n\t\t\t//do iframe dataURL download (old ch+FF):\n\t\t\tvar f = document.createElement(\"iframe\");\n\t\t\tdocument.body.appendChild(f);\n\n\t\t\tif(!winMode && /^data:/.test(url)){ // force a mime that will download:\n\t\t\t\turl=\"data:\"+url.replace(/^data:([\\w\\/\\-\\+]+)/, defaultMime);\n\t\t\t}\n\t\t\tf.src=url;\n\t\t\tsetTimeout(function(){ document.body.removeChild(f); }, 333);\n\n\t\t}//end saver\n\n\n\n\n\t\tif (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)\n\t\t\treturn navigator.msSaveBlob(blob, fileName);\n\t\t}\n\n\t\tif(self.URL){ // simple fast and modern way using Blob and URL:\n\t\t\tsaver(self.URL.createObjectURL(blob), true);\n\t\t}else{\n\t\t\t// handle non-Blob()+non-URL browsers:\n\t\t\tif(typeof blob === \"string\" || blob.constructor===toString ){\n\t\t\t\ttry{\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \";base64,\"  +  self.btoa(blob)  );\n\t\t\t\t}catch(y){\n\t\t\t\t\treturn saver( \"data:\" +  mimeType   + \",\" + encodeURIComponent(blob)  );\n\t\t\t\t}\n\t\t\t}\n\n\t\t\t// Blob but not URL support:\n\t\t\treader=new FileReader();\n\t\t\treader.onload=function(e){\n\t\t\t\tsaver(this.result);\n\t\t\t};\n\t\t\treader.readAsDataURL(blob);\n\t\t}\n\t\treturn true;\n\t}; /* end download() */\n}));\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJhcHAvc2NyaXB0cy9tb2R1bGVzL2hhbmRsZXJzLmpzIiwiYXBwL3NjcmlwdHMvbW9kdWxlcy9waG90by1kb3dubG9hZC5qcyIsImFwcC9zY3JpcHRzL21vZHVsZXMvc3RvcmFnZS5qcyIsImFwcC9zY3JpcHRzL21vZHVsZXMvdGVtcGxhdGUtY3NzLmpzIiwiYXBwL3NjcmlwdHMvbW9kdWxlcy90ZW1wbGF0ZS1odG1sLmpzIiwiYXBwL3NjcmlwdHMvbW9kdWxlcy90ZW1wbGF0ZXMuanMiLCJhcHAvc2NyaXB0cy92ay1waG90by1kb3dubG9hZC5qcyIsIm5vZGVfbW9kdWxlcy9kb3dubG9hZGpzL2Rvd25sb2FkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBOzs7Ozs7OztBQ0FBOzs7Ozs7Ozs7O0FBRUE7SUFDcUIsZTs7O0FBQ2pCLDZCQUF5QjtBQUFBOztBQUFBLFFBQWIsTUFBYSx1RUFBSixFQUFJOztBQUFBOztBQUNqQjtBQUNBLFNBQUssYUFBTCxHQUFxQixNQUFNLENBQUMsYUFBNUIsQ0FGaUIsQ0FJakI7O0FBQ0EsU0FBSyxHQUFMLEdBQVcsTUFBTSxDQUFDLFNBQWxCLENBTGlCLENBT2pCOztBQUNBLFNBQUssT0FBTCxHQUFlLE1BQU0sQ0FBQyxPQUF0QixDQVJpQixDQVVqQjs7QUFDQSxTQUFLLGtCQUFMLEdBQTBCLE9BQTFCLENBWGlCLENBYWpCOztBQUNBLFNBQUssUUFBTCxHQUFnQjtBQUNaLE1BQUEsY0FBYyxFQUFFLEtBQUssZUFBTCxDQUFxQixJQUFyQixDQUEwQixJQUExQixDQURKO0FBRVosTUFBQSxhQUFhLEVBQUUsS0FBSyxjQUFMLENBQW9CLElBQXBCLENBQXlCLElBQXpCLENBRkg7QUFHWixNQUFBLGVBQWUsRUFBRSxLQUFLLGdCQUFMLENBQXNCLElBQXRCLENBQTJCLElBQTNCLENBSEw7QUFJWixNQUFBLFVBQVUsRUFBRSxLQUFLLFdBQUwsQ0FB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O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiaW1wb3J0IERvd25sb2FkIGZyb20gJ2Rvd25sb2FkanMnO1xyXG5cclxuLy8g0JrQu9Cw0YHRgSDQtNC70Y8g0YPQv9GA0LDQstC70LXQvdC40Y8g0L7QsdGA0LDQsdC+0YLRh9C40LrQsNC80Lgg0LLQvdGD0YLRgNC4INC60L3QvtC/0LrQuFxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIYW5kbGVyc01hbmFnZXIge1xyXG4gICAgY29uc3RydWN0b3IocGFyYW1zID0ge30pIHtcclxuICAgICAgICAgICAgLy8g0J/QtdGA0LXQtNCw0L3QvdGL0Lkg0LjQvdGB0YLQsNC90YEg0LPQu9Cw0LLQvdC+0LPQviDQutC70LDRgdGB0LBcclxuICAgICAgICAgICAgdGhpcy5QaG90b0Rvd25sb2FkID0gcGFyYW1zLlBob3RvRG93bmxvYWQ7XHJcblxyXG4gICAgICAgICAgICAvLyDQn9C10YDQtdC00LDQvdC90YvQuSDQvtCx0YrQtdC60YIg0YHQtdC70LXQutGC0L7RgNC+0LJcclxuICAgICAgICAgICAgdGhpcy5zZWwgPSBwYXJhbXMuc2VsZWN0b3JzO1xyXG5cclxuICAgICAgICAgICAgLy8g0J/QtdGA0LXQtNCw0L3QvdGL0Lkg0L7QsdGK0LXQutGCINGC0LDQudC80LjQvdCz0L7QslxyXG4gICAgICAgICAgICB0aGlzLnRpbWluZ3MgPSBwYXJhbXMudGltaW5ncztcclxuXHJcbiAgICAgICAgICAgIC8vINCi0LjQvyDRgdC+0LHRi9GC0LjRjyDQv9C+INGD0LzQvtC70YfQsNC90LjRjiDQtNC70Y8g0L7QsdGA0LDQsdC+0YLRh9C40LrQvtCyXHJcbiAgICAgICAgICAgIHRoaXMuZGVmYXVsdF9ldmVudF9uYW1lID0gJ2NsaWNrJztcclxuXHJcbiAgICAgICAgICAgIC8vINCe0LHRitC10LrRgiDRgSDQv9C10YDQtdGH0LjRgdC70LXQvdC40LXQvCDQstGB0LXRhSDQstC+0LfQvNC+0LbQvdGL0YUg0L7QsdGA0LDQsdC+0YLRh9C40LrQvtCyXHJcbiAgICAgICAgICAgIHRoaXMuaGFuZGxlcnMgPSB7XHJcbiAgICAgICAgICAgICAgICBwcmV2ZW50SGFuZGxlcjogdGhpcy5fcHJldmVudEhhbmRsZXIuYmluZCh0aGlzKSxcclxuICAgICAgICAgICAgICAgIG5ld1RhYkhhbmRsZXI6IHRoaXMuX25ld1RhYkhhbmRsZXIuYmluZCh0aGlzKSxcclxuICAgICAgICAgICAgICAgIGRvd25sb2FkSGFuZGxlcjogdGhpcy5fZG93bmxvYWRIYW5kbGVyLmJpbmQodGhpcyksXHJcbiAgICAgICAgICAgICAgICBzdGFydFRpbWVyOiB0aGlzLl9zdGFydFRpbWVyLmJpbmQodGhpcyksXHJcbiAgICAgICAgICAgICAgICBjaGVja1RpbWVyOiB0aGlzLl9jaGVja1RpbWVyLmJpbmQodGhpcyksXHJcbiAgICAgICAgICAgICAgICBjbG9zZVRpbWluZ1NldHRpbmdzOiAoKSA9PiB0aGlzLlBob3RvRG93bmxvYWQuc3RhdGUuc2V0dGluZ3MgPSAnY2xvc2UnLFxyXG4gICAgICAgICAgICAgICAgZG93bmxvYWRNb2RlSGFuZGxlcjogdGhpcy5fZG93bmxvYWRNb2RlSGFuZGxlci5iaW5kKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgc2hvd1NpemVIYW5kbGVyOiB0aGlzLl9zaG93U2l6ZUhhbmRsZXIuYmluZCh0aGlzKSxcclxuICAgICAgICAgICAgICAgIGRvd25sb2FkRWZmZWN0OiB0aGlzLnRlbXBDbGFzcy5iaW5kKHRoaXMsIHRoaXMuc2VsLmdldCgnYnRuLmRvd25sb2FkX2VmZmVjdCcpLCB0aGlzLnRpbWluZ3Muc2V0dGluZ3Nfb3BlbiArIDI1MCwgYC4ke3RoaXMuc2VsLmdldCgnYnRuLmljb24nKX1gKSxcclxuICAgICAgICAgICAgICAgIGxvYWRlZFVybHNIYW5kbGVyOiB0aGlzLl9sb2FkZWRVcmxzSGFuZGxlci5iaW5kKHRoaXMpLFxyXG4gICAgICAgICAgICAgICAgYWRkbG9hZGVkVXJsOiB0aGlzLl9hZGRsb2FkZWRVcmwuYmluZCh0aGlzKSxcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy50aW1lcnMgPSB7XHJcbiAgICAgICAgICAgICAgICBkZWxheTogbnVsbCxcclxuICAgICAgICAgICAgICAgIG9wZW46IG51bGwsXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfSAvLyBjb25zdHJ1Y3RvclxyXG5cclxuICAgIC8vINCj0YHRgtCw0L3QsNCy0LvQuNCy0LDQtdGCINC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0LIg0LrQvdC+0L/QutC1XHJcbiAgICBzZXRIYW5kbGVycygpIHtcclxuICAgICAgICBsZXQgd3JhcCA9IHRoaXMuUGhvdG9Eb3dubG9hZC53cmFwO1xyXG4gICAgICAgIGlmICghd3JhcCkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICBsZXQgYnRuID0gd3JhcC5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuc2VsLmdldCgnYnRuLmJ0bicpKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXQoYnRuLCAnc3RhcnRUaW1lcicsICdtb3VzZWRvd24nKTtcclxuICAgICAgICB0aGlzLnNldChidG4sICdjaGVja1RpbWVyJywgJ21vdXNldXAnKTtcclxuICAgICAgICB0aGlzLnNldChidG4sICdjaGVja1RpbWVyJywgJ21vdXNlbGVhdmUnKTtcclxuICAgICAgICB0aGlzLnNldChidG4sICdwcmV2ZW50SGFuZGxlcicsICdjbGljaycpO1xyXG5cclxuICAgICAgICAvLyDQk9Cw0LvQvtGH0LrQsCDQt9Cw0LrRgNGL0YLQuNGPINC90LDRgdGC0YDQvtC10LpcclxuICAgICAgICBsZXQgYnRuX2Nsb3NlID0gd3JhcC5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuc2VsLmdldCgnc2V0dC5zZXR0aW5nc19jbG9zZV9pY28nKSk7XHJcbiAgICAgICAgdGhpcy5zZXQoYnRuX2Nsb3NlLCAnY2xvc2VUaW1pbmdTZXR0aW5ncycsICdjbGljaycpO1xyXG5cclxuICAgICAgICAvLyDQntCx0YDQsNCx0L7RgtGH0LjQuiDQuNC30LzQtdC90LXQvdC40Y8g0L3QsNGB0YLRgNC+0LnQutC4INGA0LXQttC40LzQsCDRgdC60LDRh9C40LLQsNC90LjRjyAo0LrQu9C40LrQsCDQv9C+INC60L3QvtC/0LrQtSlcclxuICAgICAgICBsZXQgZG93bmxvYWRfbW9kZSA9IHdyYXAucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnNlbC5nZXQoJ3NldHQuZG93bmxvYWRfbW9kZScpKTtcclxuICAgICAgICB0aGlzLnNldChkb3dubG9hZF9tb2RlLCAnZG93bmxvYWRNb2RlSGFuZGxlcicsICdjaGFuZ2UnKTtcclxuXHJcbiAgICAgICAgLy8g0J7QsdGA0LDQsdC+0YLRh9C40Log0LjQt9C80LXQvdC10L3QuNGPINC90LDRgdGC0YDQvtC50LrQuCDQvtGC0L7QsdGA0LDQttC10L3QuNGPINGA0LDQt9C80LXRgNCwINC60LDRgNGC0LjQvdC60LhcclxuICAgICAgICBsZXQgc2l6ZV9tb2RlID0gd3JhcC5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuc2VsLmdldCgnc2V0dC5zaXplX21vZGUnKSk7XHJcbiAgICAgICAgdGhpcy5zZXQoc2l6ZV9tb2RlLCAnc2hvd1NpemVIYW5kbGVyJywgJ2NoYW5nZScpO1xyXG5cclxuICAgICAgICAvLyDQntCx0YDQsNCx0L7RgtGH0LjQuiDQuNC30LzQtdC90LXQvdC40Y8g0L3QsNGB0YLRgNC+0LnQutC4INC30LDQv9C+0LzQuNC90LDQvdC40Y8gVVJMINGB0LrQsNGH0LXQvdC90YvRhSDQutCw0YDRgtC40L3QvtC6XHJcbiAgICAgICAgbGV0IGxvYWRlZF91cmxzX21vZGUgPSB3cmFwLnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5zZWwuZ2V0KCdzZXR0LmxvYWRlZF91cmxzX21vZGUnKSk7XHJcbiAgICAgICAgdGhpcy5zZXQobG9hZGVkX3VybHNfbW9kZSwgJ2xvYWRlZFVybHNIYW5kbGVyJywgJ2NoYW5nZScpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCe0LHQvdC+0LLQu9GP0LXRgiDQvdCw0YHRgtGA0L7QudC60Lgg0LIg0LrQvdC+0L/QutC1XHJcbiAgICBzZXRTZXR0aW5nc1N0YXRlKCkge1xyXG4gICAgICAgIGxldCB3cmFwID0gdGhpcy5QaG90b0Rvd25sb2FkLndyYXA7XHJcbiAgICAgICAgaWYgKCF3cmFwKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vIF9kb3dubG9hZF9tb2RlXHJcbiAgICAgICAgbGV0IGRvd25sb2FkX21vZGUgPSB0aGlzLlBob3RvRG93bmxvYWQuc2V0dGluZ3MuZG93bmxvYWRfbW9kZS50b1N0cmluZygpO1xyXG4gICAgICAgIGxldCBkb3dubG9hZF9tb2RlX2Jsb2NrID0gd3JhcC5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuc2VsLmdldCgnc2V0dC5kb3dubG9hZF9tb2RlJykpO1xyXG4gICAgICAgIGxldCBkb3dubG9hZF9tb2RlX2NvbnRyb2wgPSBkb3dubG9hZF9tb2RlX2Jsb2NrLnF1ZXJ5U2VsZWN0b3IoYGlucHV0W3ZhbHVlPSR7ZG93bmxvYWRfbW9kZX1dYCk7XHJcbiAgICAgICAgZG93bmxvYWRfbW9kZV9jb250cm9sLmNoZWNrZWQgPSB0cnVlO1xyXG5cclxuICAgICAgICAvLyBfc2hvd19zaXplXHJcbiAgICAgICAgbGV0IHNpemVfbW9kZV9jb250cm9sID0gd3JhcC5xdWVyeVNlbGVjdG9yKCcjJyArIHRoaXMuc2VsLnNpemVfbW9kZV9jb250cm9sKTtcclxuICAgICAgICBzaXplX21vZGVfY29udHJvbC5jaGVja2VkID0gdGhpcy5QaG90b0Rvd25sb2FkLnNldHRpbmdzLnNob3dfc2l6ZTtcclxuICAgICAgICBpZiAodGhpcy5QaG90b0Rvd25sb2FkLnNldHRpbmdzLnNob3dfc2l6ZSkge1xyXG4gICAgICAgICAgICB3cmFwLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5zZWwubm9uX3NpemUpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdyYXAuY2xhc3NMaXN0LmFkZCh0aGlzLnNlbC5ub25fc2l6ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBfbG9hZGVkX3VybHNcclxuICAgICAgICBsZXQgbG9hZGVkX3VybHNfbW9kZV9jb250cm9sID0gd3JhcC5xdWVyeVNlbGVjdG9yKCcjJyArIHRoaXMuc2VsLmxvYWRlZF91cmxzX21vZGVfY29udHJvbCk7XHJcbiAgICAgICAgbG9hZGVkX3VybHNfbW9kZV9jb250cm9sLmNoZWNrZWQgPSB0aGlzLlBob3RvRG93bmxvYWQuc2V0dGluZ3MubG9hZGVkX3VybHM7XHJcbiAgICAgICAgLy8g0JXRgdC70Lgg0YDQsNC30YDQtdGI0LXQvdC+IFwi0JfQsNC/0L7QvNC40L3QsNGC0YwgVVJMXCIsINGC0L4g0YDQsNC30LHQu9C+0LrQuNGA0YPQtdC8IFwiKyDQutC70LjQutC4INCf0JrQnFwiINC4INC90LDQvtCx0L7RgNC+0YJcclxuICAgICAgICBsZXQgbG9hZGVkX3VybHNfbW9kZV9rZXlfY29udHJvbCA9IHdyYXAucXVlcnlTZWxlY3RvcignIycgKyB0aGlzLnNlbC5sb2FkZWRfdXJsc19tb2RlX2tleV9jb250cm9sKTtcclxuICAgICAgICBsb2FkZWRfdXJsc19tb2RlX2tleV9jb250cm9sLmRpc2FibGVkID0gIXRoaXMuUGhvdG9Eb3dubG9hZC5zZXR0aW5ncy5sb2FkZWRfdXJscztcclxuICAgICAgICAvLyDQn9GA0LjQvNC10L3QuNC8INGB0L7RgdGC0L7Rj9C90LjQtSDQvdCw0YHRgtGA0L7QudC60LhcclxuICAgICAgICBsb2FkZWRfdXJsc19tb2RlX2tleV9jb250cm9sLmNoZWNrZWQgPSB0aGlzLlBob3RvRG93bmxvYWQuc2V0dGluZ3MubG9hZGVkX3VybHNfUEtNO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAvLyDQntCx0L3QvtCy0LvRj9C10YIg0LLQuNC30YPQsNC70YzQvdC+0LUg0YHQvtGB0YLQvtGP0L3QuNC1INC60L3QvtC/0LrQuFxyXG4gICAgYXBwbHlTdGF0ZSgpIHtcclxuICAgICAgICBsZXQgc3RhdGUgPSB0aGlzLlBob3RvRG93bmxvYWQuc3RhdGU7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoc3RhdGUuc2V0dGluZ3MpIHtcclxuICAgICAgICAgICAgY2FzZSAnb3Blbl90aW1pbmcnOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3BlblRpbWluZ1NldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ29wZW4nOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5fb3BlblNldHRpbmdzKCk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgIGNhc2UgJ2Nsb3NlJzpcclxuICAgICAgICAgICAgICAgIHRoaXMuX2Nsb3NlU2V0dGluZ3MoKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDQnNC10YLQvtC0LCDRgNC10LDQu9C40LfRg9GO0YnQuNC5INGA0LXQttC40LzRiyDQsdGL0YHRgtGA0L7Qs9C+INC60LvQuNC60LAg0Lgg0YPQtNC10YDQttCw0L3QuNGPINCb0JrQnCDQvdCwINC60L3QvtC/0LrQtVxyXG4gICAgX3N0YXJ0VGltZXIoZSkge1xyXG4gICAgICAgIC8vINCV0YHQu9C4INC90LDQttCw0YLQsCDQvdC1INCb0JrQnCAtINCy0YvRhdC+0LTQuNC8XHJcbiAgICAgICAgaWYgKGUud2hpY2ggIT09IDEpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuUGhvdG9Eb3dubG9hZC5zZXR0aW5ncy5sb2FkZWRfdXJsc19QS00gJiZcclxuICAgICAgICAgICAgICAgIHRoaXMuUGhvdG9Eb3dubG9hZC5zZXR0aW5ncy5sb2FkZWRfdXJscyAmJlxyXG4gICAgICAgICAgICAgICAgdGhpcy5QaG90b0Rvd25sb2FkLnN0YXRlLnNldHRpbmdzID09ICdjbG9zZScpIHtcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRsb2FkZWRVcmwoZSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vINCd0LDRgdGC0YDQvtC50LrQuCDQt9Cw0LrRgNGL0YLRi1xyXG4gICAgICAgIGlmICh0aGlzLlBob3RvRG93bmxvYWQuc3RhdGUuc2V0dGluZ3MgPT0gJ2Nsb3NlJykge1xyXG4gICAgICAgICAgICAvLyDQodGC0LDQstC40Lwg0YLQsNC50LzQtdGAINC30LDQtNC10YDQttC60Lgg0L3QsCDQstGA0LXQvNGPLCDQvtGC0LLQtdC00LXQvdC90L7QtSDQtNC70Y8g0LHRi9GB0YLRgNC+0LPQviDQutC70LjQutCwXHJcbiAgICAgICAgICAgIHRoaXMudGltZXJzLmRlbGF5ID0gc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyDQldGB0LvQuCDRgtCw0LnQvNC10YAg0LfQsNC00LXRgNC20LrQuCDQvdC1INGB0LHRgNC+0YjQtdC9LCDQt9Cw0L/Rg9GB0LrQsNC10Lwg0YHQvtGB0YLQvtGP0L3QuNC1INC+0YLQutGA0YvRgtC40Y8g0L3QsNGB0YLRgNC+0LXQulxyXG4gICAgICAgICAgICAgICAgdGhpcy5QaG90b0Rvd25sb2FkLnN0YXRlLnNldHRpbmdzID0gJ29wZW5fdGltaW5nJztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyDQmCDRgdGC0LDQstC40Lwg0YLQsNC50LzQtdGAINC90LAg0LLRgNC10LzRjyDQsNC90LjQvNCw0YbQuNC4INC+0YLQutGA0YvRgtC40Y9cclxuICAgICAgICAgICAgICAgIC8vINCf0L7QutCwINC90LUg0LLRi9C/0L7Qu9C90LjRgtGB0Y8g0Y3RgtC+0YIg0YLQsNC50LzQtdGALCDQstGF0L7QtCDQsiDQvdCw0YHRgtGA0L7QudC60Lgg0LzQvtC20L3QviDQvtGC0LzQtdC90LjRgtGMLCDQvtGC0L/Rg9GB0YLQuNCyINCb0JrQnFxyXG4gICAgICAgICAgICAgICAgdGhpcy50aW1lcnMub3BlbiA9IHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vINCV0YHQu9C4INGN0YLQvtGCINGC0LDQudC80LXRgCDQvdC1INGB0LHRgNC+0YjQtdC9LCDQstGF0L7QtNC40Lwg0LIg0L3QsNGB0YLRgNC+0LnQutC4XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5QaG90b0Rvd25sb2FkLnN0YXRlLnNldHRpbmdzID0gJ29wZW4nO1xyXG4gICAgICAgICAgICAgICAgfSwgdGhpcy50aW1pbmdzLm9wZW4pO1xyXG5cclxuICAgICAgICAgICAgfSwgdGhpcy50aW1pbmdzLmRlbGF5KTtcclxuXHJcbiAgICAgICAgICAgIC8vINCd0LDRgdGC0YDQvtC50LrQuCDQvtGC0LrRgNGL0YLRi1xyXG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5QaG90b0Rvd25sb2FkLnN0YXRlLnNldHRpbmdzID09ICdvcGVuJykge1xyXG4gICAgICAgICAgICAvLyDQo9Cx0LjRgNCw0LXQvCDQuNC60L7QvdC60YMg0YjQtdGB0YLQtdGA0LXQvdC60LhcclxuICAgICAgICAgICAgdGhpcy5QaG90b0Rvd25sb2FkLndyYXAucXVlcnlTZWxlY3RvcignLmNvZycpXHJcbiAgICAgICAgICAgICAgICAuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnNlbC5kcmF3LCB0aGlzLnNlbC5kcmF3X2ZpbGwpO1xyXG5cclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyDQldGB0LvQuCDQt9CwINCy0YDQtdC80Y8sINC+0YLQstC10LTQtdC90L3QvtC1INC90LAg0LHRi9GB0YLRgNGL0Lkg0LrQu9C40LosINC90LDRgdGC0YDQvtC50LrQuCDQtdGJ0LUg0L7RgtC60YDRi9GC0YssXHJcbiAgICAgICAgICAgICAgICAvLyDRgtC+INC30LDQutGA0L7QtdC8INC40YVcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLlBob3RvRG93bmxvYWQuc3RhdGUuc2V0dGluZ3MgPT0gJ29wZW4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5QaG90b0Rvd25sb2FkLnN0YXRlLnNldHRpbmdzID0gJ2Nsb3NlJztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgdGhpcy50aW1pbmdzLmRlbGF5KTtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIF9jaGVja1RpbWVyKGUpIHtcclxuICAgICAgICAvLyDQldGB0LvQuCDQvdCw0LbQsNGC0LAg0L3QtSDQu9C10LLQsNGPINC60L3QvtC/0LrQsCDQvNGL0YjQuCwg0YLQviDQstGL0YXQvtC00LjQvFxyXG4gICAgICAgIGlmIChlLndoaWNoICE9PSAxKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vINCV0YHQu9C4INCx0YvRgdGC0YDRi9C5INC60LvQuNC9INC4INC90LDRgdGC0YDQvtC50LrQuCDQt9Cw0LrRgNGL0YLRiywg0YLQviDQsdGD0LTQtdGCINC+0LHRgNCw0LHQvtGC0YfQuNC6INGB0LrQsNGH0LjQstCw0L3QuNGPXHJcbiAgICAgICAgaWYgKHRoaXMudGltZXJzLmRlbGF5ICYmICF0aGlzLnRpbWVycy5vcGVuICYmIHRoaXMuUGhvdG9Eb3dubG9hZC5zdGF0ZS5zZXR0aW5ncyA9PSAnY2xvc2UnKSB7XHJcblxyXG4gICAgICAgICAgICAvLyDQotGD0YIg0LTQtdC50YHRgtCy0LjQtSDQtNC70Y8g0L/RgNC+0YHRgtC+0LPQviDQutC70LjQutCwXHJcbiAgICAgICAgICAgIC8vINCSINC30LDQstC40YHQuNC80L7RgdGC0Lgg0L7RgiDRhNC70LDQs9CwINCy0LXRiNCw0LXQvCDQu9C40LHQviDQvtCx0YDQsNCx0L7RgtGH0LjQuiDRgdC60LDRh9C40LLQsNC90LjRjywg0LvQuNCx0L4g0L7RgtC60YDRi9GC0LjRjyDQvdC+0LLQvtC5INCy0LrQu9Cw0LTQutC4XHJcbiAgICAgICAgICAgIGlmICh0aGlzLlBob3RvRG93bmxvYWQuc2V0dGluZ3MuZG93bmxvYWRfbW9kZSkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zZXQoZS5jdXJyZW50VGFyZ2V0LCBbJ2Rvd25sb2FkSGFuZGxlcicsICdkb3dubG9hZEVmZmVjdCcsICdhZGRsb2FkZWRVcmwnXSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNldChlLmN1cnJlbnRUYXJnZXQsIFsnbmV3VGFiSGFuZGxlcicsICdkb3dubG9hZEVmZmVjdCcsICdhZGRsb2FkZWRVcmwnXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vINCV0YHQu9C4INCx0YvRgdGC0YDRi9C5INC60LvQuNC6INC4INC90LDRgdGC0YDQvtC50LrQuCDQvtGC0LrRgNGL0YLRiywg0YLQviDQsdGD0LTQtdGCINC+0LHRgNCw0LHQvtGC0YfQuNC6INC30LDQutGA0YvRgtC40Y8g0L3QsNGB0YLRgNC+0LXQulxyXG4gICAgICAgIGlmICh0aGlzLnRpbWVycy5kZWxheSAmJiAhdGhpcy50aW1lcnMub3BlbiAmJiB0aGlzLlBob3RvRG93bmxvYWQuc3RhdGUuc2V0dGluZ3MgPT0gJ29wZW4nKSB7XHJcbiAgICAgICAgICAgIHRoaXMuUGhvdG9Eb3dubG9hZC5zdGF0ZS5zZXR0aW5ncyA9ICdjbG9zZSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDQlNC+0LvQs9C40Lkg0LrQu9C40Log0Lgg0L3QsNGB0YLRgNC+0LnQutC4INC+0YLQutGA0YvRgtGLXHJcbiAgICAgICAgaWYgKHRoaXMudGltZXJzLmRlbGF5ICYmIHRoaXMudGltZXJzLm9wZW4gJiYgdGhpcy5QaG90b0Rvd25sb2FkLnN0YXRlLnNldHRpbmdzID09ICdvcGVuJykge1xyXG4gICAgICAgICAgICAvLyAvLyDQl9C00LXRgdGMINC90LDRgdGC0YDQvtC50LrQuCDQtNC+0LvQttC90Ysg0LHRi9GC0Ywg0YPQttC1INC+0YLQutGA0YvRgtGLINC4INC00LvRjyDRgdC+0LHRi9GC0LjRjyDQutC70LjQutCwLCBcclxuICAgICAgICAgICAgLy8gLy8g0LrQvtGC0L7RgNC+0LUg0LHRg9C00LXRgiDRgdGA0LDQt9GDINC/0L7RgdC70LUg0Y3RgtC+0LPQviBtb3VzZXVwLCDQsdC70L7QutC40YDRg9C10Lwg0LTQtdC50YHRgtCy0LjQtVxyXG4gICAgICAgICAgICB0aGlzLnNldChlLmN1cnJlbnRUYXJnZXQsICdwcmV2ZW50SGFuZGxlcicpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHRoaXMuUGhvdG9Eb3dubG9hZC5zdGF0ZS5zZXR0aW5ncyA9PSAnb3Blbl90aW1pbmcnKSB7XHJcbiAgICAgICAgICAgIHRoaXMuc2V0KGUuY3VycmVudFRhcmdldCwgJ3ByZXZlbnRIYW5kbGVyJyk7XHJcbiAgICAgICAgICAgIHRoaXMuUGhvdG9Eb3dubG9hZC5zdGF0ZS5zZXR0aW5ncyA9ICdjbG9zZSc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyDQntCx0L3Rg9C70Y/QtdC8INCy0YHQtSDRgtCw0LnQvNC10YDRiyDQtNC70Y8g0YHQu9C10LTRg9GO0YnQtdCz0L4g0YDQsNC30LBcclxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcnMuZGVsYXkpO1xyXG4gICAgICAgIHRoaXMudGltZXJzLmRlbGF5ID0gbnVsbDtcclxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy50aW1lcnMub3Blbik7XHJcbiAgICAgICAgdGhpcy50aW1lcnMub3BlbiA9IG51bGw7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JfQsNC/0YPRgdC6INC+0YLQutGA0YvRgtC40Y8g0L3QsNGB0YLRgNC+0LXQulxyXG4gICAgX29wZW5UaW1pbmdTZXR0aW5ncygpIHtcclxuICAgICAgICB0aGlzLlBob3RvRG93bmxvYWQud3JhcC5jbGFzc0xpc3QuYWRkKHRoaXMuc2VsLmljb25fY29nKTtcclxuICAgICAgICB0aGlzLlBob3RvRG93bmxvYWQud3JhcFxyXG4gICAgICAgICAgICAucXVlcnlTZWxlY3RvcignLmNvZycpXHJcbiAgICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKHRoaXMuc2VsLmRyYXcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCd0LDRgdGC0YDQvtC50LrQuCDQvtGC0LrRgNGL0YLRi1xyXG4gICAgX29wZW5TZXR0aW5ncygpIHtcclxuICAgICAgICB0aGlzLl9vcGVuVGltaW5nU2V0dGluZ3MoKTtcclxuXHJcbiAgICAgICAgbGV0IG9wZW4gPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIHRoaXMuUGhvdG9Eb3dubG9hZC53cmFwLmNsYXNzTGlzdC5hZGQodGhpcy5zZWwuc2V0dGluZ3MsIHRoaXMuc2VsLnNldHRpbmdzX29wZW4pO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuUGhvdG9Eb3dubG9hZC53cmFwXHJcbiAgICAgICAgICAgICAgICAgICAgLnF1ZXJ5U2VsZWN0b3IoJy5jb2cnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5jbGFzc0xpc3QuYWRkKHRoaXMuc2VsLmRyYXdfZmlsbCk7XHJcbiAgICAgICAgICAgIH0sIHRoaXMudGltaW5ncy5zZXR0aW5nc19vcGVuKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0aGlzLlBob3RvRG93bmxvYWQuc2V0dGluZ3Muc2hvd19zaXplKSB7XHJcbiAgICAgICAgICAgIG9wZW4oKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyDQldGB0LvQuCDRgdC90LDRh9Cw0LvQsCDQvdGD0LbQvdC+INCy0YvQtNCy0LjQvdGD0YLRjCDQutC90L7Qv9C60YNcclxuICAgICAgICAgICAgdGhpcy5QaG90b0Rvd25sb2FkLndyYXAuY2xhc3NMaXN0LmFkZCh0aGlzLnNlbC5zbGlkZV9pbik7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgb3BlbigpO1xyXG4gICAgICAgICAgICB9LCB0aGlzLnRpbWluZ3MuYnRuX3RyYW5zaXRpb25fdHJhbnNmb3JtKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JfQsNC/0YPRgdC6INC30LDQutGA0YvRgtC40Y8g0L3QsNGB0YLRgNC+0LXQulxyXG4gICAgX2Nsb3NlU2V0dGluZ3MoKSB7XHJcbiAgICAgICAgbGV0IGNsb3NlID0gKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLlBob3RvRG93bmxvYWQud3JhcC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2VsLmljb25fY29nKTtcclxuICAgICAgICAgICAgdGhpcy5QaG90b0Rvd25sb2FkLndyYXAuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnNlbC5zZXR0aW5ncyk7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiAoIXRoaXMuUGhvdG9Eb3dubG9hZC5zZXR0aW5ncy5zaG93X3NpemUpIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLlBob3RvRG93bmxvYWQud3JhcC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2VsLnNsaWRlX2luKTtcclxuICAgICAgICAgICAgfSwgdGhpcy50aW1pbmdzLmJ0bl90cmFuc2l0aW9uX3RyYW5zZm9ybSk7XHJcbiAgICAgICAgICAgIC8vIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMuUGhvdG9Eb3dubG9hZC53cmFwXHJcbiAgICAgICAgICAgIC5xdWVyeVNlbGVjdG9yKCcuY29nJylcclxuICAgICAgICAgICAgLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5zZWwuZHJhdywgdGhpcy5zZWwuZHJhd19maWxsKTtcclxuICAgICAgICB0aGlzLlBob3RvRG93bmxvYWQud3JhcC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuc2VsLnNldHRpbmdzX29wZW4pO1xyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgY2xvc2UoKTtcclxuICAgICAgICB9LCB0aGlzLnRpbWluZ3Muc2V0dGluZ3Nfb3Blbik7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0KPRgdGC0LDQvdC+0LLQuNGC0Ywg0L7QtNC40L0g0LjQu9C4INC90LXRgdC60L7Qu9GM0LrQviDQvtCx0YDQsNCx0L7RgtGH0LjQutC+0LIg0L3QsCDRjdC70LXQvNC10L3RglxyXG4gICAgLy8g0JXRgdC70Lgg0L3QsCDRjdC70LXQvNC10L3RgtC1INCx0YvQu9C4INC00YDRg9Cz0LjQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutC4IC0g0L7QvdC4INGD0LTQsNC70Y/RjtGC0YHRj1xyXG4gICAgLy8g0JIg0LjRgtC+0LPQtSDQvdCwINGN0LvQtdC80LXQvdGC0LUg0LPQsNGA0LDQvdGC0LjRgNC+0LLQsNC90L4g0YLQvtC70YzQutC+INC/0LXRgNC10LTQsNC90L3Ri9C5INC90LDQsdC+0YAg0L7QsdGA0LDQsdC+0YLRh9C40LrQvtCyXHJcbiAgICBzZXQoZWxlbSwgaGFuZGxlcl9uYW1lLCBldmVudF9uYW1lID0gdGhpcy5kZWZhdWx0X2V2ZW50X25hbWUpIHtcclxuICAgICAgICBpZiAoIWVsZW0gfHwgIWhhbmRsZXJfbmFtZSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICBsZXQgcmVzdWx0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgLy8g0KPQtNCw0LvRj9C10Lwg0LLRgdC1INGD0LbQtSDQuNC80LXRjtGJ0LjQtdGB0Y8g0L7QsdGA0LDQsdC+0YLRh9C40LrQuFxyXG4gICAgICAgIHRoaXMucmVtb3ZlQWxsKGVsZW0sIGV2ZW50X25hbWUpO1xyXG5cclxuICAgICAgICAvLyDQodGC0LDQstC40Lwg0L3Rg9C20L3Ri9C1XHJcbiAgICAgICAgaWYgKGhhbmRsZXJfbmFtZSBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgIGhhbmRsZXJfbmFtZS5mb3JFYWNoKG5hbWUgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZGQoZWxlbSwgbmFtZSwgZXZlbnRfbmFtZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGhhbmRsZXJfbmFtZSA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgdGhpcy5hZGQoZWxlbSwgaGFuZGxlcl9uYW1lLCBldmVudF9uYW1lKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JTQvtCx0LDQstC40YLRjCDQvtCx0YDQsNCx0L7RgtGH0LjQuiDRgSDQv9C10YDQtdC00LDQvdC90YvQvCDQuNC80LXQvdC10Lwg0L3QsCDRjdC70LXQvNC10L3RglxyXG4gICAgYWRkKGVsZW0sIGhhbmRsZXJfbmFtZSwgZXZlbnRfbmFtZSA9IHRoaXMuZGVmYXVsdF9ldmVudF9uYW1lKSB7XHJcbiAgICAgICAgaWYgKCFlbGVtIHx8ICFoYW5kbGVyX25hbWUgfHwgIXRoaXMuZ2V0SGFuZGxlcihoYW5kbGVyX25hbWUpKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihldmVudF9uYW1lLCB0aGlzLmdldEhhbmRsZXIoaGFuZGxlcl9uYW1lKSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCj0LTQsNC70LjRgtGMINC+0LHRgNCw0LHQvtGC0YfQuNC6INGBINC/0LXRgNC10LTQsNC90L3Ri9C8INC40LzQtdC90LXQvCDRgSDRjdC70LXQvNC10L3RgtCwXHJcbiAgICByZW1vdmUoZWxlbSwgaGFuZGxlcl9uYW1lLCBldmVudF9uYW1lID0gdGhpcy5kZWZhdWx0X2V2ZW50X25hbWUpIHtcclxuICAgICAgICBpZiAoIWVsZW0gfHwgIWhhbmRsZXJfbmFtZSB8fCAhdGhpcy5nZXRIYW5kbGVyKGhhbmRsZXJfbmFtZSkpIHJldHVybiBmYWxzZTtcclxuXHJcbiAgICAgICAgZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50X25hbWUsIHRoaXMuZ2V0SGFuZGxlcihoYW5kbGVyX25hbWUpKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0KPQtNCw0LvQuNGC0Ywg0LLRgdC1INC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0YEg0Y3Qu9C10LzQtdC90YLQsFxyXG4gICAgcmVtb3ZlQWxsKGVsZW0sIGV2ZW50X25hbWUgPSB0aGlzLmRlZmF1bHRfZXZlbnRfbmFtZSkge1xyXG4gICAgICAgIGlmICghZWxlbSkgcmV0dXJuIGZhbHNlO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBoYW5kbGVyIGluIHRoaXMuaGFuZGxlcnMpIHtcclxuICAgICAgICAgICAgZWxlbS5yZW1vdmVFdmVudExpc3RlbmVyKGV2ZW50X25hbWUsIHRoaXMuZ2V0SGFuZGxlcihoYW5kbGVyKSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQn9C+0LvRg9GH0LjRgtGMINC40LzQtdC90LAg0LLRgdC10YUg0L7QsdGA0LDQsdC+0YLRh9C40LrQvtCyXHJcbiAgICBnZXRIYW5kbGVyc05hbWVzKCkge1xyXG4gICAgICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLmhhbmRsZXJzKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQn9C+0LvRg9GH0LjRgtGMINC+0LHRitC10LrRgiDQstGB0LXRhSDRhNGD0L3QutGG0LjQuS3QvtCx0YDQsNCx0L7RgtGH0LjQutC+0LJcclxuICAgIGdldEhhbmRsZXJzKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZXJzO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCf0L7Qu9GD0YfQuNGC0Ywg0YTRg9C90LrRhtC40Y4t0L7QsdGA0LDQsdC+0YLRh9C40LpcclxuICAgIGdldEhhbmRsZXIoaGFuZGxlcl9uYW1lKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlcnNbaGFuZGxlcl9uYW1lXTtcclxuICAgIH1cclxuXHJcbiAgICAvLyA9PT0g0KHQu9GD0LbQtdCx0L3Ri9C1ID09PVxyXG5cclxuICAgIHRlbXBDbGFzcyhjbGFzc19uYW1lLCB0aW1lb3V0LCBlbGVtKSB7XHJcbiAgICAgICAgaWYgKGVsZW0gaW5zdGFuY2VvZiBFdmVudCkge1xyXG4gICAgICAgICAgICBlbGVtID0gZWxlbS5jdXJyZW50VGFyZ2V0O1xyXG4gICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGVsZW0gPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgICAgIGVsZW0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGVsZW0pO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoZWxlbSA9PT0gdW5kZWZpbmVkKSB7XHJcbiAgICAgICAgICAgIGVsZW0gPSB0aGlzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzX25hbWUpO1xyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QuYWRkKGNsYXNzX25hbWUpO1xyXG4gICAgICAgIH0sIDApO1xyXG5cclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKGNsYXNzX25hbWUpO1xyXG4gICAgICAgIH0sIHRpbWVvdXQpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vID09PSDQntCx0YDQsNCx0L7RgtGH0LjQutC4ID09PVxyXG5cclxuICAgIF9hZGRsb2FkZWRVcmwoZSkge1xyXG4gICAgICAgIGxldCB1cmwgPSBlLmN1cnJlbnRUYXJnZXQuaHJlZjtcclxuICAgICAgICB0aGlzLlBob3RvRG93bmxvYWQuX2FkZGxvYWRlZFVybCh1cmwpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCc0LXQvdGP0LXRgiDQvdCw0YHRgtGA0L7QudC60YMg0LfQsNC/0L7QvNC40L3QsNC90LjRjyBVUkwg0YHQutCw0YfQtdC90L3Ri9GFINC60LDRgNGC0LjQvdC+0LpcclxuICAgIF9sb2FkZWRVcmxzSGFuZGxlcihlKSB7XHJcbiAgICAgICAgaWYgKGUudGFyZ2V0LmlkID09PSB0aGlzLnNlbC5sb2FkZWRfdXJsc19tb2RlX2NvbnRyb2wpIHtcclxuICAgICAgICAgICAgLy8g0JjQt9C80LXQvdC10L3QsCDQvdCw0YHRgtGA0L7QudC60LAg0L7RgdC90L7QstC90L7Qs9C+INC30LDQv9C+0LzQuNC90LDQvdC40Y8gVVJMXHJcbiAgICAgICAgICAgIHRoaXMuUGhvdG9Eb3dubG9hZC5zZXR0aW5ncy5sb2FkZWRfdXJscyA9IGUudGFyZ2V0LmNoZWNrZWQ7XHJcbiAgICAgICAgfSBlbHNlIGlmIChlLnRhcmdldC5pZCA9PT0gdGhpcy5zZWwubG9hZGVkX3VybHNfbW9kZV9rZXlfY29udHJvbCkge1xyXG4gICAgICAgICAgICAvLyDQmNC30LzQtdC90LXQvdCwINC90LDRgdGC0YDQvtC50LrQsCDQtNC+0L/QvtC70L3QuNGC0LXQu9GM0L3QvtCz0L4g0LfQsNC/0L7QvNC40L3QsNC90LjRjyBVUkwg0L/QviDQn9Ca0JxcclxuICAgICAgICAgICAgdGhpcy5QaG90b0Rvd25sb2FkLnNldHRpbmdzLmxvYWRlZF91cmxzX1BLTSA9IGUudGFyZ2V0LmNoZWNrZWQ7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vINCc0LXQvdGP0LXRgiDQvdCw0YHRgtGA0L7QudC60YMg0L/QvtC60LDQt9CwINGA0LDQt9GA0LXRiNC10L3QuNGPINC60LDRgNGC0LjQvdC60Lgg0L/RgNC4INC90LDQstC10LTQtdC90LjQuFxyXG4gICAgX3Nob3dTaXplSGFuZGxlcihlKSB7XHJcbiAgICAgICAgdGhpcy5QaG90b0Rvd25sb2FkLnNldHRpbmdzLnNob3dfc2l6ZSA9IGUudGFyZ2V0LmNoZWNrZWQ7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JzQtdC90Y/QtdGCINC90LDRgdGC0YDQvtC50LrRgyDRgNC10LbQuNC80LAg0YHQutCw0YfQuNCy0LDQvdC40Y9cclxuICAgIF9kb3dubG9hZE1vZGVIYW5kbGVyKGUpIHtcclxuICAgICAgICBsZXQgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKHZhbHVlID09PSAndHJ1ZScpIHtcclxuICAgICAgICAgICAgdGhpcy5QaG90b0Rvd25sb2FkLnNldHRpbmdzLmRvd25sb2FkX21vZGUgPSB0cnVlO1xyXG4gICAgICAgIH0gZWxzZSBpZiAodmFsdWUgPT09ICdmYWxzZScpIHtcclxuICAgICAgICAgICAgdGhpcy5QaG90b0Rvd25sb2FkLnNldHRpbmdzLmRvd25sb2FkX21vZGUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0J7RgtC80LXQvdGP0LXRgiDQtNC10LnRgdGC0LLQuNC1INCx0YDQsNGD0LfQtdGA0LBcclxuICAgIF9wcmV2ZW50SGFuZGxlcihlKSB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQntCx0YDQsNCx0L7RgtGH0LjQuiDQutC90L7Qv9C60Lgg0LTQu9GPINGA0LXQttC40LzQsCDQvtGC0LrRgNGL0YLQuNGPINCyINC90L7QstC+0Lkg0LLQutC70LDQtNC60LVcclxuICAgIF9uZXdUYWJIYW5kbGVyKGUpIHtcclxuICAgICAgICB0aGlzLnJlbW92ZShlLmN1cnJlbnRUYXJnZXQsICduZXdUYWJIYW5kbGVyJyk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0J7QsdGA0LDQsdC+0YLRh9C40Log0LrQvdC+0L/QutC4INC00LvRjyDRgNC10LbQuNC80LAg0YHQutCw0YfQuNCy0LDQvdC40Y9cclxuICAgIF9kb3dubG9hZEhhbmRsZXIoZSkge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBEb3dubG9hZChlLmN1cnJlbnRUYXJnZXQuaHJlZik7XHJcblxyXG4gICAgICAgIHRoaXMucmVtb3ZlKGUuY3VycmVudFRhcmdldCwgJ2Rvd25sb2FkSGFuZGxlcicpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxufSIsImltcG9ydCBQaG90b0Rvd25sb2FkVGVtcGxhdGVzIGZyb20gJy4vdGVtcGxhdGVzJztcclxuaW1wb3J0IEhhbmRsZXJzTWFuYWdlciBmcm9tICcuL2hhbmRsZXJzJztcclxuaW1wb3J0IFNTdG9yYWdlIGZyb20gJy4vc3RvcmFnZSc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQaG90b0Rvd25sb2FkIHtcclxuICAgIGNvbnN0cnVjdG9yKHBhcmFtcyA9IHt9KSB7XHJcbiAgICAgICAgbGV0IHRoYXQgPSB0aGlzO1xyXG5cclxuICAgICAgICAvLyDQodGB0YvQu9C60LAsINCyINC60L7RgtC+0YDRg9GOINC+0LHQtdGA0L3Rg9GC0LAg0LrQsNGA0YLQuNC90LrQsCwgXHJcbiAgICAgICAgLy8g0LfQtNC10YHRjCDQvdGD0LbQvdCyINC00LvRjyDRgtGA0LjQs9Cz0LXRgNCwINGB0L7Qt9C00LDQvdC40Y8v0L7QsdC90L7QstC70LXQvdC40Y8g0LrQvdC+0L/QutC4XHJcbiAgICAgICAgdGhpcy5pbWdDb250YWluZXJfaWQgPSAncHZfcGhvdG8nO1xyXG5cclxuICAgICAgICAvLyDQntCx0YrQtdC60YIg0LLRgdC10YUg0YHQtdC70LXQutGC0L7RgNC+0LIsINC40YHQv9C+0LvRjNC30YPRjtGJ0LjRhdGB0Y8g0LIg0LrQvdC+0L/QutC1XHJcbiAgICAgICAgdGhpcy5zZWxlY3RvcnMgPSB7XHJcbiAgICAgICAgICAgIF9wcmVmaXg6ICdQaG90b0Rvd25sb2FkXycsXHJcbiAgICAgICAgICAgIC8vIGlkINC60L7QvdGC0LXQudC90LXRgNCwINC60L3QvtC/0LrQuFxyXG4gICAgICAgICAgICBwaG90b0Rvd25sb2FkX2lkOiAnUGhvdG9Eb3dubG9hZCcsXHJcbiAgICAgICAgICAgIC8vINCa0L7QvdGC0LXQudC90LXRgCwg0LIg0LrQvtGC0L7RgNC+0Lwg0L3QsNGF0L7QtNC40YLRgdGPINC60LDRgNGC0LjQvdC60LAg0Lgg0Y3Qu9C10LzQtdC90YLRiyDRg9C/0YDQsNCy0LvQtdC90LjRjyxcclxuICAgICAgICAgICAgLy8g0YHQvtC30LTQsNCy0LDRgtGMINC60L3QvtC/0LrRgyDQsdGD0LTQtdC8INCyINC90LXQvFxyXG4gICAgICAgICAgICBpbWdDb250YWluZXJfY2xhc3M6ICdwdl9pbWFnZV93cmFwJyxcclxuICAgICAgICAgICAgLy8gaWQsINC60L7RgtC+0YDRi9C5INC00L7QsdCw0LLQuNGC0YHRjyDRgtC10LPRgyBzdHlsZVxyXG4gICAgICAgICAgICBzdHlsZV9pZDogJ1Bob3RvRG93bmxvYWRTdHlsZScsXHJcblxyXG4gICAgICAgICAgICAvLyDQmtC70LDRgdGBLdGE0LvQsNCzLCDQstC10YjQsNC10YLRgdGPINC90LAgI1Bob3RvRG93bmxvYWQg0LrQvtCz0LTQsCDQvdC10YIg0LTQsNC90L3Ri9GFINC+INGA0LDQt9GA0LXRiNC10L3QuNC4XHJcbiAgICAgICAgICAgIC8vINC40LvQuCDQsiDQvdCw0YHRgtGA0L7QudC60LDRhSDQvtGC0LrQu9GO0YfQtdC9INC/0L7QutCw0Lcg0YDQsNC30LzQtdGA0L7QsiDQutCw0YDRgtC40L3QutC4XHJcbiAgICAgICAgICAgIG5vbl9zaXplOiAnbm9uX3NpemUnLFxyXG4gICAgICAgICAgICAvLyDQmtC70LDRgdGBLdGE0LvQsNCzLCDQstC10YjQsNC10YLRgdGPINC00LvRjyDQv9C70LDQstC90L7Qs9C+IG9wYWNpdHkg0LrQvdC+0L/QutC4INC/0L7RgdC70LUg0YHQvtC30LTQsNC90LjRj1xyXG4gICAgICAgICAgICByZWFkeTogJ3JlYWR5JyxcclxuXHJcbiAgICAgICAgICAgIHNsaWRlX2luOiAnc2xpZGVfaW4nLFxyXG5cclxuICAgICAgICAgICAgc2V0dGluZ3M6ICdzZXR0aW5ncycsXHJcbiAgICAgICAgICAgIHNldHRpbmdzX29wZW46ICdzZXR0aW5nc19vcGVuJyxcclxuXHJcbiAgICAgICAgICAgIGRyYXc6ICdkcmF3JyxcclxuICAgICAgICAgICAgZHJhd19maWxsOiAnZHJhd19maWxsJyxcclxuICAgICAgICAgICAgaWNvbl9jb2c6ICdpY29uX2NvZycsXHJcblxyXG4gICAgICAgICAgICBkb3dubG9hZF9tb2RlX3RydWU6ICdkb3dubG9hZF9tb2RlX3RydWUnLFxyXG4gICAgICAgICAgICBkb3dubG9hZF9tb2RlX2ZhbHNlOiAnZG93bmxvYWRfbW9kZV9mYWxzZScsXHJcblxyXG4gICAgICAgICAgICBzaXplX21vZGVfY29udHJvbDogJ3NpemVfbW9kZV9jb250cm9sJyxcclxuXHJcbiAgICAgICAgICAgIGxvYWRlZF91cmxzX21vZGVfY29udHJvbDogJ2xvYWRlZF91cmxzX21vZGVfY29udHJvbCcsXHJcbiAgICAgICAgICAgIGxvYWRlZF91cmxzX21vZGVfa2V5X2NvbnRyb2w6ICdsb2FkZWRfdXJsc19tb2RlX2tleV9jb250cm9sJyxcclxuICAgICAgICAgICAgbG9hZGVkX3VybHNfYWN0aXZlOiAnbG9hZGVkX3VybHNfYWN0aXZlJyxcclxuXHJcbiAgICAgICAgICAgIHNldHQ6IHtcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzX3dyYXA6ICdzZXR0aW5nc193cmFwJyxcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzOiAnc2V0dGluZ3MnLFxyXG4gICAgICAgICAgICAgICAgc2V0dGluZ3NfYm9keTogJ3NldHRpbmdzX2JvZHknLFxyXG4gICAgICAgICAgICAgICAgZG93bmxvYWRfbW9kZTogJ2Rvd25sb2FkX21vZGUnLFxyXG4gICAgICAgICAgICAgICAgc2l6ZV9tb2RlOiAnc2l6ZV9tb2RlJyxcclxuICAgICAgICAgICAgICAgIGxvYWRlZF91cmxzX21vZGU6ICdsb2FkZWRfdXJsc19tb2RlJyxcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzX2l0ZW06ICdzZXR0aW5nc19pdGVtJyxcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzX2l0ZW1fYWN0aW9uOiAnc2V0dGluZ3NfaXRlbV9hY3Rpb24nLFxyXG5cclxuICAgICAgICAgICAgICAgIHNldHRpbmdzX2Nsb3NlX2ljbzogJ3NldHRpbmdzX2Nsb3NlX2ljbycsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nc19zZWN0aW9uOiAnc2V0dGluZ3Nfc2VjdGlvbicsXHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nc19zZWN0aW9uX2hlYWRlcjogJ3NldHRpbmdzX3NlY3Rpb25faGVhZGVyJyxcclxuICAgICAgICAgICAgfSxcclxuXHJcbiAgICAgICAgICAgIGJ0bjoge1xyXG4gICAgICAgICAgICAgICAgLy8g0JrQu9Cw0YHRgSDQutC90L7Qv9C60LggKNGC0LXQs9CwIGEpXHJcbiAgICAgICAgICAgICAgICBidG46ICdidG4nLFxyXG4gICAgICAgICAgICAgICAgLy8g0JrQu9Cw0YHRgSDQsdC70L7QutCwINC40LrQvtC90LrQuFxyXG4gICAgICAgICAgICAgICAgaWNvbjogJ2ljb24nLFxyXG4gICAgICAgICAgICAgICAgbWFpbl90aXRsZV93cmFwOiAnbWFpbl90aXRsZV93cmFwJyxcclxuICAgICAgICAgICAgICAgIG1haW5fdGl0bGVfaW5uZXI6ICdtYWluX3RpdGxlX2lubmVyJyxcclxuICAgICAgICAgICAgICAgIC8vINCa0LvQsNGB0YEg0LHQu9C+0LrQsCwg0LIg0LrQvtGC0L7RgNC+0Lwg0L7RgtC+0LHRgNCw0LbQsNC10YLRgdGPINGA0LDQt9GA0LXRiNC10L3QuNC1INC60LDRgNGC0LjQvdC60LhcclxuICAgICAgICAgICAgICAgIHNpemU6ICdzaXplJyxcclxuICAgICAgICAgICAgICAgIHNldHRpbmdzX3RpdGxlOiAnc2V0dGluZ3NfdGl0bGUnLFxyXG4gICAgICAgICAgICAgICAgLy8g0JrQu9Cw0YHRgSDQtNC70Y8g0Y3RhNGE0LXQutGC0LAg0YHQutCw0YfQuNCy0LDQvdC40Y8g0L3QsCDQuNC60L7QvdC60LUg0YHRgtGA0LXQu9C60LhcclxuICAgICAgICAgICAgICAgIGRvd25sb2FkX2VmZmVjdDogJ2Rvd25sb2FkX2VmZmVjdCcsXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIC8vINCc0LXRgtC+0LQg0L/QvtC70YPRh9C10L3QuNGPINGB0LXQu9C10LrRgtC+0YDQsFxyXG4gICAgICAgICAgICBnZXQoc2VsKSB7XHJcbiAgICAgICAgICAgICAgICBzZWwgPSBzZWwuc3BsaXQoJy4nKTtcclxuICAgICAgICAgICAgICAgIGxldCBlcnJvciA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgbGV0IHJlcyA9IHRoaXM7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8g0JXRgdC70Lgg0YHQtdC70LXQutGC0L7RgCDQvdCwINCy0LXRgNGF0L3QtdC8INGD0YDQvtCy0L3QtSDQvtCx0YrQtdC60YLQsCwg0L7QvSDQvtGC0LTQsNC10YLRgdGPINC60LDQuiDQtdGB0YLRjFxyXG4gICAgICAgICAgICAgICAgaWYgKHNlbC5sZW5ndGggPT09IDEpIHtcclxuICAgICAgICAgICAgICAgICAgICByZXMgPSB0aGlzW3NlbF07XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNlbC5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8g0JjQvdCw0YfQtSDQv9C+0LvRg9GH0LDQtdC8INGB0LXQu9C10LrRgtC+0YAg0LjQtyDQstC70L7QttC10L3QvdGL0YUg0YPRgNC+0LLQvdC10LlcclxuICAgICAgICAgICAgICAgICAgICBzZWwuZm9yRWFjaChwYXJ0ID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlcyA9IHJlc1twYXJ0XTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvciA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyDQmCDQtdGB0LvQuCDRgdC10LvQtdC60YLQvtGAINGB0YPRidC10YHRgtCy0YPQtdGCLCDQtNC+0L/QuNGB0YvQstCw0LXQvCDQuiDQvdC10LzRgyDQv9GA0LXRhNC40LrRgVxyXG4gICAgICAgICAgICAgICAgICAgIHJlcyA9IChlcnJvciB8fCAhcmVzKSA/IHVuZGVmaW5lZCA6IHRoaXMuX3ByZWZpeCArIHJlcztcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8g0J7QsdGK0LXQutGCINGBINC+0L/QuNGB0LDQvdC40LXQvCDQvtCx0YDQsNCx0L7RgtGH0LjQutC+0LJcclxuICAgICAgICB0aGlzLnRyaWdnZXJzID0ge1xyXG4gICAgICAgICAgICBtb3VzZW92ZXI6IFtcclxuICAgICAgICAgICAgICAgIC8vINCh0LXQu9C10LrRgtC+0YAg0YHRgdGL0LvQutC4LCDQsiDQutC+0YLQvtGA0YPRjiDQvtCx0LXRgNC90YPRgtCwINC60LDRgNGC0LjQvdC60LAg0LIg0L/RgNC+0YHQvNC+0YLRgNGJ0LjQutC1XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2lkJyxcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogdGhpcy5pbWdDb250YWluZXJfaWQsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8g0J/RgNC4INC90LDQstC10LTQtdC90LjQuCDQvdCwINC60L7QvdGC0LXQudC90LXRgCDQutCw0YDRgtC40L3QutC4LCDQsdGD0LTQtdC8INC+0LHQvdC+0LLQu9GP0YLRjCjRgdC+0LfQtNCw0LLQsNGC0YwpINC60L3QvtC/0LrRg1xyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuX3VwZGF0ZUJ0bixcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAvLyDQodC10LvQtdC60YLQvtGAINGA0L7QtNC40YLQtdC70YzRgdC60L7Qs9C+INCx0LvQvtC60LAg0LrQvdC+0L/QutC4XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2NsYXNzJyxcclxuICAgICAgICAgICAgICAgICAgICBzZWxlY3RvcjogdGhpcy5zZWxlY3RvcnMuZ2V0KCdidG4uYnRuJyksXHJcbiAgICAgICAgICAgICAgICAgICAgLy8g0J/RgNC4INC90LDQstC10LTQtdC90LjQuCDQvdCwINGB0LDQvNGDINC60L3QvtC/0LrRgywg0LHRg9C00LXQvCDQvtCx0L3QvtCy0LvRj9GC0Ywg0LIg0L3QtdC5INC00LDQvdC90YvQtVxyXG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZXI6IHRoaXMuX3VwZGF0ZUJ0bixcclxuICAgICAgICAgICAgICAgICAgICBjaGlsZDogdHJ1ZSxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIF0sIC8vINCa0L7QvdC10YYgbW91c2VvdmVyXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8g0J3QsNGB0YLRgNC+0LnQutC4INC/0L7QstC10LTQtdC90LjRjyDQutC90L7Qv9C60LhcclxuICAgICAgICB0aGlzLnNldHRpbmdzID0ge1xyXG4gICAgICAgICAgICAvLyBkb3dubG9hZF9tb2RlIC0g0YTQu9Cw0LMsINC30LDQtNCw0Y7RidC40Lkg0L/QvtCy0LXQtNC10L3QuNC1INC60LvQuNC60LAg0L/QviDQutC90L7Qv9C60LVcclxuICAgICAgICAgICAgLy8g0JXRgdC70LggdHJ1ZSwg0YLQviDQutCw0YDRgtC40L3QutCwINCx0YPQtNC10YIg0YHQutCw0YfQuNCy0LDRgtGM0YHRj1xyXG4gICAgICAgICAgICAvLyDQldGB0LvQuCBmYWxzZSwg0YLQviDQutCw0YDRgtC40L3QutCwINCx0YPQtNC10YIg0L7RgtC60YDRi9Cy0LDRgtGM0YHRjyDQsiDQvdC+0LLQvtC5INCy0LrQu9Cw0LTQutC1XHJcbiAgICAgICAgICAgIF9kb3dubG9hZF9tb2RlOiBwYXJhbXMuZG93bmxvYWQsXHJcbiAgICAgICAgICAgIGdldCBkb3dubG9hZF9tb2RlKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Rvd25sb2FkX21vZGU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldCBkb3dubG9hZF9tb2RlKHZhbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgPT09ICdib29sZWFuJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2Rvd25sb2FkX21vZGUgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5fc2F2ZVNldHRpbmdzKCk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGxldCB1cGQgPSB0aGF0Ll91cGRhdGVCdG4oZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyB0aGF0LmltZ0NvbnRhaW5lcl9pZCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh1cGQgPT09IG51bGwpIHJldHVybiBudWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGF0LmhhbmRsZXJzLnNldFNldHRpbmdzU3RhdGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgLy8gX2Rvd25sb2FkX21vZGVcclxuXHJcbiAgICAgICAgICAgIC8vIHNob3dfc2l6ZSAtINGE0LvQsNCzLCDQvtGC0LLQtdGH0LDRjtGJ0LjQuSDQt9CwINC/0L7QutCw0Lcg0YDQsNC30LzQtdGA0L7QsiDQutCw0YDRgtC40L3QutC4INC/0YDQuCDQvdCw0LLQtdC00LXQvdC40Lgg0L3QsCDQutC90L7Qv9C60YMsXHJcbiAgICAgICAgICAgIC8vINC4INGB0L7QvtGC0LLQtdGC0YHRgtCy0LXQvdC90L4sINC30LAg0LLRi9C10LfQttCw0Y7RidGD0Y4g0LDQvdC40LzQsNGG0LjRjiDQv9GA0Lgg0L3QsNCy0LXQtNC10L3QuNC4LlxyXG4gICAgICAgICAgICAvLyDQldGB0LvQuCB0cnVlLCDRgtC+INGA0LDQt9C80LXRgNGLINC/0L7QutCw0LfRi9Cy0LDRjtGC0YHRj1xyXG4gICAgICAgICAgICAvLyDQldGB0LvQuCBmYWxzZSwg0YLQviDRgNCw0LfQvNC10YDRiyDRgdC60YDRi9GC0YtcclxuICAgICAgICAgICAgX3Nob3dfc2l6ZTogdHJ1ZSxcclxuICAgICAgICAgICAgZ2V0IHNob3dfc2l6ZSgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zaG93X3NpemU7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldCBzaG93X3NpemUodmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2hvd19zaXplID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuX3NhdmVTZXR0aW5ncygpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBsZXQgdXBkID0gdGhhdC5fdXBkYXRlQnRuKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgdGhhdC5pbWdDb250YWluZXJfaWQpKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodXBkID09PSBudWxsKSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5oYW5kbGVycy5zZXRTZXR0aW5nc1N0YXRlKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIC8vIF9zaG93X3NpemVcclxuXHJcbiAgICAgICAgICAgIC8vIGxvYWRlZF91cmxzIC0g0YTQu9Cw0LMsINC+0YLQstC10YfQsNGO0YnQuNC5INC30LAg0L7RgtC80LXRgtC60YMg0YLQvtCz0L4sINGH0YLQviDRgtC10LrRg9GJ0LDRjyDQutCw0YDRgtC40L3QutCwINGD0LbQtSDQsdGL0LvQsCDRgNCw0L3QtdC1INGB0LrQsNGH0LXQvdCwLFxyXG4gICAgICAgICAgICAvLyDQsiDQstC40LTQtSDQttC10LvRgtC+0Lkg0LjQutC+0L3QutC4INGB0YLRgNC10LvQutC4XHJcbiAgICAgICAgICAgIF9sb2FkZWRfdXJsczogdHJ1ZSxcclxuICAgICAgICAgICAgZ2V0IGxvYWRlZF91cmxzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2xvYWRlZF91cmxzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQgbG9hZGVkX3VybHModmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9hZGVkX3VybHMgPSB2YWw7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5oYW5kbGVycy5zZXRTZXR0aW5nc1N0YXRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5fY2hlY2tMb2FkZWRVcmwodHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0sIC8vIF9sb2FkZWRfdXJsc1xyXG5cclxuICAgICAgICAgICAgX2xvYWRlZF91cmxzX1BLTTogdHJ1ZSxcclxuICAgICAgICAgICAgZ2V0IGxvYWRlZF91cmxzX1BLTSgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkZWRfdXJsc19QS007XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIHNldCBsb2FkZWRfdXJsc19QS00odmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ2Jvb2xlYW4nKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9hZGVkX3VybHNfUEtNID0gdmFsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuaGFuZGxlcnMuc2V0U2V0dGluZ3NTdGF0ZSgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnJWMlcycsICh3aW5kb3cubG9nX2NvbG9yKSA/IHdpbmRvdy5sb2dfY29sb3IucHVycGxlIDogJycsICdfbG9hZGVkX3VybHNfUEtNOiAnICsgdmFsKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSwgLy8gX2xvYWRlZF91cmxzX1BLTVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vINCe0LHRitC10LrRgiDQtNC70Y8g0YDQsNCx0L7RgtGLINGBINGA0LDQvdC10LUg0YHQutCw0YfQtdC90L3Ri9C80Lgg0LrQsNGA0YLQuNC90LrQsNC80LhcclxuICAgICAgICB0aGlzLmxvYWRlZF91cmxzID0ge1xyXG4gICAgICAgICAgICBfbG9hZGVkX3VybHM6IFtdLFxyXG4gICAgICAgICAgICAvLyDQlNC+0LHQsNCy0LjRgtGMINC90L7QstGL0LkgdXJsINCyINC80LDRgdGB0LjQsiDRgdC60LDRh9C10L3QvdGL0YVcclxuICAgICAgICAgICAgYWRkKHVybCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnICYmICF0aGlzLmNoZWNrKHVybCkpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9sb2FkZWRfdXJscy5wdXNoKHVybCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhhdC5fc2F2ZUxvYWRlZFVybHMoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0Ll9jaGVja0xvYWRlZFVybCgpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAvLyDQn9GA0L7QstC10YDQuNGC0YwsINC10YHRgtGMINC70Lgg0Y3RgtC+0YIgdXJsINCyINGB0LrQsNGH0LXQvdC90YvRhVxyXG4gICAgICAgICAgICBjaGVjayh1cmwpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9sb2FkZWRfdXJscy5zb21lKGl0ZW0gPT4gaXRlbSA9PT0gdXJsKTtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8g0J/QvtC70YPRh9C40YLRjCDQvNCw0YHRgdC40LIg0YHQutCw0YfQtdC90L3Ri9GFIHVybFxyXG4gICAgICAgICAgICBnZXQoKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fbG9hZGVkX3VybHM7XHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGxlbmd0aCgpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmdldCgpLmxlbmd0aDtcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8g0KPRgdGC0LDQvdC+0LLQuNGC0Ywg0L3QvtCy0YvQuSDQvNCw0YHRgdC40LIg0YHQutCw0YfQtdC90L3Ri9GFIHVybFxyXG4gICAgICAgICAgICBzZXQoYXJyLCBzdG9yYWdlID0gdHJ1ZSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGFyciBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbG9hZGVkX3VybHMgPSBhcnI7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdG9yYWdlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuX3NhdmVMb2FkZWRVcmxzKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoYXQuX2NoZWNrTG9hZGVkVXJsKHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgLy8g0J7Rh9C40YHRgtC40YLRjCDQvNCw0YHRgdC40LIg0YHQutCw0YfQtdC90L3Ri9GFIHVybFxyXG4gICAgICAgICAgICBjbGVhcigpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldChbXSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9OyAvLyBfbG9hZGVkX3VybHNcclxuXHJcbiAgICAgICAgLy8g0JLQuNC30YPQsNC70YzQvdC+0LUg0YHQvtGB0YLQvtGP0L3QuNC1INC60L3QvtC/0LrQuFxyXG4gICAgICAgIHRoaXMuc3RhdGUgPSB7XHJcbiAgICAgICAgICAgIF9zZXR0aW5nczogJ2Nsb3NlJyxcclxuICAgICAgICAgICAgZ2V0IHNldHRpbmdzKCkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3NldHRpbmdzO1xyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBzZXQgc2V0dGluZ3ModmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHZhbCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXR0aW5ncyA9IHZhbDtcclxuICAgICAgICAgICAgICAgICAgICB0aGF0Ll9zYXZlU3RhdGUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IHVwZCA9IHRoYXQuX3VwZGF0ZUJ0bihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIHRoYXQuaW1nQ29udGFpbmVyX2lkKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHVwZCA9PT0gbnVsbCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoYXQuaGFuZGxlcnMuYXBwbHlTdGF0ZSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LCAvLyBfc2V0dGluZ3NcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vINCe0LHRitC10LrRgiDRhdGA0LDQvdC10L3QuNGPINGC0LDQudC80LjQvdCz0L7QsiDQtNC70Y8g0YHQuNC90YXRgNC+0L3QuNC30LDRhtC40Lgg0LrQvtC90YLRgNC+0LvQu9C10YDQsCDQuCDQsNC90LjQvNCw0YbQuNC5XHJcbiAgICAgICAgdGhpcy50aW1pbmdzID0ge1xyXG4gICAgICAgICAgICBkZWxheTogMjUwLFxyXG4gICAgICAgICAgICBvcGVuOiA2MDAsXHJcbiAgICAgICAgICAgIHNldHRpbmdzX29wZW46IDM1MCxcclxuICAgICAgICAgICAgZmlsbDogMTAwLFxyXG4gICAgICAgICAgICBidG5fdHJhbnNpdGlvbl9vcGFjaXR5OiAyNTAsXHJcbiAgICAgICAgICAgIGJ0bl90cmFuc2l0aW9uX3RyYW5zZm9ybTogMjUwLFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8g0JfQtNC10YHRjCDQsdGD0LTQtdGCINGF0YDQsNC90LjRgtGM0YHRjyDRjdC70LXQvNC10L3RgiDQutC90L7Qv9C60LhcclxuICAgICAgICB0aGlzLndyYXAgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyDQl9C00LXRgdGMINCx0YPQtNC10YIg0YXRgNCw0L3QuNGC0YzRgdGPINC40L3RhNC+0YDQvNCw0YbQuNGPINC+INGC0LXQutGD0YnQtdC5INC60LDRgNGC0LjQvdC60LVcclxuICAgICAgICB0aGlzLmltYWdlX2RhdGEgPSBudWxsO1xyXG5cclxuICAgICAgICAvLyDQodC+0LfQtNCw0LXQvCDQuNC90YHRgtCw0L3RgSDRiNCw0LHQu9C+0L3QuNC30LDRgtC+0YDQsCDQstC10YDRgdGC0LrQuFxyXG4gICAgICAgIHRoaXMudGVtcGxhdGUgPSBuZXcgUGhvdG9Eb3dubG9hZFRlbXBsYXRlcyh7XHJcbiAgICAgICAgICAgIHNlbGVjdG9yczogdGhpcy5zZWxlY3RvcnMsXHJcbiAgICAgICAgICAgIHRpbWluZ3M6IHRoaXMudGltaW5ncyxcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLy8g0KHQvtC30LTQsNC10Lwg0LjQvdGB0YLQsNC90YEg0LrQvtC90YLRgNC+0LvQu9C10YDQsCDRgdC+0LHRi9GC0LjQuSDQstC90YPRgtGA0Lgg0LrQvdC+0L/QutC4XHJcbiAgICAgICAgdGhpcy5oYW5kbGVycyA9IG5ldyBIYW5kbGVyc01hbmFnZXIoe1xyXG4gICAgICAgICAgICBQaG90b0Rvd25sb2FkOiB0aGlzLFxyXG4gICAgICAgICAgICBzZWxlY3RvcnM6IHRoaXMuc2VsZWN0b3JzLFxyXG4gICAgICAgICAgICB0aW1pbmdzOiB0aGlzLnRpbWluZ3MsXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8vINCh0L7Qt9C00LDQtdC8INC40L3RgdGC0LDQvdGBINGF0YDQsNC90LjQu9C40YnQsFxyXG4gICAgICAgIHRoaXMuc3RvcmFnZSA9IG5ldyBTU3RvcmFnZSh7XHJcbiAgICAgICAgICAgIC8vICdQaG90b0Rvd25sb2FkJ1xyXG4gICAgICAgICAgICBuYW1lOiB0aGlzLnNlbGVjdG9ycy5waG90b0Rvd25sb2FkX2lkLFxyXG4gICAgICAgICAgICBkZWZhdWx0OiB7XHJcbiAgICAgICAgICAgICAgICBzZXR0aW5nczogdGhpcy5zZXR0aW5ncyxcclxuICAgICAgICAgICAgICAgIHN0YXRlOiB0aGlzLnN0YXRlLFxyXG4gICAgICAgICAgICAgICAgbG9hZGVkX3VybHM6IFtdLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG5cclxuICAgICAgICAvLyDQotC+0YfQutCwINCy0YXQvtC00LBcclxuICAgICAgICB0aGlzLmluaXQoKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQnNC10YLQvtC0INC+0LHQvdC+0LLQu9C10L3QuNGPINC00LDQvdC90YvRhSDQsiDQutC90L7Qv9C60LVcclxuICAgIF91cGRhdGVCdG4oZWxlbSkge1xyXG4gICAgICAgIGlmICghZWxlbSkgcmV0dXJuIG51bGw7XHJcbiAgICAgICAgdGhpcy5wYXJlbnQgPSBlbGVtLmNsb3Nlc3QoJy4nICsgdGhpcy5zZWxlY3RvcnMuaW1nQ29udGFpbmVyX2NsYXNzKTtcclxuICAgICAgICBpZiAoIXRoaXMucGFyZW50KSByZXR1cm4gbnVsbDtcclxuXHJcbiAgICAgICAgLy8g0JXRgdC70Lgg0LIg0YDQvtC00LjRgtC10LvRjNGB0LrQvtC8INC60L7QvdGC0LXQudC90LXRgNC1INC10YnQtSDQvdC10YIg0LrQvdC+0L/QutC4XHJcbiAgICAgICAgaWYgKCF0aGlzLnBhcmVudC5xdWVyeVNlbGVjdG9yKCcjJyArIHRoaXMuc2VsZWN0b3JzLnBob3RvRG93bmxvYWRfaWQpKSB7XHJcbiAgICAgICAgICAgIC8vINGC0L4g0YHQvtC30LTQsNC00LjQvCDQtdC1XHJcbiAgICAgICAgICAgIHRoaXMud3JhcCA9IHRoaXMudGVtcGxhdGUuY3JlYXRlRG93bmxvYWRDb250YWluZXIodGhpcy5wYXJlbnQpO1xyXG5cclxuICAgICAgICAgICAgLy8g0J/RgNC40LzQtdC90LjQvCDRgdC+0YHRgtC+0Y/QvdC40LUg0L3QsNGB0YLRgNC+0LXQulxyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZXJzLnNldFNldHRpbmdzU3RhdGUoKTtcclxuXHJcbiAgICAgICAgICAgIC8vINCf0YDQuNC80LXQvdC40Lwg0YHQvtGB0YLQvtGP0L3QuNC1INC60L3QvtC/0LrQuFxyXG4gICAgICAgICAgICB0aGlzLmhhbmRsZXJzLmFwcGx5U3RhdGUoKTtcclxuXHJcbiAgICAgICAgICAgIC8vINCf0L7QstC10YHQuNC8INC90LAg0L3QtdC1INC+0LHRgNCw0LHQvtGC0YfQuNC60LhcclxuICAgICAgICAgICAgdGhpcy5oYW5kbGVycy5zZXRIYW5kbGVycygpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGJ0biA9IHRoaXMud3JhcC5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuc2VsZWN0b3JzLmdldCgnYnRuLmJ0bicpKTtcclxuXHJcbiAgICAgICAgLy8g0J/QvtC70YPRh9Cw0LXQvCDQuNC3INC90LXQtNGAINCS0Jog0LjQvdGE0L7RgNC80LDRhtC40Y4g0L4g0LzQsNC60YHQuNC80LDQu9GM0L3QvtC5INCy0LXRgNGB0LjQuCDQvtGC0LrRgNGL0YLQvtC5INCyINC/0YDQvtGB0LzQvtGC0YDRidC40LrQtSDQutCw0YDRgtC40L3QutC4XHJcbiAgICAgICAgdGhpcy5pbWFnZV9kYXRhID0gd2luZG93LlBob3Rvdmlldy5nZW5EYXRhKHdpbmRvdy5jdXIucHZDdXJQaG90byk7XHJcblxyXG4gICAgICAgIC8vINCf0YDQvtCy0LXRgNC40LwsINC90LUg0LHRi9C7INC70Lgg0L3QvtCy0YvQuSB1cmwg0YDQsNC90LXQtSDRg9C20LUg0YHQutCw0YfQtdC9XHJcbiAgICAgICAgdGhpcy5fY2hlY2tMb2FkZWRVcmwoKTtcclxuXHJcbiAgICAgICAgLy8g0J7QsdC90L7QstC40Lwg0YHRgdGL0LvQutGDINCyINC60L3QvtC/0LrQtVxyXG4gICAgICAgIGJ0bi5ocmVmID0gdGhpcy5pbWFnZV9kYXRhLnNyYztcclxuXHJcbiAgICAgICAgLy8g0KPRgdGC0LDQvdC+0LLQuNC8INC40L3RhNC+0YDQvNCw0YbQuNGOINC+INGA0LDQt9C80LXRgNCw0YUg0LrQsNGA0YLQuNC90LrQuCwg0LrQvtGC0L7RgNCw0Y8g0L/QviDRgdGB0YvQu9C60LVcclxuICAgICAgICB0aGlzLnRlbXBsYXRlLnNldFNpemUodGhpcy53cmFwLCB0aGlzLmltYWdlX2RhdGEsIHRoaXMuc2V0dGluZ3Muc2hvd19zaXplKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyA9PT0gTG9hZGVkVXJsID09PVxyXG5cclxuICAgIC8vINCV0YHQu9C4INGA0LDQt9GA0LXRiNC10L3QviDQsiDQvdCw0YHRgtGA0L7QudC60LUsINC00L7QsdCw0LLQu9GP0LXRgiB1cmwg0LIg0LzQsNGB0YHQuNCyINGA0LDQvdC10LUg0YHQutCw0YfQtdC90L3Ri9GFXHJcbiAgICBfYWRkbG9hZGVkVXJsKHVybCkge1xyXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmxvYWRlZF91cmxzKSB7XHJcbiAgICAgICAgICAgIHRoaXMubG9hZGVkX3VybHMuYWRkKHVybCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vINCe0LHQvdC+0LLQu9GP0LXRgiDQvtGC0L7QsdGA0LDQttC10L3QuNC1INCyINC60L3QvtC/0LrQtSwg0LXRgdC70Lgg0Y3RgtC+INGA0LDQt9GA0LXRiNC10L3QviDQsiDQvdCw0YHRgNC+0LnQutCw0YVcclxuICAgIC8vINC4INC10LUgaHJlZiDQtdGB0YLRjCDQsiDQvNCw0YHRgdC40LLQtSDRgNCw0L3QtdC1INGB0LrQsNGH0LXQvdC90YvRhVxyXG4gICAgX2NoZWNrTG9hZGVkVXJsKGltbWVkaWF0ZSA9IGZhbHNlKSB7XHJcbiAgICAgICAgLy8gaW1tZWRpYXRlIC0g0YTQu9Cw0LMsINC/0YDQuCDQvdCw0LvQuNGH0LjQuCDQutC+0YLQvtGA0L7Qs9C+INC40LfQvNC10L3QtdC90LjQtSDQvtGC0L7QsdGA0LDQt9C40YLRgdGPINC90LAg0LrQvdC+0L/QutC1INC90LXQvNC10LTQu9C10L3QvdC+LFxyXG4gICAgICAgIC8vINC40L3QsNGH0LUgLSDRgtC+0LvRjNC60L4g0L/QvtGB0LvQtSDQv9C10YDQtdC60LvRjtGH0LXQvdC40Y8g0LrQsNGA0YLQuNC90LrQuC5cclxuICAgICAgICAvLyDQndGD0LbQvdC+INC00LvRjyDRgtC+0LPQviwg0YfRgtC+0LHRiyDQuNC60L7QvdC60LAg0L3QtSDRgdGC0LDQvdC+0LLQuNC70LDRgdGMINC20LXQu9GC0L7QuSDRgdGA0LDQt9GDINC/0L7QtCDQvNGL0YjQutC+0Lkg0L/RgNC4INGB0LrQsNGH0LjQstCw0L3QuNC4LFxyXG4gICAgICAgIC8vINC90L4g0L/RgNC4INC/0LXRgNC10LrQu9GO0YfQtdC90LjQuCDQvdCw0YHRgtGA0L7QudC60LggXCLQntGC0LzQtdGH0LDRgtGMINGB0LrQsNGH0LXQvdC90YvQtVwiLCDQuNC30LzQtdC90LXQvdC40Y8g0L7RgtC+0LHRgNCw0LfRj9GC0YHRjyDRgdGA0LDQt9GDXHJcbiAgICAgICAgaWYgKCFpbW1lZGlhdGUpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLndyYXApIHJldHVybjtcclxuICAgICAgICAgICAgbGV0IGJ0biA9IHRoaXMud3JhcC5xdWVyeVNlbGVjdG9yKCcuJyArIHRoaXMuc2VsZWN0b3JzLmdldCgnYnRuLmJ0bicpKTtcclxuICAgICAgICAgICAgaWYgKCFidG4gfHwgKHRoaXMuaW1hZ2VfZGF0YS5zcmMgPT09IGJ0bi5ocmVmKSkgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGNoZWNrID0gdGhpcy5sb2FkZWRfdXJscy5jaGVjayh0aGlzLmltYWdlX2RhdGEuc3JjKTtcclxuICAgICAgICB0aGlzLnRlbXBsYXRlLnNldExvYWRlZFVybCh0aGlzLndyYXAsIHRoaXMuc2V0dGluZ3MubG9hZGVkX3VybHMsIGNoZWNrKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyAtLS0gTG9hZGVkVXJsIC0tLVxyXG5cclxuICAgIC8vID09PSBXYXRjaGVyID09PVxyXG5cclxuICAgIC8vINCj0YHRgtCw0L3QvtCy0LrQsCDQvdCwIGRvY3VtZW50INGB0LvRg9GI0LDRgtC10LvQtdC5INGC0LjQv9C+0LIg0YHQvtCx0YvRgtC40LksINC40LzQtdGO0YnQuNGF0YHRjyDQsiDQvtCx0YrQtdC60YLQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutC+0LJcclxuICAgIF9pbml0V2F0Y2hlcigpIHtcclxuICAgICAgICBsZXQgdHlwZXMgPSBPYmplY3Qua2V5cyh0aGlzLnRyaWdnZXJzKTtcclxuICAgICAgICB0eXBlcy5mb3JFYWNoKHR5cGUgPT4gZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCB0aGlzLl93YXRjaFRyaWdnZXIuYmluZCh0aGlzKSkpXHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JzQtdGC0L7QtCwg0LrQvtGC0L7RgNGL0Lkg0LLRi9C30YvQstCw0LXRgiDQvdGD0LbQvdGL0Lkg0L7QsdGA0LDQsdC+0YLRh9C40Log0L/RgNC4INC90YPQttC90L7QvCDRgdC+0LHRi9GC0LjQuFxyXG4gICAgX3dhdGNoVHJpZ2dlcihldmVudCkge1xyXG4gICAgICAgIC8vINCh0LzQvtGC0YDQuNC8LCDQtdGB0YLRjCDQu9C4INC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0L/QvtC70YPRh9C10L3QvdC+0LPQviDRgtC40L/QsCDRgdC+0LHRi9GC0LjRj1xyXG4gICAgICAgIC8vINCd0LAg0YHQsNC80L7QvCDQtNC10LvQtSDQvtC90Lgg0LLRgdC10LPQtNCwINC00L7Qu9C20L3RiyDQsdGL0YLRjCwg0L3QviDQstGB0LUg0LbQtVxyXG4gICAgICAgIGxldCB0cmlnZ2VycyA9IHRoaXMudHJpZ2dlcnNbZXZlbnQudHlwZV07XHJcbiAgICAgICAgaWYgKHRyaWdnZXJzID09PSB1bmRlZmluZWQpIHJldHVybjtcclxuXHJcbiAgICAgICAgLy8g0JHQtdGA0LXQvCDRjdC70LXQvNC10L3Rgiwg0L3QsCDQutC+0YLQvtGA0L7QvCDRgdGA0LDQsdC+0YLQsNC70L4g0YHQvtCx0YvRgtC40LVcclxuICAgICAgICBsZXQgdGFyZ2V0ID0gZXZlbnQudGFyZ2V0O1xyXG5cclxuICAgICAgICAvLyDQptC40LrQuyDQv9C+INC+0LHRitC10LrRgtGDINC+0LHRgNCw0LHQvtGC0YfQuNC60L7QsiDQv9C+0LvRg9GH0LXQvdC90L7Qs9C+INGC0LjQv9CwINGB0L7QsdGL0YLQuNGPXHJcbiAgICAgICAgdHJpZ2dlcnMuZm9yRWFjaCh0cmlnZ2VyID0+IHtcclxuICAgICAgICAgICAgLy8g0JjRidC10Lwg0L7QsdGA0LDQsdC+0YLRh9C40Log0LTQu9GPINGG0LXQu9C4INGB0L7QsdGL0YLQuNGPXHJcbiAgICAgICAgICAgIC8vINCV0YHQu9C4INCy0LXRgNC90LXRgtGB0Y8gZmFsc2UsINGC0L4g0L3QtSDQvdCw0LnQtNC10L1cclxuICAgICAgICAgICAgbGV0IGNvbXBsaWFuY2UgPSB0aGlzLl9jaGVja0NvbXBsaWFuY2VUYXJnZXQodGFyZ2V0LCB0cmlnZ2VyLCBldmVudC50eXBlKTtcclxuXHJcbiAgICAgICAgICAgIC8vINCV0YHQu9C4INGG0LXQu9C4INGB0L7QsdGL0YLQuNGPINC90LXRgiDQsiDQvtCx0YrQtdC60YLQtSDQvtCx0YDQsNCx0L7RgtGH0LjQutC+0LIsINC90L4g0LIg0L7QsdGA0LDQsdC+0YLRh9C40LrQtSDRg9C60LDQt9Cw0L3QviwgXHJcbiAgICAgICAgICAgIC8vINGH0YLQviDQvtC9INC80L7QttC10YIg0YHRgNCw0LHQsNGC0YvQstCw0YLRjCDQvdCwINC00L7Rh9C10YDQvdC10Lwg0Y3Qu9C10LzQtdC90YLQtVxyXG4gICAgICAgICAgICBpZiAoIWNvbXBsaWFuY2UgJiYgdHJpZ2dlci5jaGlsZCkge1xyXG4gICAgICAgICAgICAgICAgLy8g0J/QvtC/0YDQvtCx0YPQtdC8INC90LDQudGC0Lgg0YDQvtC00LjRgtC10LvRjNGB0LrQuNC5INGN0LvQtdC80LXQvdGCINGG0LXQu9C4LCDRgdC+0L7RgtCy0LXRgtGB0YLQstGD0Y7RidC40Lkg0YHQtdC70LXQutGC0L7RgNGDXHJcbiAgICAgICAgICAgICAgICAvLyDQuNC3INC+0LHRitC10LrRgtCwINC+0LHRgNCw0LHQvtGC0YfQuNC60L7QslxyXG4gICAgICAgICAgICAgICAgdGhpcy5fY2hlY2tDb21wbGlhbmNlQ2hpbGQodGFyZ2V0LCB0cmlnZ2VyLCBldmVudC50eXBlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCf0YDQvtCy0LXRgNC60LAg0L3QsCDRgdC+0L7RgtCy0LXRgtGB0YLQstC40LUg0YbQtdC70Lgg0YHQvtCx0YvRgtC40Y8g0YEg0YHQtdC70LXQutGC0L7RgNCw0LzQuCDQvtCx0YrQtdC60YLQsCDRgtGA0LjQs9Cz0LXRgNC+0LJcclxuICAgIF9jaGVja0NvbXBsaWFuY2VUYXJnZXQodGFyZ2V0LCB0cmlnZ2VyLCB0eXBlKSB7XHJcblxyXG4gICAgICAgIGlmICh0eXBlID09PSAnY2xpY2snKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdfY2hlY2tDb21wbGlhbmNlVGFyZ2V0Jywge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgdHJpZ2dlclxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGxldCBjb21wbGlhbmNlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIC8vINCU0LLQsCDQvtGC0LTQtdC70YzQvdGL0YUg0YPRgdC70L7QstC40Y8g0LTQu9GPINGC0L7Qs9C+LCDRh9GC0L7QsdGLINCx0YvQu9CwINCy0L7Qt9C80L7QttC90L7RgdGC0Ywg0L3QsNC30L3QsNGH0LjRgtGMXHJcbiAgICAgICAgLy8g0YDQsNC30L3Ri9C1INC+0LHRgNCw0LHQvtGC0YfQuNC60Lgg0L/QviBpZCDQuCDQv9C+INC60LvQsNGB0YHRgyDQvdCwINC+0LTQuNC9INGN0LvQtdC80LXQvdGCLCDQuCDQvtC90Lgg0YHRgNCw0LHQvtGC0LDQu9C4INC+0LHQsFxyXG4gICAgICAgIGlmICh0cmlnZ2VyLnR5cGUgPT09ICdpZCcpIHtcclxuICAgICAgICAgICAgaWYgKHRhcmdldC5pZCA9PT0gdHJpZ2dlci5zZWxlY3Rvcikge1xyXG4gICAgICAgICAgICAgICAgY29tcGxpYW5jZSA9IHRydWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRyaWdnZXIuaGFuZGxlcikge1xyXG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXIuaGFuZGxlci5jYWxsKHRoaXMsIHRhcmdldCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICh0cmlnZ2VyLnR5cGUgPT09ICdjbGFzcycpIHtcclxuICAgICAgICAgICAgaWYgKHRhcmdldC5jbGFzc0xpc3QuY29udGFpbnModHJpZ2dlci5zZWxlY3RvcikpIHtcclxuICAgICAgICAgICAgICAgIGNvbXBsaWFuY2UgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0cmlnZ2VyLmhhbmRsZXIpIHtcclxuICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyLmhhbmRsZXIuY2FsbCh0aGlzLCB0YXJnZXQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gY29tcGxpYW5jZTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQn9GA0L7QstC10YDQutCwINC90LAg0YLQviwg0Y/QstC70Y/QtdGC0YHRjyDQu9C4INGG0LXQu9GMINGB0L7QsdGL0YLQuNGPINC00L7Rh9C10YDQvdC40Lwg0Y3Qu9C10LzQtdC90YLQvtC8INGB0LXQu9C10LrRgtC+0YDQsCDQuNC3INC+0LHRitC10LrRgtCwINGC0YDQuNCz0LPQtdGA0L7QslxyXG4gICAgX2NoZWNrQ29tcGxpYW5jZUNoaWxkKHRhcmdldCwgdHJpZ2dlciwgdHlwZSkge1xyXG5cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ2NsaWNrJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnX2NoZWNrQ29tcGxpYW5jZUNoaWxkJywge1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0LFxyXG4gICAgICAgICAgICAgICAgdHJpZ2dlclxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG5cclxuICAgICAgICBsZXQgcGFyZW50ID0gKHRyaWdnZXIudHlwZSA9PT0gJ2lkJykgP1xyXG4gICAgICAgICAgICB0YXJnZXQuY2xvc2VzdCgnIycgKyB0cmlnZ2VyLnNlbGVjdG9yKSA6XHJcbiAgICAgICAgICAgIHRhcmdldC5jbG9zZXN0KCcuJyArIHRyaWdnZXIuc2VsZWN0b3IpO1xyXG5cclxuICAgICAgICBpZiAocGFyZW50KSB7XHJcbiAgICAgICAgICAgIC8vINCV0YHQu9C4INC00LAsINC30LDQv9GD0YHRgtC40Lwg0L7QsdGA0LDQsdC+0YLRh9C40Log0LTQu9GPINGA0L7QtNC40YLQtdC70Y9cclxuICAgICAgICAgICAgdGhpcy5fY2hlY2tDb21wbGlhbmNlVGFyZ2V0KHBhcmVudCwgdHJpZ2dlcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLSBXYXRjaGVyIC0tLVxyXG5cclxuICAgIC8vID09PSBTdG9yYWdlID09PVxyXG5cclxuICAgIF9zYXZlU2V0dGluZ3MoKSB7XHJcbiAgICAgICAgbGV0IHJlcyA9IHRoaXMuc3RvcmFnZS5zZXQoJ3NldHRpbmdzJywgdGhpcy5zZXR0aW5ncyk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKTtcclxuICAgIH1cclxuXHJcbiAgICBfc2F2ZVN0YXRlKCkge1xyXG4gICAgICAgIGxldCByZXMgPSB0aGlzLnN0b3JhZ2Uuc2V0KCdzdGF0ZScsIHRoaXMuc3RhdGUpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgX3NhdmVMb2FkZWRVcmxzKCkge1xyXG4gICAgICAgIGxldCByZXMgPSB0aGlzLnN0b3JhZ2Uuc2V0KCdsb2FkZWRfdXJscycsIHRoaXMubG9hZGVkX3VybHMpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7XHJcbiAgICB9XHJcblxyXG4gICAgX3Jlc3RvcmVTdG9yYWdlKCkge1xyXG4gICAgICAgIGxldCBzdG9yYWdlID0gdGhpcy5zdG9yYWdlLmdldEFsbCgpO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBzdG9yYWdlX29iaiBpbiBzdG9yYWdlKSB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IG9iaiBpbiBzdG9yYWdlW3N0b3JhZ2Vfb2JqXSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKG9iai5jaGFyQXQoMCkgPT09ICdfJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXNbc3RvcmFnZV9vYmpdW29ial0gPSBzdG9yYWdlW3N0b3JhZ2Vfb2JqXVtvYmpdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICB0aGlzLl91cGRhdGVCdG4oZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyB0aGlzLmltZ0NvbnRhaW5lcl9pZCkpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIC0tLSBTdG9yYWdlIC0tLVxyXG5cclxuXHJcbiAgICAvLyDQotC+0YfQutCwINCy0YXQvtC00LBcclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgY29uc29sZS5jbGVhcigpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCclYyVzJywgKHdpbmRvdy5sb2dfY29sb3IpID8gd2luZG93LmxvZ19jb2xvci5ibHVlIDogJycsICdQaG90b0Rvd25sb2FkOiBJbml0Jyk7XHJcblxyXG4gICAgICAgIC8vINCU0L7QsdCw0LLQu9GP0LXQvCDRgdGC0LjQu9C4IFBob3RvRG93bmxvYWRcclxuICAgICAgICB0aGlzLnRlbXBsYXRlLmluamVjdENTUygpO1xyXG5cclxuICAgICAgICAvLyDQktC+0YHRgdGC0LDQvdCw0LLQu9C40LLQsNC10Lwg0YHQvtGF0YDQsNC90LXQvdC90L7QtSDQsiBMb2NhbFN0b3JhZ2Ug0YHQvtGB0YLQvtGP0L3QuNC1XHJcbiAgICAgICAgdGhpcy5fcmVzdG9yZVN0b3JhZ2UoKTtcclxuXHJcbiAgICAgICAgLy8g0JjQvdC40YbQuNCw0LvQuNC30LjRgNGD0LXQvCDQvtCx0YDQsNCx0L7RgtGH0LjQutC4INCz0LvQvtCx0LDQu9GM0L3Ri9GFINGB0L7QsdGL0YLQuNC5INC90LAgZG9jdW1lbnRcclxuICAgICAgICB0aGlzLl9pbml0V2F0Y2hlcigpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgU1N0b3JhZ2Uge1xyXG4gICAgY29uc3RydWN0b3IocGFyYW1zID0ge30pIHtcclxuICAgICAgICB0aGlzLm5hbWUgPSBwYXJhbXMubmFtZTtcclxuICAgICAgICB0aGlzLmRlZmF1bHQgPSBwYXJhbXMuZGVmYXVsdDtcclxuXHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0KGtleSwgdmFsKSB7XHJcbiAgICAgICAgaWYgKHZhbCA9PT0gdW5kZWZpbmVkKSByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgbGV0IHRtcCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5uYW1lKSk7XHJcbiAgICAgICAgdG1wW2tleV0gPSB2YWw7XHJcbiAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5uYW1lLCBKU09OLnN0cmluZ2lmeSh0bXApKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRtcDtcclxuICAgIH1cclxuXHJcbiAgICBnZXQoa2V5KSB7XHJcbiAgICAgICAgbGV0IHRtcCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5uYW1lKSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0bXBba2V5XTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBbGwoKSB7XHJcbiAgICAgICAgbGV0IHRtcCA9IEpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5uYW1lKSk7XHJcblxyXG4gICAgICAgIHJldHVybiB0bXA7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlKGtleSkge1xyXG4gICAgICAgIGxldCB0bXAgPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMubmFtZSkpO1xyXG4gICAgICAgIGRlbGV0ZSB0bXBba2V5XTtcclxuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLm5hbWUsIEpTT04uc3RyaW5naWZ5KHRtcCkpO1xyXG5cclxuICAgICAgICByZXR1cm4gdG1wO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyKCkge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKHRoaXMubmFtZSk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JzQtdGC0L7QtCDQv9C+0LTQs9C+0YLQvtCy0LrQuFxyXG4gICAgcHJlcGFyZVN0b3JhZ2UoKSB7XHJcbiAgICAgICAgaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMubmFtZSkgPT0gbnVsbCkge1xyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLm5hbWUsIEpTT04uc3RyaW5naWZ5KHRoaXMuZGVmYXVsdCkpO1xyXG5cclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgdGhpcy5wcmVwYXJlU3RvcmFnZSgpO1xyXG4gICAgfVxyXG59IiwiZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24oc2VsLCB0aW1pbmdzLCBpY29ucykge1xyXG5cclxuICAgIHJldHVybiAvKiBjc3MgKi8gYFxyXG4gICAgIyR7c2VsLnBob3RvRG93bmxvYWRfaWR9IHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiB0cmFuc3BhcmVudDtcclxuICAgICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwO1xyXG4gICAgICAgIGNvbG9yOiAjQzNDRkUwO1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgYm90dG9tOiAwO1xyXG4gICAgICAgIGxlZnQ6IDEwMCU7XHJcbiAgICAgICAgb3BhY2l0eTogMDtcclxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0zOHB4LCAwLCAxcHgpO1xyXG4gICAgICAgIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm0sIG9wYWNpdHk7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogb3BhY2l0eSAke3RpbWluZ3MuYnRuX3RyYW5zaXRpb25fb3BhY2l0eX1tcyBlYXNlLWluLW91dCwgdHJhbnNmb3JtICR7dGltaW5ncy5idG5fdHJhbnNpdGlvbl90cmFuc2Zvcm19bXMgZWFzZS1pbi1vdXQgIWltcG9ydGFudDtcclxuICAgIH1cclxuXHJcbiAgICAvKiDQn9GA0Lgg0L3QsNCy0LXQtNC10L3QuNC4INC90LAg0LHQu9C+0Log0LrQsNGA0YLQuNC90LrQuCDQsiDQv9GA0L7RgdC80L7RgtGA0YnQuNC60LUgKi9cclxuICAgIC4ke3NlbC5pbWdDb250YWluZXJfY2xhc3N9OmhvdmVyICMke3NlbC5waG90b0Rvd25sb2FkX2lkfS4ke3NlbC5yZWFkeX0ge1xyXG4gICAgICAgIG9wYWNpdHk6IC4zO1xyXG4gICAgfVxyXG4gICAgLyog0J/RgNC4INC90LDQstC10LTQtdC90LjQuCDQvdCwIHdyYXAg0LrQvdC+0L/QutC4ICovXHJcbiAgICAuJHtzZWwuaW1nQ29udGFpbmVyX2NsYXNzfSAjJHtzZWwucGhvdG9Eb3dubG9hZF9pZH0uJHtzZWwucmVhZHl9OmhvdmVyIHtcclxuICAgICAgICBvcGFjaXR5OiAuODtcclxuICAgIH1cclxuICAgIC8qINCV0YHQu9C4INGA0LDQt9C80LXRgCDQutCw0YDRgtC40L3QutC4INC00L7Qu9C20LXQvSDQvtGC0L7QsdGA0LDQttCw0YLRjNGB0Y8gKi9cclxuICAgICMke3NlbC5waG90b0Rvd25sb2FkX2lkfS4ke3NlbC5yZWFkeX06bm90KC4ke3NlbC5ub25fc2l6ZX0pOmhvdmVyIHtcclxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKC0xMDAlLCAwLCAxcHgpO1xyXG4gICAgfVxyXG5cclxuICAgIC8qINCV0YHQu9C4INGA0LDQt9C80LXRgCDQutCw0YDRgtC40L3QutC4INC90LUg0LTQvtC70LbQtdC9INC+0YLQvtCx0YDQsNC20LDRgtGM0YHRjywg0LIg0LrQvdC+0L/QutC1INCx0YPQtNC10YIg0LLRgdC10LPQtNCwINGB0LvQvtCy0L4gXCLQndCw0YHRgtGA0L7QudC60LhcIiAqL1xyXG4gICAgIyR7c2VsLnBob3RvRG93bmxvYWRfaWR9LiR7c2VsLm5vbl9zaXplfSAuJHtzZWwuZ2V0KCdidG4ubWFpbl90aXRsZV9pbm5lcicpfSB7XHJcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAtMjlweCwgMXB4KTtcclxuICAgIH1cclxuXHJcbiAgICAvKiDQktGL0LTQstC40L3Rg9GC0Ywg0LrQvdC+0L/QutGDINC/0YDQuCDQvdCw0LvQuNGH0LjQuCBzbGlkZV9pbiAqL1xyXG4gICAgIyR7c2VsLnBob3RvRG93bmxvYWRfaWR9LiR7c2VsLnJlYWR5fS4ke3NlbC5zbGlkZV9pbn0ge1xyXG4gICAgICAgIG9wYWNpdHk6IC44O1xyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTEwMCUsIDAsIDFweCk7XHJcbiAgICB9XHJcblxyXG4gICAgLiR7c2VsLmdldCgnYnRuLmJ0bicpfSB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICBwYWRkaW5nOiAxMHB4O1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XHJcbiAgICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogNHB4O1xyXG4gICAgICAgIGNvbG9yOiAjQzNDRkUwICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLiR7c2VsLmdldCgnYnRuLmJ0bicpfTpob3ZlciB7XHJcbiAgICAgICAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xyXG4gICAgfVxyXG5cclxuICAgIC4ke3NlbC5nZXQoJ2J0bi5pY29uJyl9IHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7aWNvbnMuZ2V0KCd3aGl0ZScsICdhcnJvdycpfScpO1xyXG4gICAgICAgIGJhY2tncm91bmQtc2l6ZTogY29udGFpbjtcclxuICAgICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xyXG4gICAgICAgIGhlaWdodDogMThweDtcclxuICAgICAgICB3aWR0aDogMThweDtcclxuICAgICAgICBwb3NpdGlvbjogcmVsYXRpdmU7XHJcbiAgICB9XHJcblxyXG4gICAgLyog0K3RhNGE0LXQutGCINGB0LrQsNGH0LjQstCw0L3QuNGPICovXHJcbiAgICAuJHtzZWwuZ2V0KCdidG4uaWNvbicpfTpiZWZvcmUge1xyXG4gICAgICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnJHtpY29ucy5nZXQoJ3doaXRlJywgJ2Fycm93Jyl9Jyk7XHJcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiBjb250YWluO1xyXG4gICAgICAgIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7XHJcbiAgICAgICAgaGVpZ2h0OiA5MCU7XHJcbiAgICAgICAgd2lkdGg6IDkwJTtcclxuICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XHJcbiAgICAgICAgbGVmdDogNTAlO1xyXG4gICAgICAgIHRvcDogNTAlO1xyXG4gICAgICAgIG9wYWNpdHk6IC44O1xyXG4gICAgICAgIHdpbGwtY2hhbmdlOiB0cmFuc2Zvcm0sIG9wYWNpdHk7XHJcbiAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUoLTUwJSwgLTUwJSk7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtICR7dGltaW5ncy5zZXR0aW5nc19vcGVuIC0gMTAwfW1zIGN1YmljLWJlemllciguMjIsLjczLC40MywuNjUpLCBvcGFjaXR5ICR7dGltaW5ncy5zZXR0aW5nc19vcGVufW1zIGN1YmljLWJlemllciguMzgsLjc1LC40NiwxKSAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIC4ke3NlbC5nZXQoJ2J0bi5pY29uJyl9LiR7c2VsLmdldCgnYnRuLmRvd25sb2FkX2VmZmVjdCcpfTpiZWZvcmUge1xyXG4gICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAke3RpbWluZ3Muc2V0dGluZ3Nfb3BlbiArIDEwMH1tcyBjdWJpYy1iZXppZXIoLjUsLjY5LC4yLDEuNiksIG9wYWNpdHkgJHt0aW1pbmdzLnNldHRpbmdzX29wZW4gKyAxMDB9bXMgZWFzZS1pbi1vdXQgIWltcG9ydGFudDtcclxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKSBzY2FsZTNkKDIsIDIsIDIpO1xyXG4gICAgICAgIG9wYWNpdHk6IC4xO1xyXG4gICAgfVxyXG5cclxuICAgIC4ke3NlbC5nZXQoJ2J0bi5idG4nKX06aG92ZXIgLiR7c2VsLmdldCgnYnRuLmljb24nKX0sXHJcbiAgICAuJHtzZWwuZ2V0KCdidG4uYnRuJyl9OmhvdmVyIC4ke3NlbC5nZXQoJ2J0bi5pY29uJyl9OmJlZm9yZSB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcke2ljb25zLmdldCgnZ3JlZW4nLCAnYXJyb3cnKX0nKTtcclxuICAgIH1cclxuXHJcbiAgICAvKiDQntGC0LzQtdGC0LrQsCDQviDRgNCw0L3QtdC1INGB0LrQsNGH0LXQvdC90L7QuSDQutCw0YDRgtC40L3QutC1ICovXHJcbiAgICAuJHtzZWwuZ2V0KCdidG4uYnRuJyl9LiR7c2VsLmdldCgnbG9hZGVkX3VybHNfYWN0aXZlJyl9IC4ke3NlbC5nZXQoJ2J0bi5pY29uJyl9LFxyXG4gICAgLiR7c2VsLmdldCgnYnRuLmJ0bicpfS4ke3NlbC5nZXQoJ2xvYWRlZF91cmxzX2FjdGl2ZScpfSAuJHtzZWwuZ2V0KCdidG4uaWNvbicpfTpiZWZvcmUge1xyXG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnJHtpY29ucy5nZXQoJ3llbGxvdycsICdhcnJvdycpfScpO1xyXG4gICAgfVxyXG5cclxuICAgICMke3NlbC5waG90b0Rvd25sb2FkX2lkfSAuJHtzZWwuZ2V0KCdidG4uc2l6ZScpfSB7XHJcbiAgICAgICAgY29sb3I6ICR7aWNvbnMuX2NvbG9ycy5ncmV5fSAhaW1wb3J0YW50O1xyXG4gICAgICAgIGZsZXgtZ3JvdzogMTtcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgaGVpZ2h0OiAxNXB4O1xyXG4gICAgfVxyXG5cclxuICAgIC8qINCU0LvRjyDQvtGC0LrRgNGL0YLRi9GFINC90LDRgdGC0YDQvtC10LogKi9cclxuICAgICMke3NlbC5waG90b0Rvd25sb2FkX2lkfS4ke3NlbC5yZWFkeX0uJHtzZWwuc2V0dGluZ3N9IHtcclxuICAgICAgICBvcGFjaXR5OiAuOCAhaW1wb3J0YW50O1xyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoLTEwMCUsIDAsIDFweCk7XHJcbiAgICB9XHJcblxyXG4gICAgIyR7c2VsLnBob3RvRG93bmxvYWRfaWR9LiR7c2VsLnNldHRpbmdzfSAuJHtzZWwuZ2V0KCdidG4uYnRuJyl9IHtcclxuICAgICAgICBib3JkZXItdG9wLWxlZnQtcmFkaXVzOiAwO1xyXG4gICAgfVxyXG5cclxuICAgICMke3NlbC5waG90b0Rvd25sb2FkX2lkfS4ke3NlbC5zZXR0aW5nc30gLiR7c2VsLmdldCgnYnRuLmJ0bicpfTpiZWZvcmUge1xyXG4gICAgICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB0b3A6IC0xcHg7XHJcbiAgICAgICAgbGVmdDogNTAlO1xyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcclxuICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gMjBweCk7XHJcbiAgICAgICAgaGVpZ2h0OiAxcHg7XHJcbiAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAuMSk7XHJcbiAgICB9XHJcblxyXG4gICAgLiR7c2VsLmdldCgnYnRuLm1haW5fdGl0bGVfd3JhcCcpfSB7XHJcbiAgICAgICAgZmxleC1ncm93OiAxO1xyXG4gICAgICAgIGhlaWdodDogMTRweDtcclxuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcclxuICAgICAgICB1c2VyLXNlbGVjdDogbm9uZTtcclxuICAgIH1cclxuXHJcbiAgICAjJHtzZWwuZ2V0KCdwaG90b0Rvd25sb2FkX2lkJyl9IC4ke3NlbC5nZXQoJ2J0bi5tYWluX3RpdGxlX2lubmVyJyl9IHtcclxuICAgICAgICB3aWxsLWNoYW5nZTogdHJhbnNmb3JtO1xyXG4gICAgICAgIHRyYW5zaXRpb246IHRyYW5zZm9ybSAke3RpbWluZ3Muc2V0dGluZ3Nfb3Blbn1tcyBlYXNlLW91dCAhaW1wb3J0YW50O1xyXG4gICAgfVxyXG5cclxuICAgIC4ke3NlbC5nZXQoJ2J0bi5tYWluX3RpdGxlX2lubmVyJyl9ICoge1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDE0cHg7XHJcbiAgICB9XHJcblxyXG4gICAgLyog0JTQu9GPINC+0YLQutGA0YvRgtGL0YUg0L3QsNGB0YLRgNC+0LXQuiDQv9C+0LrQsNC30YvQstCw0LXQvCDRgdC70L7QstC+IFwi0J3QsNGB0YLRgNC+0LnQutC4XCIgKi9cclxuICAgICMke3NlbC5waG90b0Rvd25sb2FkX2lkfS4ke3NlbC5yZWFkeX0uJHtzZWwuc2V0dGluZ3Nfb3Blbn0gLiR7c2VsLmdldCgnYnRuLm1haW5fdGl0bGVfaW5uZXInKX0ge1xyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgLTI5cHgsIDFweCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyog0KHQv9GA0Y/RgtCw0YLRjCDQuNC60L7QvdC60YMg0YHRgtGA0LXQu9C60Lgg0L/RgNC4INC90LDQu9C40YfQuNC4IGljb25fY29nICovXHJcbiAgICAjJHtzZWwucGhvdG9Eb3dubG9hZF9pZH0uJHtzZWwucmVhZHl9LiR7c2VsLmljb25fY29nfSAuJHtzZWwuZ2V0KCdidG4uaWNvbicpfSwgXHJcbiAgICAjJHtzZWwucGhvdG9Eb3dubG9hZF9pZH0uJHtzZWwucmVhZHl9LiR7c2VsLmljb25fY29nfSAuJHtzZWwuZ2V0KCdidG4uaWNvbicpfTpiZWZvcmUge1xyXG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IG5vbmU7XHJcbiAgICB9XHJcblxyXG4gICAgIyR7c2VsLnBob3RvRG93bmxvYWRfaWR9Om5vdCguJHtzZWwuc2V0dGluZ3N9KSAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX3dyYXAnKX0ge1xyXG4gICAgICAgIGhlaWdodDogMDtcclxuICAgICAgICBvdmVyZmxvdzogaGlkZGVuO1xyXG4gICAgfVxyXG5cclxuICAgICMke3NlbC5waG90b0Rvd25sb2FkX2lkfS4ke3NlbC5yZWFkeX0uJHtzZWwuc2V0dGluZ3N9IC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3Nfd3JhcCcpfSB7XHJcbiAgICAgICAgaGVpZ2h0OiBhdXRvO1xyXG4gICAgfVxyXG5cclxuICAgICMke3NlbC5waG90b0Rvd25sb2FkX2lkfS4ke3NlbC5yZWFkeX0gLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5ncycpfSB7XHJcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICMwMDA7XHJcbiAgICAgICAgYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czogNHB4O1xyXG4gICAgICAgIGZvbnQtc2l6ZTogMTJweDtcclxuICAgICAgICB3aWR0aDogMTUwcHg7XHJcbiAgICAgICAgd2lsbC1jaGFuZ2U6IHRyYW5zZm9ybTtcclxuICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZTNkKDAsIDEwMCUsIDFweCk7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogdHJhbnNmb3JtICR7dGltaW5ncy5zZXR0aW5nc19vcGVufW1zIGVhc2Utb3V0ICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgdXNlci1zZWxlY3Q6IG5vbmU7XHJcbiAgICB9XHJcblxyXG4gICAgLyog0JLRi9C00LLQuNC90YPRgtGMINC90LDRgdGC0YDQvtC50LrQuCDQstCy0LXRgNGFINC/0YDQuCDQvdCw0LvQuNGH0LjQuCBzZXR0aW5nc19vcGVuICovXHJcbiAgICAjJHtzZWwucGhvdG9Eb3dubG9hZF9pZH0uJHtzZWwucmVhZHl9LiR7c2VsLnNldHRpbmdzX29wZW59IC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3MnKX0ge1xyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlM2QoMCwgMCUsIDFweCk7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3NfYm9keScpfSB7XHJcbiAgICAgICAgcGFkZGluZzogMCAxMHB4O1xyXG4gICAgfVxyXG5cclxuICAgIC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3NfYm9keScpfSB1bCB7XHJcbiAgICAgICAgcGFkZGluZzogNXB4IDA7XHJcbiAgICAgICAgbWFyZ2luOiAwO1xyXG4gICAgICAgIGxpc3Qtc3R5bGU6IG5vbmU7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBmbGV4LWRpcmVjdGlvbjogY29sdW1uO1xyXG4gICAgfVxyXG5cclxuICAgIC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3NfaXRlbScpfSB7XHJcbiAgICAgICAgZGlzcGxheTogZmxleDtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19pdGVtJyl9Om5vdCg6bGFzdC1jaGlsZCkge1xyXG4gICAgICAgIG1hcmdpbi1ib3R0b206IDVweDtcclxuICAgIH1cclxuXHJcbiAgICAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW0nKX0gaW5wdXRbdHlwZT1yYWRpb10sXHJcbiAgICAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW0nKX0gaW5wdXRbdHlwZT1jaGVja2JveF0ge1xyXG4gICAgICAgIG1hcmdpbjogMDtcclxuICAgICAgICBkaXNwbGF5OiBub25lO1xyXG4gICAgfVxyXG5cclxuICAgIC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3NfaXRlbV9hY3Rpb24nKX0ge1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAgYWxpZ24taXRlbXM6IGNlbnRlcjtcclxuICAgICAgICB3aWR0aDogMTAwJTtcclxuICAgICAgICBtaW4taGVpZ2h0OiAxOHB4O1xyXG4gICAgICAgIHBhZGRpbmctbGVmdDogMjBweDtcclxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICAgICAgYmFja2dyb3VuZC1zaXplOiAxNHB4IDE0cHg7XHJcbiAgICAgICAgYmFja2dyb3VuZC1yZXBlYXQ6IG5vLXJlcGVhdDtcclxuICAgICAgICBiYWNrZ3JvdW5kLXBvc2l0aW9uOiAwIGNlbnRlcjtcclxuICAgIH1cclxuXHJcbiAgICAvKiDQmNC60L7QvdC60Lgg0LTQu9GPINGA0LDQtNC40L7QutC90L7Qv9C+0LogKi9cclxuICAgIGlucHV0W3R5cGU9cmFkaW9dICsgLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19pdGVtX2FjdGlvbicpfSB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcke2ljb25zLmdldCgnd2hpdGUnLCAnY2lyY2xlJyl9Jyk7XHJcbiAgICB9XHJcbiAgICBpbnB1dFt0eXBlPXJhZGlvXTpub3QoW2Rpc2FibGVkXSkgKyAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW1fYWN0aW9uJyl9OmhvdmVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7aWNvbnMuZ2V0KCdncmVlbicsICdjaXJjbGUnKX0nKTtcclxuICAgIH1cclxuICAgIGlucHV0W3R5cGU9cmFkaW9dOmNoZWNrZWQgKyAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW1fYWN0aW9uJyl9IHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7aWNvbnMuZ2V0KCd3aGl0ZScsICdjaGVja19jaXJjbGUnKX0nKTtcclxuICAgIH1cclxuICAgIGlucHV0W3R5cGU9cmFkaW9dOm5vdChbZGlzYWJsZWRdKTpjaGVja2VkICsgLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19pdGVtX2FjdGlvbicpfTpob3ZlciB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcke2ljb25zLmdldCgnZ3JlZW4nLCAnY2hlY2tfY2lyY2xlJyl9Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyog0JjQutC+0L3QutC4INC00LvRjyDRh9C10LrQsdC+0LrRgdC+0LIgKi9cclxuICAgIGlucHV0W3R5cGU9Y2hlY2tib3hdICsgLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19pdGVtX2FjdGlvbicpfSB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcke2ljb25zLmdldCgnd2hpdGUnLCAnc3F1YXJlJyl9Jyk7XHJcbiAgICB9XHJcbiAgICBpbnB1dFt0eXBlPWNoZWNrYm94XTpub3QoW2Rpc2FibGVkXSkgKyAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW1fYWN0aW9uJyl9OmhvdmVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7aWNvbnMuZ2V0KCdncmVlbicsICdzcXVhcmUnKX0nKTtcclxuICAgIH1cclxuICAgIGlucHV0W3R5cGU9Y2hlY2tib3hdOmNoZWNrZWQgKyAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW1fYWN0aW9uJyl9IHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7aWNvbnMuZ2V0KCd3aGl0ZScsICdjaGVja19zcXVhcmUnKX0nKTtcclxuICAgIH1cclxuICAgIGlucHV0W3R5cGU9Y2hlY2tib3hdOm5vdChbZGlzYWJsZWRdKTpjaGVja2VkICsgLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19pdGVtX2FjdGlvbicpfTpob3ZlciB7XHJcbiAgICAgICAgYmFja2dyb3VuZC1pbWFnZTogdXJsKCcke2ljb25zLmdldCgnZ3JlZW4nLCAnY2hlY2tfc3F1YXJlJyl9Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5wdXRbZGlzYWJsZWRdICsgLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19pdGVtX2FjdGlvbicpfSB7XHJcbiAgICAgICAgb3BhY2l0eTogLjQ7XHJcbiAgICAgICAgY3Vyc29yOiBkZWZhdWx0O1xyXG4gICAgfVxyXG5cclxuICAgIC8qINCY0LrQvtC90LrQsCDRiNC10YHRgtC10YDQtdC90LrQuCAqL1xyXG4gICAgIyR7c2VsLmdldCgncGhvdG9Eb3dubG9hZF9pZCcpfSAuY29nIHtcclxuICAgICAgICB3aWR0aDogMThweDtcclxuICAgICAgICBoZWlnaHQ6IDE4cHg7XHJcbiAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoMzBkZWcpO1xyXG4gICAgICAgIG9wYWNpdHk6IDA7XHJcbiAgICB9XHJcblxyXG4gICAgIyR7c2VsLnBob3RvRG93bmxvYWRfaWR9LiR7c2VsLnJlYWR5fS4ke3NlbC5pY29uX2NvZ30gLiR7c2VsLmdldCgnYnRuLmljb24nKX0gLmNvZyB7XHJcbiAgICAgICAgb3BhY2l0eTogMTtcclxuICAgIH1cclxuXHJcbiAgICAjJHtzZWwuZ2V0KCdwaG90b0Rvd25sb2FkX2lkJyl9IC5jb2cgLmNvZ19jaXJjbGUge1xyXG4gICAgICAgIGZpbGw6IG5vbmU7XHJcbiAgICAgICAgZmlsbC1vcGFjaXR5OiAwO1xyXG4gICAgICAgIHN0cm9rZS13aWR0aDogMjU7XHJcbiAgICB9XHJcblxyXG4gICAgIyR7c2VsLmdldCgncGhvdG9Eb3dubG9hZF9pZCcpfSAuY29nIC5jb2dfcGF0aCB7XHJcbiAgICAgICAgZmlsbDogbm9uZTtcclxuICAgICAgICBmaWxsLW9wYWNpdHk6IDA7XHJcbiAgICAgICAgc3Ryb2tlLXdpZHRoOiAyNTtcclxuICAgICAgICBzdHJva2UtZGFzaGFycmF5OiAxNjY5O1xyXG4gICAgICAgIHN0cm9rZS1kYXNob2Zmc2V0OiAxNjY5O1xyXG4gICAgICAgIHRyYW5zaXRpb246IHN0cm9rZS1kYXNob2Zmc2V0ICR7dGltaW5ncy5zZXR0aW5nc19vcGVufW1zIGxpbmVhciwgZmlsbC1vcGFjaXR5ICR7dGltaW5ncy5maWxsfW1zIGVhc2Utb3V0ICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgIyR7c2VsLmdldCgncGhvdG9Eb3dubG9hZF9pZCcpfSAuY29nLiR7c2VsLmRyYXd9IC5jb2dfcGF0aCB7XHJcbiAgICAgICAgdHJhbnNpdGlvbjogc3Ryb2tlLWRhc2hvZmZzZXQgJHt0aW1pbmdzLm9wZW59bXMgbGluZWFyLCBmaWxsLW9wYWNpdHkgJHt0aW1pbmdzLmZpbGx9bXMgZWFzZS1vdXQgIWltcG9ydGFudDtcclxuICAgICAgICBzdHJva2UtZGFzaG9mZnNldDogMDtcclxuICAgIH1cclxuXHJcbiAgICAjJHtzZWwucGhvdG9Eb3dubG9hZF9pZH0uJHtzZWwucmVhZHl9IC5jb2cuJHtzZWwuZHJhd19maWxsfSAuY29nX3BhdGgge1xyXG4gICAgICAgIGZpbGw6ICMwMGI3NWE7XHJcbiAgICAgICAgZmlsbC1vcGFjaXR5OiAxO1xyXG4gICAgfVxyXG5cclxuICAgICMke3NlbC5waG90b0Rvd25sb2FkX2lkfS4ke3NlbC5yZWFkeX0gLmNvZy4ke3NlbC5kcmF3X2ZpbGx9IC5jb2dfY2lyY2xlIHtcclxuICAgICAgICBmaWxsOiAjMDAwO1xyXG4gICAgICAgIHN0cm9rZS13aWR0aDogMTU7XHJcbiAgICAgICAgZmlsbC1vcGFjaXR5OiAxO1xyXG4gICAgfVxyXG5cclxuICAgIC8qID09PSDQlNC70Y8g0L3QsNGB0YLRgNC+0LXQuiDRgSDRgdC10LrRhtC40Y/QvNC4ID09PSAqL1xyXG5cclxuICAgIC8qINCT0LDQu9C+0YfQutCwINCy0LLQtdGA0YXRgyDRgdC70LXQstCwLCDQt9Cw0LrRgNGL0LLQsNGO0YnQsNGPINC90LDRgdGC0YDQvtC50LrQuCAqL1xyXG4gICAgLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19jbG9zZV9pY28nKX0ge1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICB0b3A6IDA7XHJcbiAgICAgICAgbGVmdDogMDtcclxuICAgICAgICB6LWluZGV4OiAxMDtcclxuICAgICAgICBiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJyR7aWNvbnMuZ2V0KCd3aGl0ZScsICdvaycpfScpO1xyXG4gICAgICAgIGJhY2tncm91bmQtc2l6ZTogMTZweCAxNnB4O1xyXG4gICAgICAgIGJhY2tncm91bmQtcG9zaXRpb246IGNlbnRlcjtcclxuICAgICAgICBiYWNrZ3JvdW5kLXJlcGVhdDogbm8tcmVwZWF0O1xyXG4gICAgICAgIHBhZGRpbmc6IDZweCAxMHB4O1xyXG4gICAgICAgIHdpZHRoOiAxOHB4O1xyXG4gICAgICAgIGhlaWdodDogMThweDtcclxuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XHJcbiAgICB9XHJcblxyXG4gICAgLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19jbG9zZV9pY28nKX06aG92ZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnJHtpY29ucy5nZXQoJ2dyZWVuJywgJ29rJyl9Jyk7XHJcbiAgICB9XHJcblxyXG4gICAgLyog0KHQtdC60YbQuNGPINC90LDRgdGC0YDQvtC10LogKi9cclxuICAgIC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3Nfc2VjdGlvbicpfTpsYXN0LWNoaWxkIHtcclxuICAgICAgICBwYWRkaW5nLWJvdHRvbTogNXB4O1xyXG4gICAgfVxyXG5cclxuICAgIC8qINCf0YDQuCDRhdC+0LLQtdGA0LUg0L3QsCDRgdC10LrRhtC40Y4sINC90L4g0L3QtSDQvdCwINC30LDQs9C+0LvQvtCy0L7Quiwg0LfQsNCz0L7Qu9C+0LLQutGDINC00LDQstCw0YLRjCDQt9C10LvQtdC90YvQuSDRhtCy0LXRgiAqL1xyXG4gICAgLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19zZWN0aW9uJyl9OmhvdmVyIC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3Nfc2VjdGlvbl9oZWFkZXInKX0ge1xyXG4gICAgICAgIGNvbG9yOiAke2ljb25zLl9jb2xvcnMuZ3JlZW59ICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcbiAgICAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX3NlY3Rpb24nKX0gLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19zZWN0aW9uX2hlYWRlcicpfTpob3ZlciAge1xyXG4gICAgICAgIGNvbG9yOiAke2ljb25zLl9jb2xvcnMuZ3JleX0gIWltcG9ydGFudDtcclxuICAgIH1cclxuXHJcbiAgICAvKiDQn9GA0Lgg0YXQvtCy0LXRgNC1INC90LAg0YHQtdC60YbQuNGOLCDQvdC+INC90LUg0L3QsCDQt9Cw0LPQvtC70L7QstC+0LosINC/0L7QtNGH0LXRgNC60LjQstCw0L3QuNGOINC30LDQs9C+0LvQvtCy0LrQsCDQtNCw0LLQsNGC0Ywg0LfQtdC70LXQvdGL0Lkg0YbQstC10YIgKi9cclxuICAgIC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3Nfc2VjdGlvbicpfTpob3ZlciAuJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX3NlY3Rpb25faGVhZGVyJyl9OmFmdGVyIHtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke2ljb25zLl9jb2xvcnMuZ3JlZW59O1xyXG4gICAgICAgIG9wYWNpdHk6IC4zO1xyXG4gICAgfVxyXG4gICAgLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19zZWN0aW9uJyl9IC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3Nfc2VjdGlvbl9oZWFkZXInKX06aG92ZXI6YWZ0ZXIge1xyXG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICR7aWNvbnMuX2NvbG9ycy53aGl0ZX07XHJcbiAgICAgICAgb3BhY2l0eTogLjE7XHJcbiAgICB9XHJcblxyXG4gICAgLyog0JfQsNCz0L7Qu9C+0LLQvtC6INGB0LXQutGG0LjQuCDQvdCw0YHRgtGA0L7QtdC6ICovXHJcbiAgICAjJHtzZWwucGhvdG9Eb3dubG9hZF9pZH0gLiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19zZWN0aW9uX2hlYWRlcicpfSB7XHJcbiAgICAgICAgcG9zaXRpb246IHJlbGF0aXZlO1xyXG4gICAgICAgIGN1cnNvcjogZGVmYXVsdDtcclxuICAgICAgICBmb250LXdlaWdodDogYm9sZDtcclxuICAgICAgICBtaW4taGVpZ2h0OiAzMHB4O1xyXG4gICAgICAgIGRpc3BsYXk6IGZsZXg7XHJcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcclxuICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xyXG4gICAgICAgIHRyYW5zaXRpb246IGNvbG9yICR7dGltaW5ncy5maWxsfW1zIGVhc2Utb3V0ICFpbXBvcnRhbnQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyog0KfQtdGA0YLQsCDQv9C+0LQg0LfQsNC60L7Qu9C+0LLQutC+0Lwg0YHQtdC60YbQuNC4INC90LDRgdGC0YDQvtC10LogKi9cclxuICAgIC4ke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3Nfc2VjdGlvbl9oZWFkZXInKX06YWZ0ZXIge1xyXG4gICAgICAgIGNvbnRlbnQ6ICcnO1xyXG4gICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgICAgICBib3R0b206IDA7XHJcbiAgICAgICAgbGVmdDogNTAlO1xyXG4gICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcclxuICAgICAgICB3aWR0aDogY2FsYygxMDAlIC0gMHB4KTtcclxuICAgICAgICBoZWlnaHQ6IDFweDtcclxuICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAke2ljb25zLl9jb2xvcnMud2hpdGV9O1xyXG4gICAgICAgIG9wYWNpdHk6IC4xO1xyXG4gICAgfVxyXG5cclxuICAgIGA7XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBmdW5jdGlvbihzZWwsIHRpbWluZ3MsIGljb25zKSB7XHJcblxyXG4gICAgcmV0dXJuIC8qIGh0bWwgKi8gYFxyXG4gICAgPGRpdiBjbGFzcz1cIiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc193cmFwJyl9XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIiR7c2VsLmdldCgnc2V0dC5zZXR0aW5ncycpfVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2Nsb3NlX2ljbycpfVwiPjwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19ib2R5Jyl9XCI+XHJcblxyXG4gICAgICAgICAgICAgICAgPCEtLSDQoNC10LbQuNC8INC60LvQuNC60LAgLS0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX3NlY3Rpb24nKX1cIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCIke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3Nfc2VjdGlvbl9oZWFkZXInKX1cIj7QoNC10LbQuNC8INC60LvQuNC60LA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgPHVsIGNsYXNzPVwiJHtzZWwuZ2V0KCdzZXR0LmRvd25sb2FkX21vZGUnKX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW0nKX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBpZD1cIiR7c2VsLmRvd25sb2FkX21vZGVfdHJ1ZX1cIiBuYW1lPVwiZG93bmxvYWRfbW9kZVwiIHZhbHVlPVwidHJ1ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGZvcj1cIiR7c2VsLmRvd25sb2FkX21vZGVfdHJ1ZX1cIiBjbGFzcz1cIiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19pdGVtX2FjdGlvbicpfVwiPtCh0LrQsNGH0LDRgtGMPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW0nKX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBpZD1cIiR7c2VsLmRvd25sb2FkX21vZGVfZmFsc2V9XCIgbmFtZT1cImRvd25sb2FkX21vZGVcIiB2YWx1ZT1cImZhbHNlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiJHtzZWwuZG93bmxvYWRfbW9kZV9mYWxzZX1cIiBjbGFzcz1cIiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19pdGVtX2FjdGlvbicpfVwiPtCSINC90L7QstC+0Lkg0LLQutC70LDQtNC60LU8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgPCEtLSDQoNCw0LfQvNC10YAg0LjQt9C+0LHRgNCw0LbQtdC90LjRjyAtLT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCIke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3Nfc2VjdGlvbicpfVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19zZWN0aW9uX2hlYWRlcicpfVwiPtCg0LDQt9C80LXRgCDQuNC30L7QsdGA0LDQttC10L3QuNGPPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cIiR7c2VsLmdldCgnc2V0dC5zaXplX21vZGUnKX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW0nKX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cIiR7c2VsLnNpemVfbW9kZV9jb250cm9sfVwiIG5hbWU9XCJzaXplX21vZGVcIiB2YWx1ZT1cInRydWVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCIke3NlbC5zaXplX21vZGVfY29udHJvbH1cIiBjbGFzcz1cIiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19pdGVtX2FjdGlvbicpfVwiPtCf0L7QutCw0LfRi9Cy0LDRgtGMPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cclxuICAgICAgICAgICAgICAgICAgICA8L3VsPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPCEtLSDQntGC0LzQtdGH0LDRgtGMINGB0LrQsNGH0LXQvdC90YvQtSAtLT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCIke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3Nfc2VjdGlvbicpfVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19zZWN0aW9uX2hlYWRlcicpfVwiPtCe0YLQvNC10YfQsNGC0Ywg0YHQutCw0YfQtdC90L3Ri9C1PC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cIiR7c2VsLmdldCgnc2V0dC5sb2FkZWRfdXJsc19tb2RlJyl9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cIiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19pdGVtJyl9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgaWQ9XCIke3NlbC5sb2FkZWRfdXJsc19tb2RlX2NvbnRyb2x9XCIgbmFtZT1cImxvYWRlZF91cmxzX21vZGVcIiB2YWx1ZT1cInRydWVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBmb3I9XCIke3NlbC5sb2FkZWRfdXJsc19tb2RlX2NvbnRyb2x9XCIgY2xhc3M9XCIke3NlbC5nZXQoJ3NldHQuc2V0dGluZ3NfaXRlbV9hY3Rpb24nKX1cIj7Ql9Cw0L/QvtC80LjQvdCw0YLRjCBVUkw8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwiJHtzZWwuZ2V0KCdzZXR0LnNldHRpbmdzX2l0ZW0nKX1cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0gZGlzYWJsZWQgY2hlY2tlZCAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBpZD1cIiR7c2VsLmxvYWRlZF91cmxzX21vZGVfa2V5X2NvbnRyb2x9XCIgbmFtZT1cImxvYWRlZF91cmxzX21vZGVfa2V5XCIgdmFsdWU9XCJ0cnVlXCIgZGlzYWJsZWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgZm9yPVwiJHtzZWwubG9hZGVkX3VybHNfbW9kZV9rZXlfY29udHJvbH1cIiBjbGFzcz1cIiR7c2VsLmdldCgnc2V0dC5zZXR0aW5nc19pdGVtX2FjdGlvbicpfVwiPisg0LrQu9C40LrQuCDQn9Ca0Jw8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2xpPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvdWw+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG5cclxuICAgIDwvZGl2PlxyXG5cclxuICAgIDxhIGNsYXNzPVwiJHtzZWwuZ2V0KCdidG4uYnRuJyl9XCIgaHJlZj1cIiMhXCIgdGFyZ2V0PVwiX2JsYW5rXCIgZHJhZ2dhYmxlPVwiZmFsc2VcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiJHtzZWwuZ2V0KCdidG4uaWNvbicpfVwiPlxyXG4gICAgICAgICAgICAke2ljb25zLmdldCgnZ3JlZW4nLCAnY29nJywgZmFsc2UpfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCIke3NlbC5nZXQoJ2J0bi5tYWluX3RpdGxlX3dyYXAnKX1cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIiR7c2VsLmdldCgnYnRuLm1haW5fdGl0bGVfaW5uZXInKX1cIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCIke3NlbC5nZXQoJ2J0bi5zaXplJyl9XCI+PC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiJHtzZWwuZ2V0KCdidG4uc2V0dGluZ3NfdGl0bGUnKX1cIj7QndCw0YHRgtGA0L7QudC60Lg8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2E+XHJcbiAgICBgO1xyXG59IiwiaW1wb3J0IHRlbXBsYXRlX2h0bWwgZnJvbSAnLi90ZW1wbGF0ZS1odG1sJztcclxuaW1wb3J0IHRlbXBsYXRlX2NzcyBmcm9tICcuL3RlbXBsYXRlLWNzcyc7XHJcblxyXG4vLyDQmtC70LDRgdGBINC00LvRjyDRiNCw0LHQu9C+0L3QuNC30LDRhtC40Lgg0LLQtdGA0YHRgtC60Lgg0LrQvdC+0L/QutC4INC4INC10LUg0YHRgtC40LvQtdC5XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBob3RvRG93bmxvYWRUZW1wbGF0ZXMge1xyXG4gICAgY29uc3RydWN0b3IocGFyYW1zID0ge30pIHtcclxuICAgICAgICAgICAgLy8g0J/QtdGA0LXQtNCw0L3QvdGL0Lkg0L7QsdGK0LXQutGCINGB0LXQu9C10LrRgtC+0YDQvtCyXHJcbiAgICAgICAgICAgIHRoaXMuc2VsID0gcGFyYW1zLnNlbGVjdG9ycztcclxuXHJcbiAgICAgICAgICAgIC8vINCf0LXRgNC10LTQsNC90L3Ri9C5INC+0LHRitC10LrRgiDRgtCw0LnQvNC40L3Qs9C+0LJcclxuICAgICAgICAgICAgdGhpcy50aW1pbmdzID0gcGFyYW1zLnRpbWluZ3M7XHJcblxyXG4gICAgICAgICAgICAvLyDQntCx0YrQtdC60YIsINCz0LXQvdC10YDQuNGA0YPRjtGJ0LjQuSDRgNCw0LfQvdC+0YbQstC10YLQvdGL0LUg0LjQutC+0L3QutC4XHJcbiAgICAgICAgICAgIHRoaXMuaWNvbnMgPSB7XHJcbiAgICAgICAgICAgICAgICBfY29sb3JzOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgZ3JlZW46ICcjMDBCNzVBJyxcclxuICAgICAgICAgICAgICAgICAgICByZWQ6ICcjRjkyNjcyJyxcclxuICAgICAgICAgICAgICAgICAgICB3aGl0ZTogJyNGRkZGRkYnLFxyXG4gICAgICAgICAgICAgICAgICAgIHllbGxvdzogJyNGRkMwMDAnLFxyXG4gICAgICAgICAgICAgICAgICAgIGJsYWNrOiAnIzAwMDAwMCcsXHJcbiAgICAgICAgICAgICAgICAgICAgZ3JleTogJyNDM0NGRTAnLFxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIF9wcmVmaXg6ICdkYXRhOmltYWdlL3N2Zyt4bWw7Y2hhcnNldD11dGYtOCwnLFxyXG4gICAgICAgICAgICAgICAgX3RlbXBsYXRlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogaHRtbCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGFycm93OiBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCIxNlwiIGhlaWdodD1cIjE2XCIgdmVyc2lvbj1cIjEuMVwiIHZpZXdCb3g9XCIwIDAgMTYgMTZcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsPVwie3tjb2xvcn19XCIgZD1cIk0gNCwwIDQsOCAwLDggOCwxNiAxNiw4IDEyLDggMTIsMCA0LDAgelwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPmAsXHJcbiAgICAgICAgICAgICAgICAgICAgLyogaHRtbCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIG9rOiBgPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgd2lkdGg9XCI1MTJcIiBoZWlnaHQ9XCI1MTJcIiB2ZXJzaW9uPVwiMS4xXCIgdmlld2JveD1cIjAgMCA1MTIgNTEyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsPVwie3tjb2xvcn19XCIgZD1cIk0xNzMuODk4IDQzOS40MDRsLTE2Ni40LTE2Ni40Yy05Ljk5Ny05Ljk5Ny05Ljk5Ny0yNi4yMDYgMC0zNi4yMDRsMzYuMjAzLTM2LjIwNGM5Ljk5Ny05Ljk5OCAyNi4yMDctOS45OTggMzYuMjA0IDBMMTkyIDMxMi42OSA0MzIuMDk1IDcyLjU5NmM5Ljk5Ny05Ljk5NyAyNi4yMDctOS45OTcgMzYuMjA0IDBsMzYuMjAzIDM2LjIwNGM5Ljk5NyA5Ljk5NyA5Ljk5NyAyNi4yMDYgMCAzNi4yMDRsLTI5NC40IDI5NC40MDFjLTkuOTk4IDkuOTk3LTI2LjIwNyA5Ljk5Ny0zNi4yMDQtLjAwMXpcIj48L3BhdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPmAsXHJcbiAgICAgICAgICAgICAgICAgICAgLyogaHRtbCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGNvZzogYDxzdmcgY2xhc3M9XCJjb2dcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCA0MzUuMjkxNTEgNDU2LjQ2MTI3XCIgdmVyc2lvbj1cIjEuMVwiIHdpZHRoPVwiNDM1LjI5MTVcIiBoZWlnaHQ9XCI0NTYuNDYxMjdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgtMTU1LjQxNDksNDAuNDc4NTAzKVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwYXRoIGNsYXNzPVwiY29nX3BhdGhcIiBzdHlsZT1cImRpc3BsYXk6aW5saW5lO3N0cm9rZTp7e2NvbG9yfX07c3Ryb2tlLWxpbmVjYXA6cm91bmQ7c3Ryb2tlLWxpbmVqb2luOnJvdW5kO3N0cm9rZS1taXRlcmxpbWl0OjQ7c3Ryb2tlLW9wYWNpdHk6MVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGQ9XCJtIDI1OC4xNTI2NCw3MC42MzA0NDcgYyAyNS4yODYzNywtMjIuNTI2NTQ1IDQ4LjYzNzM3LC0zNC40MDg1MjUgNzEuMDM5LC00MS4wNjkgdiAtNTMuNDc4IGMgMzAuNDE4NzYsLTUuODYzODA2IDU5LjQ4NTYzLC00Ljk2ODE0MSA4Ny43MzgsMCB2IDUzLjQ3OSBjIDI4LjgwMzgsOC41NjU1MzUgNTEuNjE5NjMsMjMuMTE5MDQ1IDcxLjAzOSw0MS4wNjkgbCA0Ni4zMDksLTI2Ljc1OTk5NSBjIDIxLjg2MjQyLDIzLjc4Mzc1NSAzNS4wNDg1Niw0OS4yOTM0NjUgNDMuOTI5LDc1Ljk2ODk5OCBsIC00Ni4zMjksMjYuNzQgYyA2LjUwODc1LDI3LjM1OTY3IDYuNTA4Miw1NC43MTkzMyAwLDgyLjA3OSBsIDQ2LjMyOSwyNi43NCBjIC04Ljk5NDU4LDI4LjcwODA1IC0yNC4wOTA4OCw1My43NTUwNyAtNDMuOTI5LDc1Ljk1NyBsIC00Ni4zMDksLTI2Ljc0IGMgLTIyLjA2MjY4LDIwLjk2MjggLTQ2LjA5MjY4LDMzLjA3MjYgLTcxLjAzOSw0MS4wNTkgdiA1My40NzkgYyAtMzEuNTkxNTIsNi4yNTQ3MyAtNjAuNDc5MjYsNS4yOTkzNSAtODcuNzM4LDAgdiAtNTMuNDc5IGMgLTI1LjQ2MDUsLTcuNjMxNDggLTQ5LjE5NDE1LC0yMS4xMzQyOSAtNzEuMDM5LC00MS4wNTkgbCAtNDYuMzA5LDI2Ljc0IGMgLTIwLjE4NDI4LC0yMS43NTcwOCAtMzMuODQ5MDksLTQ3LjcwNTI1IC00My45MjksLTc1Ljk1OCBsIDQ2LjMyOSwtMjYuNzQgYyAtNy4xOTk0NywtMzAuOTU5NCAtNS43ODQ5NiwtNTcuNjExODEgMCwtODIuMDc5IGwgLTQ2LjMyOSwtMjYuNzQgYyAxMC4zOTE1NywtMzAuNzMzOTEzIDI1LjU5MDc1LC01NS4zNDkwNTMgNDMuOTI5LC03NS45Njg5OTggelwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgtMi4zMTUzMjE4ZS02KVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxnIHRyYW5zZm9ybT1cInRyYW5zbGF0ZSgtOS45OTk3ODgzLC05Ljk5NDk0MTgpXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxjaXJjbGUgY2xhc3M9XCJjb2dfY2lyY2xlXCIgY3g9XCIyMjcuNjQ1NTRcIiBjeT1cIjIzOC4yMjU1OVwiIHI9XCI3OC4zMjQ5ODJcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU9XCJzdHJva2U6e3tjb2xvcn19O3N0cm9rZS1saW5lY2FwOnJvdW5kO3N0cm9rZS1saW5lam9pbjpyb3VuZDtzdHJva2UtbWl0ZXJsaW1pdDo0O3N0cm9rZS1kYXNoYXJyYXk6bm9uZTtzdHJva2Utb3BhY2l0eToxXCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+YCxcclxuICAgICAgICAgICAgICAgICAgICAvKiBodG1sICovXHJcbiAgICAgICAgICAgICAgICAgICAgY2lyY2xlOiBgPHN2ZyB2aWV3Qm94PVwiMCAwIDUxMiA1MTJcIiB3aWR0aD1cIjUxMlwiIGhlaWdodD1cIjUxMlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsPVwie3tjb2xvcn19XCIgZD1cIk0yNTYgOEMxMTkgOCA4IDExOSA4IDI1NnMxMTEgMjQ4IDI0OCAyNDggMjQ4LTExMSAyNDgtMjQ4UzM5MyA4IDI1NiA4em0wIDQ0OGMtMTEwLjUgMC0yMDAtODkuNS0yMDAtMjAwUzE0NS41IDU2IDI1NiA1NnMyMDAgODkuNSAyMDAgMjAwLTg5LjUgMjAwLTIwMCAyMDB6XCI+PC9wYXRoPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+YCxcclxuICAgICAgICAgICAgICAgICAgICAvKiBodG1sICovXHJcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tfY2lyY2xlOiBgPHN2ZyB2aWV3Qm94PVwiMCAwIDUxMiA1MTJcIiB3aWR0aD1cIjUxMlwiIGhlaWdodD1cIjUxMlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHBhdGggZmlsbD1cInt7Y29sb3J9fVwiIGQ9XCJNNTA0IDI1NmMwIDEzNi45NjctMTExLjAzMyAyNDgtMjQ4IDI0OFM4IDM5Mi45NjcgOCAyNTYgMTE5LjAzMyA4IDI1NiA4czI0OCAxMTEuMDMzIDI0OCAyNDh6TTIyNy4zMTQgMzg3LjMxNGwxODQtMTg0YzYuMjQ4LTYuMjQ4IDYuMjQ4LTE2LjM3OSAwLTIyLjYyN2wtMjIuNjI3LTIyLjYyN2MtNi4yNDgtNi4yNDktMTYuMzc5LTYuMjQ5LTIyLjYyOCAwTDIxNiAzMDguMTE4bC03MC4wNTktNzAuMDU5Yy02LjI0OC02LjI0OC0xNi4zNzktNi4yNDgtMjIuNjI4IDBsLTIyLjYyNyAyMi42MjdjLTYuMjQ4IDYuMjQ4LTYuMjQ4IDE2LjM3OSAwIDIyLjYyN2wxMDQgMTA0YzYuMjQ5IDYuMjQ5IDE2LjM3OSA2LjI0OSAyMi42MjguMDAxelwiPjwvcGF0aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3N2Zz5gLFxyXG4gICAgICAgICAgICAgICAgICAgIC8qIGh0bWwgKi9cclxuICAgICAgICAgICAgICAgICAgICBzcXVhcmU6IGA8c3ZnIHZpZXdCb3g9XCIwIDAgNDQ4IDUxMlwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsPVwie3tjb2xvcn19XCIgZD1cIk00MDAgMzJINDhDMjEuNSAzMiAwIDUzLjUgMCA4MHYzNTJjMCAyNi41IDIxLjUgNDggNDggNDhoMzUyYzI2LjUgMCA0OC0yMS41IDQ4LTQ4VjgwYzAtMjYuNS0yMS41LTQ4LTQ4LTQ4em0tNiA0MDBINTRjLTMuMyAwLTYtMi43LTYtNlY4NmMwLTMuMyAyLjctNiA2LTZoMzQwYzMuMyAwIDYgMi43IDYgNnYzNDBjMCAzLjMtMi43IDYtNiA2elwiPjwvcGF0aD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3ZnPmAsXHJcbiAgICAgICAgICAgICAgICAgICAgLyogaHRtbCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGNoZWNrX3NxdWFyZTogYDxzdmcgdmlld0JveD1cIjAgMCA0NDggNTEyXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsPVwie3tjb2xvcn19XCIgZD1cIk00MDAgNDgwSDQ4Yy0yNi41MSAwLTQ4LTIxLjQ5LTQ4LTQ4VjgwYzAtMjYuNTEgMjEuNDktNDggNDgtNDhoMzUyYzI2LjUxIDAgNDggMjEuNDkgNDggNDh2MzUyYzAgMjYuNTEtMjEuNDkgNDgtNDggNDh6bS0yMDQuNjg2LTk4LjA1OWwxODQtMTg0YzYuMjQ4LTYuMjQ4IDYuMjQ4LTE2LjM3OSAwLTIyLjYyN2wtMjIuNjI3LTIyLjYyN2MtNi4yNDgtNi4yNDgtMTYuMzc5LTYuMjQ5LTIyLjYyOCAwTDE4NCAzMDIuNzQ1bC03MC4wNTktNzAuMDU5Yy02LjI0OC02LjI0OC0xNi4zNzktNi4yNDgtMjIuNjI4IDBsLTIyLjYyNyAyMi42MjdjLTYuMjQ4IDYuMjQ4LTYuMjQ4IDE2LjM3OSAwIDIyLjYyN2wxMDQgMTA0YzYuMjQ5IDYuMjUgMTYuMzc5IDYuMjUgMjIuNjI4LjAwMXpcIj48L3BhdGg+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zdmc+YCxcclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBfdGVtcCh0ZW1wbGF0ZSwgY29sb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgX3RlbXBsYXRlID0gdGhpcy5fdGVtcGxhdGVbdGVtcGxhdGVdID8gdGhpcy5fdGVtcGxhdGVbdGVtcGxhdGVdIDogdGhpcy5fdGVtcGxhdGUuYXJyb3c7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90ZW1wbGF0ZS5yZXBsYWNlKC9cXHtcXHsuKlxcfVxcfS9nbSwgY29sb3IgPyBjb2xvciA6ICd3aGl0ZScpO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGdldChjb2xvciwgdGVtcGxhdGUsIHVybCA9IHRydWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgX2NvbG9yID0gdGhpcy5fY29sb3JzW2NvbG9yXSA/IHRoaXMuX2NvbG9yc1tjb2xvcl0gOiBjb2xvcjtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgc3ZnID0gdGhpcy5fdGVtcCh0ZW1wbGF0ZSwgX2NvbG9yKS5yZXBsYWNlKC9bXFxzXXsyLH0vZ20sICcgJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHVybCA/IHRoaXMuX3ByZWZpeCArIGVuY29kZVVSSUNvbXBvbmVudChzdmcpIDogc3ZnO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH0gLy8gY29uc3RydWN0b3JcclxuXHJcblxyXG4gICAgc2V0TG9hZGVkVXJsKHdyYXAsIHNldHRpbmdfYWN0aXZlLCBjaGVjaykge1xyXG4gICAgICAgIGlmICghd3JhcCkgcmV0dXJuIG51bGw7XHJcblxyXG4gICAgICAgIGxldCBidG4gPSB3cmFwLnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5zZWwuZ2V0KCdidG4uYnRuJykpO1xyXG4gICAgICAgIGxldCBpY29uID0gYnRuLnF1ZXJ5U2VsZWN0b3IoJy4nICsgdGhpcy5zZWwuZ2V0KCdidG4uaWNvbicpKTtcclxuXHJcbiAgICAgICAgaWYgKHNldHRpbmdfYWN0aXZlICYmIGNoZWNrKSB7XHJcbiAgICAgICAgICAgIGJ0bi5jbGFzc0xpc3QuYWRkKHRoaXMuc2VsLmdldCgnbG9hZGVkX3VybHNfYWN0aXZlJykpO1xyXG4gICAgICAgICAgICBpY29uLnRpdGxlID0gJ9Ct0YLQviDQuNC30L7QsdGA0LDQttC10L3QuNC1INGD0LbQtSDQsdGL0LvQviDRgdC60LDRh9C10L3QviDRgNCw0L3QtdC1JztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBidG4uY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnNlbC5nZXQoJ2xvYWRlZF91cmxzX2FjdGl2ZScpKTtcclxuICAgICAgICAgICAgaWNvbi50aXRsZSA9ICcnO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyDQnNC10YLQvtC0INC00LvRjyDQvtGC0L7QsdGA0LDQttC10L3QuNGPINGA0LDQt9C80LXRgNC+0LIg0LrQsNGA0YLQuNC90LrQuCDQsiDQutC90L7Qv9C60LVcclxuICAgIHNldFNpemUod3JhcCwgaW1hZ2VfZGF0YSwgbm9uX3NpemUpIHtcclxuICAgICAgICBsZXQgc2l6ZSA9IHdyYXAucXVlcnlTZWxlY3RvcignLicgKyB0aGlzLnNlbC5nZXQoJ2J0bi5zaXplJykpO1xyXG5cclxuICAgICAgICBpZiAoaW1hZ2VfZGF0YS53aWR0aCAmJiBpbWFnZV9kYXRhLmhlaWdodCkge1xyXG4gICAgICAgICAgICBpZiAobm9uX3NpemUpIHtcclxuICAgICAgICAgICAgICAgIHdyYXAuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLnNlbC5ub25fc2l6ZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICB3cmFwLmNsYXNzTGlzdC5hZGQodGhpcy5zZWwubm9uX3NpemUpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBzaXplLnRleHRDb250ZW50ID0gYCR7aW1hZ2VfZGF0YS53aWR0aH14JHtpbWFnZV9kYXRhLmhlaWdodH1gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHdyYXAuY2xhc3NMaXN0LmFkZCh0aGlzLnNlbC5ub25fc2l6ZSk7XHJcbiAgICAgICAgICAgIHNpemUudGV4dENvbnRlbnQgPSAnJztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JzQtdGC0L7QtCDRgdC+0LfQtNCw0L3QuNGPINC60L7QvdGC0LXQudC90LXRgNCwINGBINC60L3QvtC/0LrQvtC5XHJcbiAgICBjcmVhdGVEb3dubG9hZENvbnRhaW5lcihwYXJlbnQpIHtcclxuICAgICAgICBsZXQgd3JhcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xyXG4gICAgICAgIHdyYXAuaWQgPSB0aGlzLnNlbC5waG90b0Rvd25sb2FkX2lkO1xyXG5cclxuICAgICAgICAvLyDQl9Cw0L/QvtC70L3QtdC90LjQtSDQutC+0L3RgtC10LnQvdC10YDQsCDQstC90YPRgtGA0LXQvdC90LjQvNC4INGN0LvQtdC80LXQvdGC0LDQvNC4XHJcbiAgICAgICAgd3JhcC5pbm5lckhUTUwgPSB0aGlzLmdldElubmVyRWxlbXMoKTtcclxuXHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHdyYXAuY2xhc3NMaXN0LmFkZCh0aGlzLnNlbC5yZWFkeSk7XHJcbiAgICAgICAgfSwgMCk7XHJcblxyXG4gICAgICAgIHBhcmVudC5hcHBlbmRDaGlsZCh3cmFwKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHdyYXA7XHJcbiAgICB9XHJcblxyXG4gICAgLy8g0JzQtdGC0L7QtCDQtNC+0LHQsNCy0LvQtdC90LjRjyDQvdCwINGB0YLRgNCw0L3QuNGG0YMg0YHRgtC40LvQtdC5LCDQvdC10L7QsdGF0L7QtNC40LzRi9GFINC00LvRjyDRgNCw0LHQvtGC0YsgUGhvdG9Eb3dubG9hZFxyXG4gICAgaW5qZWN0Q1NTKCkge1xyXG4gICAgICAgIGxldCBzdHlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3N0eWxlJyk7XHJcbiAgICAgICAgc3R5bGUuaWQgPSB0aGlzLnNlbC5zdHlsZV9pZDtcclxuICAgICAgICBzdHlsZS50ZXh0Q29udGVudCA9IHRoaXMuZ2V0U3R5bGVDb250ZW50KCk7XHJcblxyXG4gICAgICAgIGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vINCc0LXRgtC+0LQsINCz0LXQvdC10YDQuNGA0YPRjtGJ0LjQuSDQstC10YDRgdGC0LrRgyDRgdCw0LzQvtC5INC60L3QvtC/0LrQuFxyXG4gICAgZ2V0SW5uZXJFbGVtcygpIHtcclxuICAgICAgICByZXR1cm4gdGVtcGxhdGVfaHRtbCh0aGlzLnNlbCwgdGhpcy50aW1pbmdzLCB0aGlzLmljb25zKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDQnNC10YLQvtC0LCDRiNCw0LHQu9C+0L3QuNC30LjRgNGD0Y7RidC40Lkg0YHRgtC40LvQuCDQutC90L7Qv9C60LhcclxuICAgIGdldFN0eWxlQ29udGVudCgpIHtcclxuICAgICAgICByZXR1cm4gdGVtcGxhdGVfY3NzKHRoaXMuc2VsLCB0aGlzLnRpbWluZ3MsIHRoaXMuaWNvbnMpO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBob3RvRG93bmxvYWQgZnJvbSAnLi9tb2R1bGVzL3Bob3RvLWRvd25sb2FkJztcclxuXHJcblxyXG53aW5kb3cucGhvdG9Eb3dubG9hZCA9IG5ldyBQaG90b0Rvd25sb2FkKHtcclxuICAgIGRvd25sb2FkOiB0cnVlXHJcbn0pOyIsIi8vZG93bmxvYWQuanMgdjQuMiwgYnkgZGFuZGF2aXM7IDIwMDgtMjAxNi4gW01JVF0gc2VlIGh0dHA6Ly9kYW5tbC5jb20vZG93bmxvYWQuaHRtbCBmb3IgdGVzdHMvdXNhZ2Vcbi8vIHYxIGxhbmRlZCBhIEZGK0Nocm9tZSBjb21wYXQgd2F5IG9mIGRvd25sb2FkaW5nIHN0cmluZ3MgdG8gbG9jYWwgdW4tbmFtZWQgZmlsZXMsIHVwZ3JhZGVkIHRvIHVzZSBhIGhpZGRlbiBmcmFtZSBhbmQgb3B0aW9uYWwgbWltZVxuLy8gdjIgYWRkZWQgbmFtZWQgZmlsZXMgdmlhIGFbZG93bmxvYWRdLCBtc1NhdmVCbG9iLCBJRSAoMTArKSBzdXBwb3J0LCBhbmQgd2luZG93LlVSTCBzdXBwb3J0IGZvciBsYXJnZXIrZmFzdGVyIHNhdmVzIHRoYW4gZGF0YVVSTHNcbi8vIHYzIGFkZGVkIGRhdGFVUkwgYW5kIEJsb2IgSW5wdXQsIGJpbmQtdG9nZ2xlIGFyaXR5LCBhbmQgbGVnYWN5IGRhdGFVUkwgZmFsbGJhY2sgd2FzIGltcHJvdmVkIHdpdGggZm9yY2UtZG93bmxvYWQgbWltZSBhbmQgYmFzZTY0IHN1cHBvcnQuIDMuMSBpbXByb3ZlZCBzYWZhcmkgaGFuZGxpbmcuXG4vLyB2NCBhZGRzIEFNRC9VTUQsIGNvbW1vbkpTLCBhbmQgcGxhaW4gYnJvd3NlciBzdXBwb3J0XG4vLyB2NC4xIGFkZHMgdXJsIGRvd25sb2FkIGNhcGFiaWxpdHkgdmlhIHNvbG8gVVJMIGFyZ3VtZW50IChzYW1lIGRvbWFpbi9DT1JTIG9ubHkpXG4vLyB2NC4yIGFkZHMgc2VtYW50aWMgdmFyaWFibGUgbmFtZXMsIGxvbmcgKG92ZXIgMk1CKSBkYXRhVVJMIHN1cHBvcnQsIGFuZCBoaWRkZW4gYnkgZGVmYXVsdCB0ZW1wIGFuY2hvcnNcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9ybmRtZS9kb3dubG9hZFxuXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3RvcnkpIHtcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuXHRcdC8vIEFNRC4gUmVnaXN0ZXIgYXMgYW4gYW5vbnltb3VzIG1vZHVsZS5cblx0XHRkZWZpbmUoW10sIGZhY3RvcnkpO1xuXHR9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuXHRcdC8vIE5vZGUuIERvZXMgbm90IHdvcmsgd2l0aCBzdHJpY3QgQ29tbW9uSlMsIGJ1dFxuXHRcdC8vIG9ubHkgQ29tbW9uSlMtbGlrZSBlbnZpcm9ubWVudHMgdGhhdCBzdXBwb3J0IG1vZHVsZS5leHBvcnRzLFxuXHRcdC8vIGxpa2UgTm9kZS5cblx0XHRtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcblx0fSBlbHNlIHtcblx0XHQvLyBCcm93c2VyIGdsb2JhbHMgKHJvb3QgaXMgd2luZG93KVxuXHRcdHJvb3QuZG93bmxvYWQgPSBmYWN0b3J5KCk7XG4gIH1cbn0odGhpcywgZnVuY3Rpb24gKCkge1xuXG5cdHJldHVybiBmdW5jdGlvbiBkb3dubG9hZChkYXRhLCBzdHJGaWxlTmFtZSwgc3RyTWltZVR5cGUpIHtcblxuXHRcdHZhciBzZWxmID0gd2luZG93LCAvLyB0aGlzIHNjcmlwdCBpcyBvbmx5IGZvciBicm93c2VycyBhbnl3YXkuLi5cblx0XHRcdGRlZmF1bHRNaW1lID0gXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIiwgLy8gdGhpcyBkZWZhdWx0IG1pbWUgYWxzbyB0cmlnZ2VycyBpZnJhbWUgZG93bmxvYWRzXG5cdFx0XHRtaW1lVHlwZSA9IHN0ck1pbWVUeXBlIHx8IGRlZmF1bHRNaW1lLFxuXHRcdFx0cGF5bG9hZCA9IGRhdGEsXG5cdFx0XHR1cmwgPSAhc3RyRmlsZU5hbWUgJiYgIXN0ck1pbWVUeXBlICYmIHBheWxvYWQsXG5cdFx0XHRhbmNob3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYVwiKSxcblx0XHRcdHRvU3RyaW5nID0gZnVuY3Rpb24oYSl7cmV0dXJuIFN0cmluZyhhKTt9LFxuXHRcdFx0bXlCbG9iID0gKHNlbGYuQmxvYiB8fCBzZWxmLk1vekJsb2IgfHwgc2VsZi5XZWJLaXRCbG9iIHx8IHRvU3RyaW5nKSxcblx0XHRcdGZpbGVOYW1lID0gc3RyRmlsZU5hbWUgfHwgXCJkb3dubG9hZFwiLFxuXHRcdFx0YmxvYixcblx0XHRcdHJlYWRlcjtcblx0XHRcdG15QmxvYj0gbXlCbG9iLmNhbGwgPyBteUJsb2IuYmluZChzZWxmKSA6IEJsb2IgO1xuXHQgIFxuXHRcdGlmKFN0cmluZyh0aGlzKT09PVwidHJ1ZVwiKXsgLy9yZXZlcnNlIGFyZ3VtZW50cywgYWxsb3dpbmcgZG93bmxvYWQuYmluZCh0cnVlLCBcInRleHQveG1sXCIsIFwiZXhwb3J0LnhtbFwiKSB0byBhY3QgYXMgYSBjYWxsYmFja1xuXHRcdFx0cGF5bG9hZD1bcGF5bG9hZCwgbWltZVR5cGVdO1xuXHRcdFx0bWltZVR5cGU9cGF5bG9hZFswXTtcblx0XHRcdHBheWxvYWQ9cGF5bG9hZFsxXTtcblx0XHR9XG5cblxuXHRcdGlmKHVybCAmJiB1cmwubGVuZ3RoPCAyMDQ4KXsgLy8gaWYgbm8gZmlsZW5hbWUgYW5kIG5vIG1pbWUsIGFzc3VtZSBhIHVybCB3YXMgcGFzc2VkIGFzIHRoZSBvbmx5IGFyZ3VtZW50XG5cdFx0XHRmaWxlTmFtZSA9IHVybC5zcGxpdChcIi9cIikucG9wKCkuc3BsaXQoXCI/XCIpWzBdO1xuXHRcdFx0YW5jaG9yLmhyZWYgPSB1cmw7IC8vIGFzc2lnbiBocmVmIHByb3AgdG8gdGVtcCBhbmNob3Jcblx0XHQgIFx0aWYoYW5jaG9yLmhyZWYuaW5kZXhPZih1cmwpICE9PSAtMSl7IC8vIGlmIHRoZSBicm93c2VyIGRldGVybWluZXMgdGhhdCBpdCdzIGEgcG90ZW50aWFsbHkgdmFsaWQgdXJsIHBhdGg6XG4gICAgICAgIFx0XHR2YXIgYWpheD1uZXcgWE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgXHRcdGFqYXgub3BlbiggXCJHRVRcIiwgdXJsLCB0cnVlKTtcbiAgICAgICAgXHRcdGFqYXgucmVzcG9uc2VUeXBlID0gJ2Jsb2InO1xuICAgICAgICBcdFx0YWpheC5vbmxvYWQ9IGZ1bmN0aW9uKGUpeyBcblx0XHRcdFx0ICBkb3dubG9hZChlLnRhcmdldC5yZXNwb25zZSwgZmlsZU5hbWUsIGRlZmF1bHRNaW1lKTtcblx0XHRcdFx0fTtcbiAgICAgICAgXHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgYWpheC5zZW5kKCk7fSwgMCk7IC8vIGFsbG93cyBzZXR0aW5nIGN1c3RvbSBhamF4IGhlYWRlcnMgdXNpbmcgdGhlIHJldHVybjpcblx0XHRcdCAgICByZXR1cm4gYWpheDtcblx0XHRcdH0gLy8gZW5kIGlmIHZhbGlkIHVybD9cblx0XHR9IC8vIGVuZCBpZiB1cmw/XG5cblxuXHRcdC8vZ28gYWhlYWQgYW5kIGRvd25sb2FkIGRhdGFVUkxzIHJpZ2h0IGF3YXlcblx0XHRpZigvXmRhdGE6KFtcXHcrLV0rXFwvW1xcdysuLV0rKT9bLDtdLy50ZXN0KHBheWxvYWQpKXtcblx0XHRcblx0XHRcdGlmKHBheWxvYWQubGVuZ3RoID4gKDEwMjQqMTAyNCoxLjk5OSkgJiYgbXlCbG9iICE9PSB0b1N0cmluZyApe1xuXHRcdFx0XHRwYXlsb2FkPWRhdGFVcmxUb0Jsb2IocGF5bG9hZCk7XG5cdFx0XHRcdG1pbWVUeXBlPXBheWxvYWQudHlwZSB8fCBkZWZhdWx0TWltZTtcblx0XHRcdH1lbHNle1x0XHRcdFxuXHRcdFx0XHRyZXR1cm4gbmF2aWdhdG9yLm1zU2F2ZUJsb2IgPyAgLy8gSUUxMCBjYW4ndCBkbyBhW2Rvd25sb2FkXSwgb25seSBCbG9iczpcblx0XHRcdFx0XHRuYXZpZ2F0b3IubXNTYXZlQmxvYihkYXRhVXJsVG9CbG9iKHBheWxvYWQpLCBmaWxlTmFtZSkgOlxuXHRcdFx0XHRcdHNhdmVyKHBheWxvYWQpIDsgLy8gZXZlcnlvbmUgZWxzZSBjYW4gc2F2ZSBkYXRhVVJMcyB1bi1wcm9jZXNzZWRcblx0XHRcdH1cblx0XHRcdFxuXHRcdH1lbHNley8vbm90IGRhdGEgdXJsLCBpcyBpdCBhIHN0cmluZyB3aXRoIHNwZWNpYWwgbmVlZHM/XG5cdFx0XHRpZigvKFtcXHg4MC1cXHhmZl0pLy50ZXN0KHBheWxvYWQpKXtcdFx0XHQgIFxuXHRcdFx0XHR2YXIgaT0wLCB0ZW1wVWlBcnI9IG5ldyBVaW50OEFycmF5KHBheWxvYWQubGVuZ3RoKSwgbXg9dGVtcFVpQXJyLmxlbmd0aDtcblx0XHRcdFx0Zm9yKGk7aTxteDsrK2kpIHRlbXBVaUFycltpXT0gcGF5bG9hZC5jaGFyQ29kZUF0KGkpO1xuXHRcdFx0IFx0cGF5bG9hZD1uZXcgbXlCbG9iKFt0ZW1wVWlBcnJdLCB7dHlwZTogbWltZVR5cGV9KTtcblx0XHRcdH1cdFx0ICBcblx0XHR9XG5cdFx0YmxvYiA9IHBheWxvYWQgaW5zdGFuY2VvZiBteUJsb2IgP1xuXHRcdFx0cGF5bG9hZCA6XG5cdFx0XHRuZXcgbXlCbG9iKFtwYXlsb2FkXSwge3R5cGU6IG1pbWVUeXBlfSkgO1xuXG5cblx0XHRmdW5jdGlvbiBkYXRhVXJsVG9CbG9iKHN0clVybCkge1xuXHRcdFx0dmFyIHBhcnRzPSBzdHJVcmwuc3BsaXQoL1s6OyxdLyksXG5cdFx0XHR0eXBlPSBwYXJ0c1sxXSxcblx0XHRcdGRlY29kZXI9IHBhcnRzWzJdID09IFwiYmFzZTY0XCIgPyBhdG9iIDogZGVjb2RlVVJJQ29tcG9uZW50LFxuXHRcdFx0YmluRGF0YT0gZGVjb2RlciggcGFydHMucG9wKCkgKSxcblx0XHRcdG14PSBiaW5EYXRhLmxlbmd0aCxcblx0XHRcdGk9IDAsXG5cdFx0XHR1aUFycj0gbmV3IFVpbnQ4QXJyYXkobXgpO1xuXG5cdFx0XHRmb3IoaTtpPG14OysraSkgdWlBcnJbaV09IGJpbkRhdGEuY2hhckNvZGVBdChpKTtcblxuXHRcdFx0cmV0dXJuIG5ldyBteUJsb2IoW3VpQXJyXSwge3R5cGU6IHR5cGV9KTtcblx0XHQgfVxuXG5cdFx0ZnVuY3Rpb24gc2F2ZXIodXJsLCB3aW5Nb2RlKXtcblxuXHRcdFx0aWYgKCdkb3dubG9hZCcgaW4gYW5jaG9yKSB7IC8vaHRtbDUgQVtkb3dubG9hZF1cblx0XHRcdFx0YW5jaG9yLmhyZWYgPSB1cmw7XG5cdFx0XHRcdGFuY2hvci5zZXRBdHRyaWJ1dGUoXCJkb3dubG9hZFwiLCBmaWxlTmFtZSk7XG5cdFx0XHRcdGFuY2hvci5jbGFzc05hbWUgPSBcImRvd25sb2FkLWpzLWxpbmtcIjtcblx0XHRcdFx0YW5jaG9yLmlubmVySFRNTCA9IFwiZG93bmxvYWRpbmcuLi5cIjtcblx0XHRcdFx0YW5jaG9yLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblx0XHRcdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChhbmNob3IpO1xuXHRcdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdGFuY2hvci5jbGljaygpO1xuXHRcdFx0XHRcdGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoYW5jaG9yKTtcblx0XHRcdFx0XHRpZih3aW5Nb2RlPT09dHJ1ZSl7c2V0VGltZW91dChmdW5jdGlvbigpeyBzZWxmLlVSTC5yZXZva2VPYmplY3RVUkwoYW5jaG9yLmhyZWYpO30sIDI1MCApO31cblx0XHRcdFx0fSwgNjYpO1xuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRcdH1cblxuXHRcdFx0Ly8gaGFuZGxlIG5vbi1hW2Rvd25sb2FkXSBzYWZhcmkgYXMgYmVzdCB3ZSBjYW46XG5cdFx0XHRpZigvKFZlcnNpb24pXFwvKFxcZCspXFwuKFxcZCspKD86XFwuKFxcZCspKT8uKlNhZmFyaVxcLy8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuXHRcdFx0XHRpZigvXmRhdGE6Ly50ZXN0KHVybCkpXHR1cmw9XCJkYXRhOlwiK3VybC5yZXBsYWNlKC9eZGF0YTooW1xcd1xcL1xcLVxcK10rKS8sIGRlZmF1bHRNaW1lKTtcblx0XHRcdFx0aWYoIXdpbmRvdy5vcGVuKHVybCkpeyAvLyBwb3B1cCBibG9ja2VkLCBvZmZlciBkaXJlY3QgZG93bmxvYWQ6XG5cdFx0XHRcdFx0aWYoY29uZmlybShcIkRpc3BsYXlpbmcgTmV3IERvY3VtZW50XFxuXFxuVXNlIFNhdmUgQXMuLi4gdG8gZG93bmxvYWQsIHRoZW4gY2xpY2sgYmFjayB0byByZXR1cm4gdG8gdGhpcyBwYWdlLlwiKSl7IGxvY2F0aW9uLmhyZWY9dXJsOyB9XG5cdFx0XHRcdH1cblx0XHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0XHR9XG5cblx0XHRcdC8vZG8gaWZyYW1lIGRhdGFVUkwgZG93bmxvYWQgKG9sZCBjaCtGRik6XG5cdFx0XHR2YXIgZiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpZnJhbWVcIik7XG5cdFx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGYpO1xuXG5cdFx0XHRpZighd2luTW9kZSAmJiAvXmRhdGE6Ly50ZXN0KHVybCkpeyAvLyBmb3JjZSBhIG1pbWUgdGhhdCB3aWxsIGRvd25sb2FkOlxuXHRcdFx0XHR1cmw9XCJkYXRhOlwiK3VybC5yZXBsYWNlKC9eZGF0YTooW1xcd1xcL1xcLVxcK10rKS8sIGRlZmF1bHRNaW1lKTtcblx0XHRcdH1cblx0XHRcdGYuc3JjPXVybDtcblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXsgZG9jdW1lbnQuYm9keS5yZW1vdmVDaGlsZChmKTsgfSwgMzMzKTtcblxuXHRcdH0vL2VuZCBzYXZlclxuXG5cblxuXG5cdFx0aWYgKG5hdmlnYXRvci5tc1NhdmVCbG9iKSB7IC8vIElFMTArIDogKGhhcyBCbG9iLCBidXQgbm90IGFbZG93bmxvYWRdIG9yIFVSTClcblx0XHRcdHJldHVybiBuYXZpZ2F0b3IubXNTYXZlQmxvYihibG9iLCBmaWxlTmFtZSk7XG5cdFx0fVxuXG5cdFx0aWYoc2VsZi5VUkwpeyAvLyBzaW1wbGUgZmFzdCBhbmQgbW9kZXJuIHdheSB1c2luZyBCbG9iIGFuZCBVUkw6XG5cdFx0XHRzYXZlcihzZWxmLlVSTC5jcmVhdGVPYmplY3RVUkwoYmxvYiksIHRydWUpO1xuXHRcdH1lbHNle1xuXHRcdFx0Ly8gaGFuZGxlIG5vbi1CbG9iKCkrbm9uLVVSTCBicm93c2Vyczpcblx0XHRcdGlmKHR5cGVvZiBibG9iID09PSBcInN0cmluZ1wiIHx8IGJsb2IuY29uc3RydWN0b3I9PT10b1N0cmluZyApe1xuXHRcdFx0XHR0cnl7XG5cdFx0XHRcdFx0cmV0dXJuIHNhdmVyKCBcImRhdGE6XCIgKyAgbWltZVR5cGUgICArIFwiO2Jhc2U2NCxcIiAgKyAgc2VsZi5idG9hKGJsb2IpICApO1xuXHRcdFx0XHR9Y2F0Y2goeSl7XG5cdFx0XHRcdFx0cmV0dXJuIHNhdmVyKCBcImRhdGE6XCIgKyAgbWltZVR5cGUgICArIFwiLFwiICsgZW5jb2RlVVJJQ29tcG9uZW50KGJsb2IpICApO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cblx0XHRcdC8vIEJsb2IgYnV0IG5vdCBVUkwgc3VwcG9ydDpcblx0XHRcdHJlYWRlcj1uZXcgRmlsZVJlYWRlcigpO1xuXHRcdFx0cmVhZGVyLm9ubG9hZD1mdW5jdGlvbihlKXtcblx0XHRcdFx0c2F2ZXIodGhpcy5yZXN1bHQpO1xuXHRcdFx0fTtcblx0XHRcdHJlYWRlci5yZWFkQXNEYXRhVVJMKGJsb2IpO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJ1ZTtcblx0fTsgLyogZW5kIGRvd25sb2FkKCkgKi9cbn0pKTtcbiJdfQ=="}