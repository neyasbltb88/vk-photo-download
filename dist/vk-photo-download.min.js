!function i(s,r,l){function c(n,t){if(!r[n]){if(!s[n]){var e="function"==typeof require&&require;if(!t&&e)return e(n,!0);if(d)return d(n,!0);var o=new Error("Cannot find module '"+n+"'");throw o.code="MODULE_NOT_FOUND",o}var a=r[n]={exports:{}};s[n][0].call(a.exports,function(t){return c(s[n][1][t]||t)},a,a.exports,i,s,r,l)}return r[n].exports}for(var d="function"==typeof require&&require,t=0;t<l.length;t++)c(l[t]);return c}({1:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o,a=(o=t("downloadjs"))&&o.__esModule?o:{default:o};function i(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var s=function(){function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.PhotoDownload=t.PhotoDownload,this.default_event_name="click",this.handlers={testHandler:this._testHandler,preventHandler:this._preventHandler,preventStopHandler:this._preventStopHandler,newTabHandler:this._newTabHandler,downloadHandler:this._downloadHandler}}var t,e,o;return t=n,(e=[{key:"set",value:function(n,t){var e=this,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.default_event_name;if(!n||!t)return!1;var a=!0;return this.removeAll(n,o),t instanceof Array?t.forEach(function(t){e.add(n,t,o)}):"string"==typeof t?this.add(n,t,o):a=!1,a}},{key:"add",value:function(t,n){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.default_event_name;return!!(t&&n&&this.getHandler(n))&&(t.addEventListener(e,this.getHandler(n)),!0)}},{key:"remove",value:function(t,n){var e=2<arguments.length&&void 0!==arguments[2]?arguments[2]:this.default_event_name;return!!(t&&n&&this.getHandler(n))&&(t.removeEventListener(e,this.getHandler(n)),!0)}},{key:"removeAll",value:function(t){var n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:this.default_event_name;if(!t)return!1;for(var e in this.handlers)t.removeEventListener(n,this.getHandler(e));return!0}},{key:"getHandlersNames",value:function(){return Object.keys(this.handlers)}},{key:"getHandlers",value:function(){return this.handlers}},{key:"getHandler",value:function(t){return this.handlers[t]}},{key:"_testHandler",value:function(){alert("_testHandler")}},{key:"_preventHandler",value:function(t){return t.preventDefault(),!1}},{key:"_preventStopHandler",value:function(t){return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),!1}},{key:"_newTabHandler",value:function(){return!0}},{key:"_downloadHandler",value:function(t){return t.preventDefault(),(0,a.default)(t.currentTarget.href),!1}}])&&i(t.prototype,e),o&&i(t,o),n}();e.default=s},{downloadjs:5}],2:[function(t,n,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var a=o(t("./templates")),i=o(t("./handlers"));function o(t){return t&&t.__esModule?t:{default:t}}function s(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}var r=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,e);var n=this;this.imgContainer_id="pv_photo",this.selectors={_prefix:"PhotoDownload",photoDownload_id:"PhotoDownload",imgContainer_class:"pv_image_wrap",style_id:"PhotoDownloadStyle",PhotoDownload_btn:"PhotoDownload_btn",PhotoDownload_icon:"PhotoDownload_icon",PhotoDownload_size:"PhotoDownload_size",non_size:"non_size",ready:"ready",settings:"settings",settings_open:"settings_open",download_mode_true:"download_mode_true",download_mode_false:"download_mode_false",sett:{settings_wrap:"settings_wrap",settings:"settings",settings_header:"settings_header",settings_header_ico:"settings_header_ico",settings_header_text:"settings_header_text",settings_body:"settings_body",settings_mode:"settings_mode",settings_item:"settings_item"},btn:{},get:function(t){t=t.split(".");var n=!1,e=this;return e=1===t.length?this[t]:(t.forEach(function(t){try{e=e[t]}catch(t){n=!0}}),n?void 0:"".concat(this._prefix,"_").concat(e))}},this.triggers={mouseover:[{type:"id",selector:this.imgContainer_id,handler:this._updateBtn,child:!0},{type:"class",selector:this.selectors.PhotoDownload_btn,handler:this._updateBtn,child:!0}]},this.flag_download={_flag:t.download,get flag(){return this._flag},set flag(t){"boolean"==typeof t&&(this._flag=t,n._addBtnHandlers(this._flag))}},this.wrap=null,this.template=new a.default({selectors:this.selectors}),this.handlers=new i.default({PhotoDownload:this}),this.init()}var t,n,o;return t=e,(n=[{key:"_addBtnHandlers",value:function(){if(!this.wrap)return!1;var t=this.wrap.querySelector("."+this.selectors.PhotoDownload_btn);this.flag_download.flag?this.handlers.set(t,"downloadHandler"):this.handlers.set(t,"newTabHandler")}},{key:"_updateBtn",value:function(t){this.parent=t.closest("."+this.selectors.imgContainer_class),this.parent.querySelector("#"+this.selectors.photoDownload_id)||(this.wrap=this.template.createDownloadContainer(this.parent),this._addBtnHandlers());var n=this.wrap.querySelector("."+this.selectors.PhotoDownload_btn),e=this.wrap.querySelector("."+this.selectors.PhotoDownload_size),o=window.Photoview.genData(window.cur.pvCurPhoto);n.href!==o.src&&(n.href=o.src,this.template.setSize(e,o))}},{key:"_checkComplianceChild",value:function(t,n){var e="id"===n.type?t.closest("#"+n.selector):t.closest("."+n.selector);e&&this._checkComplianceTarget(e,n)}},{key:"_checkComplianceTarget",value:function(t,n){var e=!1;return"id"===n.type&&t.id===n.selector&&(e=!0,n.handler&&n.handler.call(this,t)),"class"===n.type&&t.classList.contains(n.selector)&&(e=!0,n.handler&&n.handler.call(this,t)),e}},{key:"_watchTrigger",value:function(t){var n=this,e=this.triggers[t.type];if(void 0!==e){var o=t.target;e.forEach(function(t){!n._checkComplianceTarget(o,t)&&t.child&&n._checkComplianceChild(o,t)})}}},{key:"_initWatcher",value:function(){var n=this;Object.keys(this.triggers).forEach(function(t){return document.addEventListener(t,n._watchTrigger.bind(n))})}},{key:"_injectCSS",value:function(){var t=document.createElement("style");t.id=this.selectors.style_id,t.textContent=this.template.getStyleContent(),document.head.appendChild(t)}},{key:"init",value:function(){console.log("%c%s",window.log_color?window.log_color.blue:"","PhotoDownload: Init"),this._injectCSS(),this._initWatcher()}}])&&s(t.prototype,n),o&&s(t,o),e}();e.default=r},{"./handlers":1,"./templates":3}],3:[function(t,n,e){"use strict";function a(t,n){for(var e=0;e<n.length;e++){var o=n[e];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,o.key,o)}}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=function(){function n(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n),this.sel=t.selectors,this.icons={_colors:{green:"#00B75A",red:"#F92672",white:"#FFFFFF",yellow:"#FFC000"},_prefix:"data:image/svg+xml;charset=utf-8,",_template:{arrow:'<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" version="1.1" viewBox="0 0 16 16">\n                                <path fill="{{color}}" d="M 4,0 4,8 0,8 8,16 16,8 12,8 12,0 4,0 z"/>\n                            </svg>',ok:'<svg xmlns="http://www.w3.org/2000/svg" width="512" height="512" version="1.1" viewbox="0 0 512 512">\n                            <path fill="{{color}}" d="M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"></path>\n                        </svg>',cog:'<svg class="cog" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 435.29151 456.46127" version="1.1" width="435.2915" height="456.46127">\n                            <g transform="translate(-155.4149,40.478503)">\n                                <path class="cog_path" style="display:inline;stroke:{{color}};stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-opacity:1"\n                                    d="m 258.15264,70.630447 c 25.28637,-22.526545 48.63737,-34.408525 71.039,-41.069 v -53.478 c 30.41876,-5.863806 59.48563,-4.968141 87.738,0 v 53.479 c 28.8038,8.565535 51.61963,23.119045 71.039,41.069 l 46.309,-26.759995 c 21.86242,23.783755 35.04856,49.293465 43.929,75.968998 l -46.329,26.74 c 6.50875,27.35967 6.5082,54.71933 0,82.079 l 46.329,26.74 c -8.99458,28.70805 -24.09088,53.75507 -43.929,75.957 l -46.309,-26.74 c -22.06268,20.9628 -46.09268,33.0726 -71.039,41.059 v 53.479 c -31.59152,6.25473 -60.47926,5.29935 -87.738,0 v -53.479 c -25.4605,-7.63148 -49.19415,-21.13429 -71.039,-41.059 l -46.309,26.74 c -20.18428,-21.75708 -33.84909,-47.70525 -43.929,-75.958 l 46.329,-26.74 c -7.19947,-30.9594 -5.78496,-57.61181 0,-82.079 l -46.329,-26.74 c 10.39157,-30.733913 25.59075,-55.349053 43.929,-75.968998 z"/>\n                            </g>\n                            <g transform="translate(-2.3153218e-6)">\n                                <g transform="translate(-9.9997883,-9.9949418)">\n                                    <circle class="cog_circle" cx="227.64554" cy="238.22559" r="78.324982"\n                                        style="stroke:{{color}};stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1"/>\n                                </g>\n                            </g>\n                        </svg>',circle:'<svg viewBox="0 0 512 512" width="512" height="512" xmlns="http://www.w3.org/2000/svg">\n                                <path fill="{{color}}" d="M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200z"></path>\n                            </svg>',check_circle:'<svg viewBox="0 0 512 512" width="512" height="512" xmlns="http://www.w3.org/2000/svg">\n                                    <path fill="{{color}}" d="M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"></path>\n                                </svg>'},_temp:function(t,n){return(this._template[t]?this._template[t]:this._template.arrow).replace(/\{\{.*\}\}/gm,n||"white")},get:function(t,n){var e=!(2<arguments.length&&void 0!==arguments[2])||arguments[2],o=this._colors[t]?this._colors[t]:t,a=this._temp(n,o).replace(/[\s]{2,}/gm," ");return e?this._prefix+encodeURIComponent(a):a}}}var t,e,o;return t=n,(e=[{key:"setSize",value:function(t,n){n.width&&n.height?(t.classList.remove(this.sel.non_size),t.textContent="".concat(n.width,"x").concat(n.height)):(t.classList.add(this.sel.non_size),t.textContent="")}},{key:"createDownloadContainer",value:function(t){var n=this,e=document.createElement("div");return e.id=this.sel.photoDownload_id,e.innerHTML=this.getInnerElems(),setTimeout(function(){e.classList.add(n.sel.ready),e.classList.add(n.sel.settings),e.classList.add(n.sel.settings_open)},0),t.appendChild(e),e}},{key:"getInnerElems",value:function(){return'\n            <div class="'.concat(this.sel.get("sett.settings_wrap"),'">\n                <div class="').concat(this.sel.get("sett.settings"),'">\n                    <div class="').concat(this.sel.get("sett.settings_header"),'">\n                        <div class="').concat(this.sel.get("sett.settings_header_ico"),'"></div>\n                        <div class="').concat(this.sel.get("sett.settings_header_text"),'">Режим клика</div>\n                    </div>\n                    <div class="').concat(this.sel.get("sett.settings_body"),'">\n                        <ul class="').concat(this.sel.get("sett.settings_mode"),'">\n                            <li class="').concat(this.sel.get("sett.settings_item"),'">\n                                <input type="radio" id="').concat(this.sel.download_mode_true,'" name="download_mode" value="true" checked>\n                                <label for="').concat(this.sel.download_mode_true,'" class="PhotoDownload_settings_item_action">Скачать</label>\n                            </li>\n                            <li class="').concat(this.sel.get("sett.settings_item"),'">\n                                <input type="radio" id="').concat(this.sel.download_mode_false,'" name="download_mode" value="false">\n                                <label for="').concat(this.sel.download_mode_false,'" class="PhotoDownload_settings_item_action">В новой вкладке</label>\n                            </li>\n                        </ul>\n                    </div>\n                </div>\n\n            </div>\n\n            <a class="PhotoDownload_btn" href="./y_ea4003ce.jpg" target="_blank" draggable="false">\n                <div class="PhotoDownload_icon">\n                    ').concat(this.icons.get("green","cog",!1),'\n                </div>\n                <div class="PhotoDownload_main_title_wrap">\n                    <div class="PhotoDownload_main_title_inner">\n                        <div class="PhotoDownload_size"></div>\n                        <div class="PhotoDownload_settings_title">Настройки</div>\n                    </div>\n                </div>\n            </a>\n        ')}},{key:"getStyleContent",value:function(){return"\n            #PhotoDownload {\n                background-color: transparent;\n                border-top-left-radius: 0;\n                color: #C3CFE0;\n                display: flex;\n                flex-direction: column;\n                position: absolute;\n                bottom: 0;\n                left: 100%;\n                opacity: 0;\n                transform: translate3d(-38px, 0, 1px);\n                will-change: transform, opacity;\n                transition: opacity .25s ease-in-out, transform .25s ease-in-out !important;\n            }\n            \n            .pv_image_wrap:hover #PhotoDownload.ready {\n                opacity: .3;\n            }\n            \n            .pv_image_wrap #PhotoDownload.ready:hover {\n                opacity: .8;\n                transform: translate3d(-100%, 0, 1px);\n            }\n            \n            .PhotoDownload_btn {\n                display: flex;\n                align-items: center;\n                padding: 10px;\n                background-color: #000;\n                border-top-left-radius: 4px;\n                color: #C3CFE0 !important;\n            }\n            \n            .PhotoDownload_btn:hover {\n                text-decoration: none;\n            }\n            \n            .PhotoDownload_icon {\n                background-image: url('".concat(this.icons.get("white","arrow"),"');\n                background-size: contain;\n                background-repeat: no-repeat;\n                height: 18px;\n                width: 18px;\n            }\n            \n            .PhotoDownload_btn:hover .PhotoDownload_icon {\n                background-image: url('").concat(this.icons.get("green","arrow"),"');\n            }\n            \n            #PhotoDownload .PhotoDownload_size:not(.non_size) {\n                padding-left: 10px;\n                color: #C3CFE0 !important;\n                flex-grow: 1;\n                text-align: center;\n            }\n            \n            #PhotoDownload.settings {\n                opacity: .8 !important;\n                transform: translate3d(-100%, 0, 1px);\n            }\n            \n            #PhotoDownload.settings .PhotoDownload_btn {\n                border-top-left-radius: 0;\n                position: relative;\n            }\n            \n            #PhotoDownload.settings .PhotoDownload_btn:before {\n                content: '';\n                position: absolute;\n                top: -1px;\n                left: 50%;\n                transform: translateX(-50%);\n                width: calc(100% - 30px);\n                height: 1px;\n                background-color: rgba(255, 255, 255, .1);\n            }\n            \n            .PhotoDownload_main_title_wrap {\n                flex-grow: 1;\n                height: 14px;\n                overflow: hidden;\n                text-align: center;\n                user-select: none;\n            }\n            \n            #").concat(this.sel.get("photoDownload_id")," .PhotoDownload_main_title_inner {\n                will-change: transform;\n                transition: transform .25s ease-out !important;\n            }\n            \n            .PhotoDownload_main_title_inner * {\n                margin-bottom: 14px;\n            }\n            \n            #PhotoDownload.settings .PhotoDownload_main_title_inner {\n                transform: translate3d(0, -28px, 1px);\n            }\n            \n            #PhotoDownload.settings .PhotoDownload_icon {\n                background-image: none;\n            }\n            \n            #PhotoDownload.settings .PhotoDownload_icon .cog {\n                width: 18px;\n                height: 18px;\n                transform: rotate(30deg);\n            }\n            \n            #PhotoDownload:not(.settings) .").concat(this.sel.get("sett.settings_wrap")," {\n                height: 0;\n                overflow: hidden;\n            }\n            \n            #PhotoDownload.settings .").concat(this.sel.get("sett.settings_wrap")," {\n                height: auto;\n            }\n            \n            #").concat(this.sel.get("photoDownload_id")," .").concat(this.sel.get("sett.settings")," {\n                background-color: #000;\n                border-top-left-radius: 4px;\n                font-size: 12px;\n                width: 150px;\n                will-change: transform;\n                transform: translate3d(0, 100%, 1px);\n                transition: transform .25s ease-out !important;\n                user-select: none;\n            }\n            \n            #PhotoDownload.settings_open .").concat(this.sel.get("sett.settings")," {\n                transform: translate3d(0, 0%, 1px);\n            }\n            \n            .").concat(this.sel.get("sett.settings_header")," {\n                position: relative;\n                display: flex;\n                align-items: center;\n                padding-right: 16px;\n            }\n            \n            .").concat(this.sel.get("sett.settings_header"),":after {\n                content: '';\n                position: absolute;\n                bottom: 0;\n                left: 50%;\n                transform: translateX(-50%);\n                width: calc(100% - 30px);\n                height: 1px;\n                background-color: rgba(255, 255, 255, .1);\n            }\n            \n            .").concat(this.sel.get("sett.settings_body")," {\n                padding: 10px;\n            }\n            \n            .").concat(this.sel.get("sett.settings_header_ico")," {\n                background-image: url('").concat(this.icons.get("white","ok"),"');\n                background-size: 16px 16px;\n                background-position: center;\n                background-repeat: no-repeat;\n                padding: 6px 10px;\n                width: 18px;\n                height: 18px;\n                cursor: pointer;\n            }\n            \n            .").concat(this.sel.get("sett.settings_header_ico"),":hover {\n                background-image: url('").concat(this.icons.get("green","ok"),"');\n            }\n            \n            .").concat(this.sel.get("sett.settings_header_text")," {\n                text-align: right;\n                flex-grow: 1;\n                cursor: default;\n                font-weight: bold;\n            }\n            \n            .").concat(this.sel.get("sett.settings_mode")," {\n                padding: 0;\n                margin: 0;\n                list-style: none;\n                display: flex;\n                flex-direction: column;\n            }\n            \n            .").concat(this.sel.get("sett.settings_item")," {\n                display: flex;\n                align-items: center;\n                position: relative;\n                cursor: pointer;\n            }\n            \n            .").concat(this.sel.get("sett.settings_item"),":not(:last-child) {\n                margin-bottom: 5px;\n            }\n            \n            .").concat(this.sel.get("sett.settings_item")," input[type=radio] {\n                margin: 0;\n                display: none;\n            }\n            \n            .PhotoDownload_settings_item_action {\n                display: flex;\n                align-items: center;\n                width: 100%;\n                height: 18px;\n                padding-left: 20px;\n                cursor: pointer;\n                background-image: url('").concat(this.icons.get("white","circle"),"');\n                background-size: 14px 14px;\n                background-repeat: no-repeat;\n                background-position: 0 center;\n            }\n            \n            .PhotoDownload_settings_item_action:hover {\n                background-image: url('").concat(this.icons.get("green","circle"),"');\n            }\n            \n            .").concat(this.sel.get("sett.settings_item")," input[type=radio]:checked~.PhotoDownload_settings_item_action {\n                background-image: url('").concat(this.icons.get("white","check_circle"),"');\n            }\n            \n            .").concat(this.sel.get("sett.settings_item")," input[type=radio]:checked~.PhotoDownload_settings_item_action:hover {\n                background-image: url('").concat(this.icons.get("green","check_circle"),"');\n            }\n            \n            #").concat(this.sel.get("photoDownload_id")," .cog .cog_path {\n                fill: none;\n                fill-opacity: 0;\n                stroke-width: 25;\n                stroke-dasharray: 1669;\n                stroke-dashoffset: 1669;\n                transition: stroke-dashoffset .1s linear, fill-opacity .1s ease-out !important;\n            }\n            \n            .cog .cog_circle {\n                fill: none;\n                fill-opacity: 0;\n                stroke-width: 25;\n            }\n            \n            #").concat(this.sel.get("photoDownload_id")," .cog.draw .cog_path {\n                transition: stroke-dashoffset .5s linear !important;\n                stroke-dashoffset: 0;\n            }\n            \n            .cog.draw_fill .cog_path {\n                fill: #00b75a;\n                fill-opacity: 1;\n            }\n            \n            .cog.draw_fill .cog_circle {\n                fill: #000;\n                stroke-width: 15;\n                fill-opacity: 1;\n            }\n        ")}}])&&a(t.prototype,e),o&&a(t,o),n}();e.default=o},{}],4:[function(t,n,e){"use strict";var o,a=(o=t("./modules/photo-download"))&&o.__esModule?o:{default:o};window.photoDownload=new a.default({download:!0})},{"./modules/photo-download":2}],5:[function(t,n,e){var o,a;o=this,a=function(){return function n(t,e,o){var a,i,s=window,r="application/octet-stream",l=o||r,c=t,d=!e&&!o&&c,h=document.createElement("a"),g=function(t){return String(t)},u=s.Blob||s.MozBlob||s.WebKitBlob||g,p=e||"download";if(u=u.call?u.bind(s):Blob,"true"===String(this)&&(l=(c=[c,l])[0],c=c[1]),d&&d.length<2048&&(p=d.split("/").pop().split("?")[0],h.href=d,-1!==h.href.indexOf(d))){var f=new XMLHttpRequest;return f.open("GET",d,!0),f.responseType="blob",f.onload=function(t){n(t.target.response,p,r)},setTimeout(function(){f.send()},0),f}if(/^data:([\w+-]+\/[\w+.-]+)?[,;]/.test(c)){if(!(2096103.424<c.length&&u!==g))return navigator.msSaveBlob?navigator.msSaveBlob(m(c),p):y(c);l=(c=m(c)).type||r}else if(/([\x80-\xff])/.test(c)){for(var _=0,w=new Uint8Array(c.length),v=w.length;_<v;++_)w[_]=c.charCodeAt(_);c=new u([w],{type:l})}function m(t){for(var n=t.split(/[:;,]/),e=n[1],o=("base64"==n[2]?atob:decodeURIComponent)(n.pop()),a=o.length,i=0,s=new Uint8Array(a);i<a;++i)s[i]=o.charCodeAt(i);return new u([s],{type:e})}function y(t,n){if("download"in h)return h.href=t,h.setAttribute("download",p),h.className="download-js-link",h.innerHTML="downloading...",h.style.display="none",document.body.appendChild(h),setTimeout(function(){h.click(),document.body.removeChild(h),!0===n&&setTimeout(function(){s.URL.revokeObjectURL(h.href)},250)},66),!0;if(/(Version)\/(\d+)\.(\d+)(?:\.(\d+))?.*Safari\//.test(navigator.userAgent))return/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,r)),window.open(t)||confirm("Displaying New Document\n\nUse Save As... to download, then click back to return to this page.")&&(location.href=t),!0;var e=document.createElement("iframe");document.body.appendChild(e),!n&&/^data:/.test(t)&&(t="data:"+t.replace(/^data:([\w\/\-\+]+)/,r)),e.src=t,setTimeout(function(){document.body.removeChild(e)},333)}if(a=c instanceof u?c:new u([c],{type:l}),navigator.msSaveBlob)return navigator.msSaveBlob(a,p);if(s.URL)y(s.URL.createObjectURL(a),!0);else{if("string"==typeof a||a.constructor===g)try{return y("data:"+l+";base64,"+s.btoa(a))}catch(t){return y("data:"+l+","+encodeURIComponent(a))}(i=new FileReader).onload=function(t){y(this.result)},i.readAsDataURL(a)}return!0}},"function"==typeof define&&define.amd?define([],a):"object"==typeof e?n.exports=a():o.download=a()},{}]},{},[4]);